(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Jf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nu={exports:{}},Cl={},ru={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),Xf=Symbol.for("react.portal"),Yf=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),nm=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),lm=Symbol.for("react.memo"),om=Symbol.for("react.lazy"),_i=Symbol.iterator;function am(e){return e===null||typeof e!="object"?null:(e=_i&&e[_i]||e["@@iterator"],typeof e=="function"?e:null)}var su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lu=Object.assign,ou={};function ur(e,t,n){this.props=e,this.context=t,this.refs=ou,this.updater=n||su}ur.prototype.isReactComponent={};ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function au(){}au.prototype=ur.prototype;function Ea(e,t,n){this.props=e,this.context=t,this.refs=ou,this.updater=n||su}var Oa=Ea.prototype=new au;Oa.constructor=Ea;lu(Oa,ur.prototype);Oa.isPureReactComponent=!0;var Ri=Array.isArray,iu=Object.prototype.hasOwnProperty,_a={current:null},cu={key:!0,ref:!0,__self:!0,__source:!0};function uu(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)iu.call(t,r)&&!cu.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:ls,type:e,key:l,ref:a,props:s,_owner:_a.current}}function im(e,t){return{$$typeof:ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ra(e){return typeof e=="object"&&e!==null&&e.$$typeof===ls}function cm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ti=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cm(""+e.key):t.toString(36)}function Ds(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ls:case Xf:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Ql(a,0):r,Ri(s)?(n="",e!=null&&(n=e.replace(Ti,"$&/")+"/"),Ds(s,t,n,"",function(u){return u})):s!=null&&(Ra(s)&&(s=im(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ti,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ri(e))for(var i=0;i<e.length;i++){l=e[i];var c=r+Ql(l,i);a+=Ds(l,t,n,c,s)}else if(c=am(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=r+Ql(l,i++),a+=Ds(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xs(e,t,n){if(e==null)return e;var r=[],s=0;return Ds(e,r,"","",function(l){return t.call(n,l,s++)}),r}function um(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},As={transition:null},dm={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:As,ReactCurrentOwner:_a};function du(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:xs,forEach:function(e,t,n){xs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xs(e,function(){t++}),t},toArray:function(e){return xs(e,function(t){return t})||[]},only:function(e){if(!Ra(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=ur;Z.Fragment=Yf;Z.Profiler=em;Z.PureComponent=Ea;Z.StrictMode=Zf;Z.Suspense=sm;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dm;Z.act=du;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lu({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=_a.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)iu.call(t,c)&&!cu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];r.children=i}return{$$typeof:ls,type:e.type,key:s,ref:l,props:r,_owner:a}};Z.createContext=function(e){return e={$$typeof:nm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tm,_context:e},e.Consumer=e};Z.createElement=uu;Z.createFactory=function(e){var t=uu.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:rm,render:e}};Z.isValidElement=Ra;Z.lazy=function(e){return{$$typeof:om,_payload:{_status:-1,_result:e},_init:um}};Z.memo=function(e,t){return{$$typeof:lm,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=As.transition;As.transition={};try{e()}finally{As.transition=t}};Z.unstable_act=du;Z.useCallback=function(e,t){return Ve.current.useCallback(e,t)};Z.useContext=function(e){return Ve.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Ve.current.useEffect(e,t)};Z.useId=function(){return Ve.current.useId()};Z.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Ve.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};Z.useRef=function(e){return Ve.current.useRef(e)};Z.useState=function(e){return Ve.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Ve.current.useTransition()};Z.version="18.3.1";ru.exports=Z;var _=ru.exports;const fm=Jf(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=_,pm=Symbol.for("react.element"),hm=Symbol.for("react.fragment"),xm=Object.prototype.hasOwnProperty,gm=mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ym={key:!0,ref:!0,__self:!0,__source:!0};function fu(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)xm.call(t,r)&&!ym.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:pm,type:e,key:l,ref:a,props:s,_owner:gm.current}}Cl.Fragment=hm;Cl.jsx=fu;Cl.jsxs=fu;nu.exports=Cl;var o=nu.exports,Oo={},mu={exports:{}},it={},pu={exports:{}},hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,$){var M=j.length;j.push($);e:for(;0<M;){var L=M-1>>>1,G=j[L];if(0<s(G,$))j[L]=$,j[M]=G,M=L;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],M=j.pop();if(M!==$){j[0]=M;e:for(var L=0,G=j.length,X=G>>>1;L<X;){var te=2*(L+1)-1,le=j[te],pe=te+1,Ne=j[pe];if(0>s(le,M))pe<G&&0>s(Ne,le)?(j[L]=Ne,j[pe]=M,L=pe):(j[L]=le,j[te]=M,L=te);else if(pe<G&&0>s(Ne,M))j[L]=Ne,j[pe]=M,L=pe;else break e}}return $}function s(j,$){var M=j.sortIndex-$.sortIndex;return M!==0?M:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var c=[],u=[],f=1,m=null,h=3,v=!1,y=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function S(j){if(x=!1,p(j),!y)if(n(c)!==null)y=!0,A(b);else{var $=n(u);$!==null&&Y(S,$.startTime-j)}}function b(j,$){y=!1,x&&(x=!1,g(T),T=-1),v=!0;var M=h;try{for(p($),m=n(c);m!==null&&(!(m.expirationTime>$)||j&&!se());){var L=m.callback;if(typeof L=="function"){m.callback=null,h=m.priorityLevel;var G=L(m.expirationTime<=$);$=e.unstable_now(),typeof G=="function"?m.callback=G:m===n(c)&&r(c),p($)}else r(c);m=n(c)}if(m!==null)var X=!0;else{var te=n(u);te!==null&&Y(S,te.startTime-$),X=!1}return X}finally{m=null,h=M,v=!1}}var R=!1,E=null,T=-1,H=5,z=-1;function se(){return!(e.unstable_now()-z<H)}function Q(){if(E!==null){var j=e.unstable_now();z=j;var $=!0;try{$=E(!0,j)}finally{$?P():(R=!1,E=null)}}else R=!1}var P;if(typeof d=="function")P=function(){d(Q)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=Q,P=function(){K.postMessage(null)}}else P=function(){N(Q,0)};function A(j){E=j,R||(R=!0,P())}function Y(j,$){T=N(function(){j(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,A(b))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var M=h;h=$;try{return j()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var M=h;h=j;try{return $()}finally{h=M}},e.unstable_scheduleCallback=function(j,$,M){var L=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?L+M:L):M=L,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,j={id:f++,callback:$,priorityLevel:j,startTime:M,expirationTime:G,sortIndex:-1},M>L?(j.sortIndex=M,t(u,j),n(c)===null&&j===n(u)&&(x?(g(T),T=-1):x=!0,Y(S,M-L))):(j.sortIndex=G,t(c,j),y||v||(y=!0,A(b))),j},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(j){var $=h;return function(){var M=h;h=$;try{return j.apply(this,arguments)}finally{h=M}}}})(hu);pu.exports=hu;var vm=pu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=_,at=vm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xu=new Set,Ur={};function $n(e,t){nr(e,t),nr(e+"Capture",t)}function nr(e,t){for(Ur[e]=t,e=0;e<t.length;e++)xu.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=Object.prototype.hasOwnProperty,Sm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mi={},$i={};function Nm(e){return _o.call($i,e)?!0:_o.call(Mi,e)?!1:Sm.test(e)?$i[e]=!0:(Mi[e]=!0,!1)}function jm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function km(e,t,n,r){if(t===null||typeof t>"u"||jm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ta=/[\-:]([a-z])/g;function Ma(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ta,Ma);Pe[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ta,Ma);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ta,Ma);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function $a(e,t,n,r){var s=Pe.hasOwnProperty(t)?Pe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(km(t,n,s,r)&&(n=null),r||s===null?Nm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vt=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),La=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),gu=Symbol.for("react.provider"),yu=Symbol.for("react.context"),Pa=Symbol.for("react.forward_ref"),To=Symbol.for("react.suspense"),Mo=Symbol.for("react.suspense_list"),Ia=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),vu=Symbol.for("react.offscreen"),Li=Symbol.iterator;function gr(e){return e===null||typeof e!="object"?null:(e=Li&&e[Li]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,ql;function br(e){if(ql===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ql=t&&t[1]||""}return`
`+ql+e}var Jl=!1;function Xl(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,i=l.length-1;1<=a&&0<=i&&s[a]!==l[i];)i--;for(;1<=a&&0<=i;a--,i--)if(s[a]!==l[i]){if(a!==1||i!==1)do if(a--,i--,0>i||s[a]!==l[i]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?br(e):""}function Cm(e){switch(e.tag){case 5:return br(e.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function $o(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dn:return"Fragment";case zn:return"Portal";case Ro:return"Profiler";case La:return"StrictMode";case To:return"Suspense";case Mo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yu:return(e.displayName||"Context")+".Consumer";case gu:return(e._context.displayName||"Context")+".Provider";case Pa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ia:return t=e.displayName||null,t!==null?t:$o(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return $o(e(t))}catch{}}return null}function bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $o(t);case 8:return t===La?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Em(e){var t=wu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=Em(e))}function Su(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function el(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lo(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nu(e,t){t=t.checked,t!=null&&$a(e,"checked",t,!1)}function Po(e,t){Nu(e,t);var n=cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Io(e,t.type,n):t.hasOwnProperty("defaultValue")&&Io(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ii(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Io(e,t,n){(t!=="number"||el(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Jn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Er(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function ju(e,t){var n=cn(t.value),r=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Di(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ku(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Do(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ku(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,Cu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Om=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(e){Om.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mr[t]=Mr[e]})});function bu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mr.hasOwnProperty(e)&&Mr[e]?(""+t).trim():t+"px"}function Eu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=bu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _m=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(_m[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bo=null,Xn=null,Yn=null;function Ai(e){if(e=is(e)){if(typeof Bo!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Rl(t),Bo(e.stateNode,e.type,t))}}function Ou(e){Xn?Yn?Yn.push(e):Yn=[e]:Xn=e}function _u(){if(Xn){var e=Xn,t=Yn;if(Yn=Xn=null,Ai(e),t)for(e=0;e<t.length;e++)Ai(t[e])}}function Ru(e,t){return e(t)}function Tu(){}var Yl=!1;function Mu(e,t,n){if(Yl)return e(t,n);Yl=!0;try{return Ru(e,t,n)}finally{Yl=!1,(Xn!==null||Yn!==null)&&(Tu(),_u())}}function Gr(e,t){var n=e.stateNode;if(n===null)return null;var r=Rl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Go=!1;if(Ut)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Go=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Go=!1}function Rm(e,t,n,r,s,l,a,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var $r=!1,tl=null,nl=!1,Ho=null,Tm={onError:function(e){$r=!0,tl=e}};function Mm(e,t,n,r,s,l,a,i,c){$r=!1,tl=null,Rm.apply(Tm,arguments)}function $m(e,t,n,r,s,l,a,i,c){if(Mm.apply(this,arguments),$r){if($r){var u=tl;$r=!1,tl=null}else throw Error(O(198));nl||(nl=!0,Ho=u)}}function Ln(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fi(e){if(Ln(e)!==e)throw Error(O(188))}function Lm(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Fi(s),e;if(l===r)return Fi(s),t;l=l.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a){for(i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Lu(e){return e=Lm(e),e!==null?Pu(e):null}function Pu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pu(e);if(t!==null)return t;e=e.sibling}return null}var Iu=at.unstable_scheduleCallback,Ui=at.unstable_cancelCallback,Pm=at.unstable_shouldYield,Im=at.unstable_requestPaint,je=at.unstable_now,zm=at.unstable_getCurrentPriorityLevel,Da=at.unstable_ImmediatePriority,zu=at.unstable_UserBlockingPriority,rl=at.unstable_NormalPriority,Dm=at.unstable_LowPriority,Du=at.unstable_IdlePriority,bl=null,Tt=null;function Am(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(bl,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Bm,Fm=Math.log,Um=Math.LN2;function Bm(e){return e>>>=0,e===0?32:31-(Fm(e)/Um|0)|0}var ws=64,Ss=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~s;i!==0?r=Or(i):(l&=a,l!==0&&(r=Or(l)))}else a=n&~s,a!==0?r=Or(a):l!==0&&(r=Or(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),s=1<<n,r|=e[n],t&=~s;return r}function Gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-St(l),i=1<<a,c=s[a];c===-1?(!(i&n)||i&r)&&(s[a]=Gm(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function Vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Au(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function Zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Vm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-St(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Aa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ie=0;function Fu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uu,Fa,Bu,Gu,Hu,Wo=!1,Ns=[],en=null,tn=null,nn=null,Hr=new Map,Vr=new Map,Jt=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bi(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Hr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(t.pointerId)}}function vr(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=is(t),t!==null&&Fa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Km(e,t,n,r,s){switch(t){case"focusin":return en=vr(en,e,t,n,r,s),!0;case"dragenter":return tn=vr(tn,e,t,n,r,s),!0;case"mouseover":return nn=vr(nn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Hr.set(l,vr(Hr.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Vr.set(l,vr(Vr.get(l)||null,e,t,n,r,s)),!0}return!1}function Vu(e){var t=yn(e.target);if(t!==null){var n=Ln(t);if(n!==null){if(t=n.tag,t===13){if(t=$u(n),t!==null){e.blockedOn=t,Hu(e.priority,function(){Bu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ko(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Uo=r,n.target.dispatchEvent(r),Uo=null}else return t=is(n),t!==null&&Fa(t),e.blockedOn=n,!1;t.shift()}return!0}function Gi(e,t,n){Fs(e)&&n.delete(t)}function Qm(){Wo=!1,en!==null&&Fs(en)&&(en=null),tn!==null&&Fs(tn)&&(tn=null),nn!==null&&Fs(nn)&&(nn=null),Hr.forEach(Gi),Vr.forEach(Gi)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Wo||(Wo=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Qm)))}function Wr(e){function t(s){return wr(s,e)}if(0<Ns.length){wr(Ns[0],e);for(var n=1;n<Ns.length;n++){var r=Ns[n];r.blockedOn===e&&(r.blockedOn=null)}}for(en!==null&&wr(en,e),tn!==null&&wr(tn,e),nn!==null&&wr(nn,e),Hr.forEach(t),Vr.forEach(t),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)Vu(n),n.blockedOn===null&&Jt.shift()}var Zn=Vt.ReactCurrentBatchConfig,ll=!0;function qm(e,t,n,r){var s=ie,l=Zn.transition;Zn.transition=null;try{ie=1,Ua(e,t,n,r)}finally{ie=s,Zn.transition=l}}function Jm(e,t,n,r){var s=ie,l=Zn.transition;Zn.transition=null;try{ie=4,Ua(e,t,n,r)}finally{ie=s,Zn.transition=l}}function Ua(e,t,n,r){if(ll){var s=Ko(e,t,n,r);if(s===null)co(e,t,r,ol,n),Bi(e,r);else if(Km(s,e,t,n,r))r.stopPropagation();else if(Bi(e,r),t&4&&-1<Wm.indexOf(e)){for(;s!==null;){var l=is(s);if(l!==null&&Uu(l),l=Ko(e,t,n,r),l===null&&co(e,t,r,ol,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else co(e,t,r,null,n)}}var ol=null;function Ko(e,t,n,r){if(ol=null,e=za(r),e=yn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$u(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ol=e,null}function Wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zm()){case Da:return 1;case zu:return 4;case rl:case Dm:return 16;case Du:return 536870912;default:return 16}default:return 16}}var Yt=null,Ba=null,Us=null;function Ku(){if(Us)return Us;var e,t=Ba,n=t.length,r,s="value"in Yt?Yt.value:Yt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return Us=s.slice(e,1<r?1-r:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function Hi(){return!1}function ct(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?js:Hi,this.isPropagationStopped=Hi,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=ct(dr),as=ve({},dr,{view:0,detail:0}),Xm=ct(as),eo,to,Sr,El=ve({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sr&&(Sr&&e.type==="mousemove"?(eo=e.screenX-Sr.screenX,to=e.screenY-Sr.screenY):to=eo=0,Sr=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Vi=ct(El),Ym=ve({},El,{dataTransfer:0}),Zm=ct(Ym),ep=ve({},as,{relatedTarget:0}),no=ct(ep),tp=ve({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),np=ct(tp),rp=ve({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sp=ct(rp),lp=ve({},dr,{data:0}),Wi=ct(lp),op={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ip[e])?!!t[e]:!1}function Ha(){return cp}var up=ve({},as,{key:function(e){if(e.key){var t=op[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ap[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dp=ct(up),fp=ve({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=ct(fp),mp=ve({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),pp=ct(mp),hp=ve({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xp=ct(hp),gp=ve({},El,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yp=ct(gp),vp=[9,13,27,32],Va=Ut&&"CompositionEvent"in window,Lr=null;Ut&&"documentMode"in document&&(Lr=document.documentMode);var wp=Ut&&"TextEvent"in window&&!Lr,Qu=Ut&&(!Va||Lr&&8<Lr&&11>=Lr),Qi=" ",qi=!1;function qu(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var An=!1;function Sp(e,t){switch(e){case"compositionend":return Ju(t);case"keypress":return t.which!==32?null:(qi=!0,Qi);case"textInput":return e=t.data,e===Qi&&qi?null:e;default:return null}}function Np(e,t){if(An)return e==="compositionend"||!Va&&qu(e,t)?(e=Ku(),Us=Ba=Yt=null,An=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qu&&t.locale!=="ko"?null:t.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ji(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jp[e.type]:t==="textarea"}function Xu(e,t,n,r){Ou(r),t=al(t,"onChange"),0<t.length&&(n=new Ga("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Kr=null;function kp(e){id(e,0)}function Ol(e){var t=Bn(e);if(Su(t))return e}function Cp(e,t){if(e==="change")return t}var Yu=!1;if(Ut){var ro;if(Ut){var so="oninput"in document;if(!so){var Xi=document.createElement("div");Xi.setAttribute("oninput","return;"),so=typeof Xi.oninput=="function"}ro=so}else ro=!1;Yu=ro&&(!document.documentMode||9<document.documentMode)}function Yi(){Pr&&(Pr.detachEvent("onpropertychange",Zu),Kr=Pr=null)}function Zu(e){if(e.propertyName==="value"&&Ol(Kr)){var t=[];Xu(t,Kr,e,za(e)),Mu(kp,t)}}function bp(e,t,n){e==="focusin"?(Yi(),Pr=t,Kr=n,Pr.attachEvent("onpropertychange",Zu)):e==="focusout"&&Yi()}function Ep(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Kr)}function Op(e,t){if(e==="click")return Ol(t)}function _p(e,t){if(e==="input"||e==="change")return Ol(t)}function Rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Rp;function Qr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_o.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function Zi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ec(e,t){var n=Zi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zi(n)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(){for(var e=window,t=el();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=el(e.document)}return t}function Wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tp(e){var t=td(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ed(n.ownerDocument.documentElement,n)){if(r!==null&&Wa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=ec(n,l);var a=ec(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=Ut&&"documentMode"in document&&11>=document.documentMode,Fn=null,Qo=null,Ir=null,qo=!1;function tc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qo||Fn==null||Fn!==el(r)||(r=Fn,"selectionStart"in r&&Wa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Qr(Ir,r)||(Ir=r,r=al(Qo,"onSelect"),0<r.length&&(t=new Ga("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},lo={},nd={};Ut&&(nd=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function _l(e){if(lo[e])return lo[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nd)return lo[e]=t[n];return e}var rd=_l("animationend"),sd=_l("animationiteration"),ld=_l("animationstart"),od=_l("transitionend"),ad=new Map,nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){ad.set(e,t),$n(t,[e])}for(var oo=0;oo<nc.length;oo++){var ao=nc[oo],$p=ao.toLowerCase(),Lp=ao[0].toUpperCase()+ao.slice(1);dn($p,"on"+Lp)}dn(rd,"onAnimationEnd");dn(sd,"onAnimationIteration");dn(ld,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(od,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$n("onBeforeInput",["compositionend","keypress","textInput","paste"]);$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function rc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$m(r,t,void 0,e),e.currentTarget=null}function id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==l&&s.isPropagationStopped())break e;rc(s,i,u),l=c}else for(a=0;a<r.length;a++){if(i=r[a],c=i.instance,u=i.currentTarget,i=i.listener,c!==l&&s.isPropagationStopped())break e;rc(s,i,u),l=c}}}if(nl)throw e=Ho,nl=!1,Ho=null,e}function fe(e,t){var n=t[ea];n===void 0&&(n=t[ea]=new Set);var r=e+"__bubble";n.has(r)||(cd(t,e,2,!1),n.add(r))}function io(e,t,n){var r=0;t&&(r|=4),cd(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Cs]){e[Cs]=!0,xu.forEach(function(n){n!=="selectionchange"&&(Pp.has(n)||io(n,!1,e),io(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,io("selectionchange",!1,t))}}function cd(e,t,n,r){switch(Wu(t)){case 1:var s=qm;break;case 4:s=Jm;break;default:s=Ua}n=s.bind(null,t,n,e),s=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function co(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;i!==null;){if(a=yn(i),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}i=i.parentNode}}r=r.return}Mu(function(){var u=l,f=za(n),m=[];e:{var h=ad.get(e);if(h!==void 0){var v=Ga,y=e;switch(e){case"keypress":if(Bs(n)===0)break e;case"keydown":case"keyup":v=dp;break;case"focusin":y="focus",v=no;break;case"focusout":y="blur",v=no;break;case"beforeblur":case"afterblur":v=no;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=pp;break;case rd:case sd:case ld:v=np;break;case od:v=xp;break;case"scroll":v=Xm;break;case"wheel":v=yp;break;case"copy":case"cut":case"paste":v=sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ki}var x=(t&4)!==0,N=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var d=u,p;d!==null;){p=d;var S=p.stateNode;if(p.tag===5&&S!==null&&(p=S,g!==null&&(S=Gr(d,g),S!=null&&x.push(Jr(d,S,p)))),N)break;d=d.return}0<x.length&&(h=new v(h,y,null,n,f),m.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Uo&&(y=n.relatedTarget||n.fromElement)&&(yn(y)||y[Bt]))break e;if((v||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?yn(y):null,y!==null&&(N=Ln(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(x=Vi,S="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ki,S="onPointerLeave",g="onPointerEnter",d="pointer"),N=v==null?h:Bn(v),p=y==null?h:Bn(y),h=new x(S,d+"leave",v,n,f),h.target=N,h.relatedTarget=p,S=null,yn(f)===u&&(x=new x(g,d+"enter",y,n,f),x.target=p,x.relatedTarget=N,S=x),N=S,v&&y)t:{for(x=v,g=y,d=0,p=x;p;p=Pn(p))d++;for(p=0,S=g;S;S=Pn(S))p++;for(;0<d-p;)x=Pn(x),d--;for(;0<p-d;)g=Pn(g),p--;for(;d--;){if(x===g||g!==null&&x===g.alternate)break t;x=Pn(x),g=Pn(g)}x=null}else x=null;v!==null&&sc(m,h,v,x,!1),y!==null&&N!==null&&sc(m,N,y,x,!0)}}e:{if(h=u?Bn(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var b=Cp;else if(Ji(h))if(Yu)b=_p;else{b=Ep;var R=bp}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Op);if(b&&(b=b(e,u))){Xu(m,b,n,f);break e}R&&R(e,h,u),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Io(h,"number",h.value)}switch(R=u?Bn(u):window,e){case"focusin":(Ji(R)||R.contentEditable==="true")&&(Fn=R,Qo=u,Ir=null);break;case"focusout":Ir=Qo=Fn=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,tc(m,n,f);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":tc(m,n,f)}var E;if(Va)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else An?qu(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Qu&&n.locale!=="ko"&&(An||T!=="onCompositionStart"?T==="onCompositionEnd"&&An&&(E=Ku()):(Yt=f,Ba="value"in Yt?Yt.value:Yt.textContent,An=!0)),R=al(u,T),0<R.length&&(T=new Wi(T,e,null,n,f),m.push({event:T,listeners:R}),E?T.data=E:(E=Ju(n),E!==null&&(T.data=E)))),(E=wp?Sp(e,n):Np(e,n))&&(u=al(u,"onBeforeInput"),0<u.length&&(f=new Wi("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=E))}id(m,t)})}function Jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function al(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Gr(e,n),l!=null&&r.unshift(Jr(e,l,s)),l=Gr(e,t),l!=null&&r.push(Jr(e,l,s))),e=e.return}return r}function Pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&u!==null&&(i=u,s?(c=Gr(n,l),c!=null&&a.unshift(Jr(n,c,i))):s||(c=Gr(n,l),c!=null&&a.push(Jr(n,c,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Ip=/\r\n?/g,zp=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(Ip,`
`).replace(zp,"")}function bs(e,t,n){if(t=lc(t),lc(e)!==t&&n)throw Error(O(425))}function il(){}var Jo=null,Xo=null;function Yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,Dp=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(Fp)}:Zo;function Fp(e){setTimeout(function(){throw e})}function uo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wr(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fr=Math.random().toString(36).slice(2),_t="__reactFiber$"+fr,Xr="__reactProps$"+fr,Bt="__reactContainer$"+fr,ea="__reactEvents$"+fr,Up="__reactListeners$"+fr,Bp="__reactHandles$"+fr;function yn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ac(e);e!==null;){if(n=e[_t])return n;e=ac(e)}return t}e=n,n=e.parentNode}return null}function is(e){return e=e[_t]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Rl(e){return e[Xr]||null}var ta=[],Gn=-1;function fn(e){return{current:e}}function me(e){0>Gn||(e.current=ta[Gn],ta[Gn]=null,Gn--)}function ue(e,t){Gn++,ta[Gn]=e.current,e.current=t}var un={},Ue=fn(un),Ye=fn(!1),En=un;function rr(e,t){var n=e.type.contextTypes;if(!n)return un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(e){return e=e.childContextTypes,e!=null}function cl(){me(Ye),me(Ue)}function ic(e,t,n){if(Ue.current!==un)throw Error(O(168));ue(Ue,t),ue(Ye,n)}function ud(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,bm(e)||"Unknown",s));return ve({},n,r)}function ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,En=Ue.current,ue(Ue,e),ue(Ye,Ye.current),!0}function cc(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=ud(e,t,En),r.__reactInternalMemoizedMergedChildContext=e,me(Ye),me(Ue),ue(Ue,e)):me(Ye),ue(Ye,n)}var zt=null,Tl=!1,fo=!1;function dd(e){zt===null?zt=[e]:zt.push(e)}function Gp(e){Tl=!0,dd(e)}function mn(){if(!fo&&zt!==null){fo=!0;var e=0,t=ie;try{var n=zt;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Tl=!1}catch(s){throw zt!==null&&(zt=zt.slice(e+1)),Iu(Da,mn),s}finally{ie=t,fo=!1}}return null}var Hn=[],Vn=0,dl=null,fl=0,ut=[],dt=0,On=null,Dt=1,At="";function xn(e,t){Hn[Vn++]=fl,Hn[Vn++]=dl,dl=e,fl=t}function fd(e,t,n){ut[dt++]=Dt,ut[dt++]=At,ut[dt++]=On,On=e;var r=Dt;e=At;var s=32-St(r)-1;r&=~(1<<s),n+=1;var l=32-St(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Dt=1<<32-St(t)+s|n<<s|r,At=l+e}else Dt=1<<l|n<<s|r,At=e}function Ka(e){e.return!==null&&(xn(e,1),fd(e,1,0))}function Qa(e){for(;e===dl;)dl=Hn[--Vn],Hn[Vn]=null,fl=Hn[--Vn],Hn[Vn]=null;for(;e===On;)On=ut[--dt],ut[dt]=null,At=ut[--dt],ut[dt]=null,Dt=ut[--dt],ut[dt]=null}var ot=null,lt=null,xe=!1,wt=null;function md(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,lt=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=On!==null?{id:Dt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,lt=null,!0):!1;default:return!1}}function na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ra(e){if(xe){var t=lt;if(t){var n=t;if(!uc(e,t)){if(na(e))throw Error(O(418));t=rn(n.nextSibling);var r=ot;t&&uc(e,t)?md(r,n):(e.flags=e.flags&-4097|2,xe=!1,ot=e)}}else{if(na(e))throw Error(O(418));e.flags=e.flags&-4097|2,xe=!1,ot=e}}}function dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Es(e){if(e!==ot)return!1;if(!xe)return dc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yo(e.type,e.memoizedProps)),t&&(t=lt)){if(na(e))throw pd(),Error(O(418));for(;t;)md(e,t),t=rn(t.nextSibling)}if(dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ot?rn(e.stateNode.nextSibling):null;return!0}function pd(){for(var e=lt;e;)e=rn(e.nextSibling)}function sr(){lt=ot=null,xe=!1}function qa(e){wt===null?wt=[e]:wt.push(e)}var Hp=Vt.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var i=s.refs;a===null?delete i[l]:i[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fc(e){var t=e._init;return t(e._payload)}function hd(e){function t(g,d){if(e){var p=g.deletions;p===null?(g.deletions=[d],g.flags|=16):p.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=an(g,d),g.index=0,g.sibling=null,g}function l(g,d,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<d?(g.flags|=2,d):p):(g.flags|=2,d)):(g.flags|=1048576,d)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,d,p,S){return d===null||d.tag!==6?(d=vo(p,g.mode,S),d.return=g,d):(d=s(d,p),d.return=g,d)}function c(g,d,p,S){var b=p.type;return b===Dn?f(g,d,p.props.children,S,p.key):d!==null&&(d.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Qt&&fc(b)===d.type)?(S=s(d,p.props),S.ref=Nr(g,d,p),S.return=g,S):(S=qs(p.type,p.key,p.props,null,g.mode,S),S.ref=Nr(g,d,p),S.return=g,S)}function u(g,d,p,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==p.containerInfo||d.stateNode.implementation!==p.implementation?(d=wo(p,g.mode,S),d.return=g,d):(d=s(d,p.children||[]),d.return=g,d)}function f(g,d,p,S,b){return d===null||d.tag!==7?(d=kn(p,g.mode,S,b),d.return=g,d):(d=s(d,p),d.return=g,d)}function m(g,d,p){if(typeof d=="string"&&d!==""||typeof d=="number")return d=vo(""+d,g.mode,p),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case gs:return p=qs(d.type,d.key,d.props,null,g.mode,p),p.ref=Nr(g,null,d),p.return=g,p;case zn:return d=wo(d,g.mode,p),d.return=g,d;case Qt:var S=d._init;return m(g,S(d._payload),p)}if(Er(d)||gr(d))return d=kn(d,g.mode,p,null),d.return=g,d;Os(g,d)}return null}function h(g,d,p,S){var b=d!==null?d.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:i(g,d,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gs:return p.key===b?c(g,d,p,S):null;case zn:return p.key===b?u(g,d,p,S):null;case Qt:return b=p._init,h(g,d,b(p._payload),S)}if(Er(p)||gr(p))return b!==null?null:f(g,d,p,S,null);Os(g,p)}return null}function v(g,d,p,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(p)||null,i(d,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gs:return g=g.get(S.key===null?p:S.key)||null,c(d,g,S,b);case zn:return g=g.get(S.key===null?p:S.key)||null,u(d,g,S,b);case Qt:var R=S._init;return v(g,d,p,R(S._payload),b)}if(Er(S)||gr(S))return g=g.get(p)||null,f(d,g,S,b,null);Os(d,S)}return null}function y(g,d,p,S){for(var b=null,R=null,E=d,T=d=0,H=null;E!==null&&T<p.length;T++){E.index>T?(H=E,E=null):H=E.sibling;var z=h(g,E,p[T],S);if(z===null){E===null&&(E=H);break}e&&E&&z.alternate===null&&t(g,E),d=l(z,d,T),R===null?b=z:R.sibling=z,R=z,E=H}if(T===p.length)return n(g,E),xe&&xn(g,T),b;if(E===null){for(;T<p.length;T++)E=m(g,p[T],S),E!==null&&(d=l(E,d,T),R===null?b=E:R.sibling=E,R=E);return xe&&xn(g,T),b}for(E=r(g,E);T<p.length;T++)H=v(E,g,T,p[T],S),H!==null&&(e&&H.alternate!==null&&E.delete(H.key===null?T:H.key),d=l(H,d,T),R===null?b=H:R.sibling=H,R=H);return e&&E.forEach(function(se){return t(g,se)}),xe&&xn(g,T),b}function x(g,d,p,S){var b=gr(p);if(typeof b!="function")throw Error(O(150));if(p=b.call(p),p==null)throw Error(O(151));for(var R=b=null,E=d,T=d=0,H=null,z=p.next();E!==null&&!z.done;T++,z=p.next()){E.index>T?(H=E,E=null):H=E.sibling;var se=h(g,E,z.value,S);if(se===null){E===null&&(E=H);break}e&&E&&se.alternate===null&&t(g,E),d=l(se,d,T),R===null?b=se:R.sibling=se,R=se,E=H}if(z.done)return n(g,E),xe&&xn(g,T),b;if(E===null){for(;!z.done;T++,z=p.next())z=m(g,z.value,S),z!==null&&(d=l(z,d,T),R===null?b=z:R.sibling=z,R=z);return xe&&xn(g,T),b}for(E=r(g,E);!z.done;T++,z=p.next())z=v(E,g,T,z.value,S),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?T:z.key),d=l(z,d,T),R===null?b=z:R.sibling=z,R=z);return e&&E.forEach(function(Q){return t(g,Q)}),xe&&xn(g,T),b}function N(g,d,p,S){if(typeof p=="object"&&p!==null&&p.type===Dn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case gs:e:{for(var b=p.key,R=d;R!==null;){if(R.key===b){if(b=p.type,b===Dn){if(R.tag===7){n(g,R.sibling),d=s(R,p.props.children),d.return=g,g=d;break e}}else if(R.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Qt&&fc(b)===R.type){n(g,R.sibling),d=s(R,p.props),d.ref=Nr(g,R,p),d.return=g,g=d;break e}n(g,R);break}else t(g,R);R=R.sibling}p.type===Dn?(d=kn(p.props.children,g.mode,S,p.key),d.return=g,g=d):(S=qs(p.type,p.key,p.props,null,g.mode,S),S.ref=Nr(g,d,p),S.return=g,g=S)}return a(g);case zn:e:{for(R=p.key;d!==null;){if(d.key===R)if(d.tag===4&&d.stateNode.containerInfo===p.containerInfo&&d.stateNode.implementation===p.implementation){n(g,d.sibling),d=s(d,p.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=wo(p,g.mode,S),d.return=g,g=d}return a(g);case Qt:return R=p._init,N(g,d,R(p._payload),S)}if(Er(p))return y(g,d,p,S);if(gr(p))return x(g,d,p,S);Os(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,d!==null&&d.tag===6?(n(g,d.sibling),d=s(d,p),d.return=g,g=d):(n(g,d),d=vo(p,g.mode,S),d.return=g,g=d),a(g)):n(g,d)}return N}var lr=hd(!0),xd=hd(!1),ml=fn(null),pl=null,Wn=null,Ja=null;function Xa(){Ja=Wn=pl=null}function Ya(e){var t=ml.current;me(ml),e._currentValue=t}function sa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){pl=e,Ja=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Ja!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(pl===null)throw Error(O(308));Wn=e,pl.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var vn=null;function Za(e){vn===null?vn=[e]:vn.push(e)}function gd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Za(t)):(n.next=s.next,s.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Gt(e,n)}return s=r.interleaved,s===null?(t.next=t,Za(r)):(t.next=s.next,s.next=t),r.interleaved=t,Gt(e,n)}function Gs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Aa(e,n)}}function mc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hl(e,t,n,r){var s=e.updateQueue;qt=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,u=c.next;c.next=null,a===null?l=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==a&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=c))}if(l!==null){var m=s.baseState;a=0,f=u=c=null,i=l;do{var h=i.lane,v=i.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:v,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var y=e,x=i;switch(h=t,v=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){m=y.call(v,m,h);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(v,m,h):y,h==null)break e;m=ve({},m,h);break e;case 2:qt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[i]:h.push(i))}else v={eventTime:v,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=v,c=m):f=f.next=v,a|=h;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;h=i,i=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Rn|=a,e.lanes=a,e.memoizedState=m}}function pc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var cs={},Mt=fn(cs),Yr=fn(cs),Zr=fn(cs);function wn(e){if(e===cs)throw Error(O(174));return e}function ti(e,t){switch(ue(Zr,t),ue(Yr,e),ue(Mt,cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Do(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Do(t,e)}me(Mt),ue(Mt,t)}function or(){me(Mt),me(Yr),me(Zr)}function vd(e){wn(Zr.current);var t=wn(Mt.current),n=Do(t,e.type);t!==n&&(ue(Yr,e),ue(Mt,n))}function ni(e){Yr.current===e&&(me(Mt),me(Yr))}var ge=fn(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mo=[];function ri(){for(var e=0;e<mo.length;e++)mo[e]._workInProgressVersionPrimary=null;mo.length=0}var Hs=Vt.ReactCurrentDispatcher,po=Vt.ReactCurrentBatchConfig,_n=0,ye=null,_e=null,Te=null,gl=!1,zr=!1,es=0,Vp=0;function Ie(){throw Error(O(321))}function si(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function li(e,t,n,r,s,l){if(_n=l,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?qp:Jp,e=n(r,s),zr){l=0;do{if(zr=!1,es=0,25<=l)throw Error(O(301));l+=1,Te=_e=null,t.updateQueue=null,Hs.current=Xp,e=n(r,s)}while(zr)}if(Hs.current=yl,t=_e!==null&&_e.next!==null,_n=0,Te=_e=ye=null,gl=!1,t)throw Error(O(300));return e}function oi(){var e=es!==0;return es=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ye.memoizedState=Te=e:Te=Te.next=e,Te}function ht(){if(_e===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Te===null?ye.memoizedState:Te.next;if(t!==null)Te=t,_e=e;else{if(e===null)throw Error(O(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Te===null?ye.memoizedState=Te=e:Te=Te.next=e}return Te}function ts(e,t){return typeof t=="function"?t(e):t}function ho(e){var t=ht(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var i=a=null,c=null,u=l;do{var f=u.lane;if((_n&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=m,a=r):c=c.next=m,ye.lanes|=f,Rn|=f}u=u.next}while(u!==null&&u!==l);c===null?a=r:c.next=i,jt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,ye.lanes|=l,Rn|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=ht(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);jt(l,t.memoizedState)||(Xe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function wd(){}function Sd(e,t){var n=ye,r=ht(),s=t(),l=!jt(r.memoizedState,s);if(l&&(r.memoizedState=s,Xe=!0),r=r.queue,ai(kd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,ns(9,jd.bind(null,n,r,s,t),void 0,null),Me===null)throw Error(O(349));_n&30||Nd(n,t,s)}return s}function Nd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jd(e,t,n,r){t.value=n,t.getSnapshot=r,Cd(t)&&bd(e)}function kd(e,t,n){return n(function(){Cd(t)&&bd(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function bd(e){var t=Gt(e,1);t!==null&&Nt(t,e,1,-1)}function hc(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t.queue=e,e=e.dispatch=Qp.bind(null,ye,e),[t.memoizedState,e]}function ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ed(){return ht().memoizedState}function Vs(e,t,n,r){var s=Ot();ye.flags|=e,s.memoizedState=ns(1|t,n,void 0,r===void 0?null:r)}function Ml(e,t,n,r){var s=ht();r=r===void 0?null:r;var l=void 0;if(_e!==null){var a=_e.memoizedState;if(l=a.destroy,r!==null&&si(r,a.deps)){s.memoizedState=ns(t,n,l,r);return}}ye.flags|=e,s.memoizedState=ns(1|t,n,l,r)}function xc(e,t){return Vs(8390656,8,e,t)}function ai(e,t){return Ml(2048,8,e,t)}function Od(e,t){return Ml(4,2,e,t)}function _d(e,t){return Ml(4,4,e,t)}function Rd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,n){return n=n!=null?n.concat([e]):null,Ml(4,4,Rd.bind(null,t,e),n)}function ii(){}function Md(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&si(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $d(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&si(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ld(e,t,n){return _n&21?(jt(n,t)||(n=Au(),ye.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function Wp(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{ie=n,po.transition=r}}function Pd(){return ht().memoizedState}function Kp(e,t,n){var r=on(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Id(e))zd(t,n);else if(n=gd(e,t,n,r),n!==null){var s=He();Nt(n,e,r,s),Dd(n,t,r)}}function Qp(e,t,n){var r=on(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Id(e))zd(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,i=l(a,n);if(s.hasEagerState=!0,s.eagerState=i,jt(i,a)){var c=t.interleaved;c===null?(s.next=s,Za(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=gd(e,t,s,r),n!==null&&(s=He(),Nt(n,e,r,s),Dd(n,t,r))}}function Id(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function zd(e,t){zr=gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Aa(e,n)}}var yl={readContext:pt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},qp={readContext:pt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4194308,4,Rd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Kp.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:hc,useDebugValue:ii,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=hc(!1),t=e[0];return e=Wp.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,s=Ot();if(xe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Me===null)throw Error(O(349));_n&30||Nd(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,xc(kd.bind(null,r,l,e),[e]),r.flags|=2048,ns(9,jd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Me.identifierPrefix;if(xe){var n=At,r=Dt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=es++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jp={readContext:pt,useCallback:Md,useContext:pt,useEffect:ai,useImperativeHandle:Td,useInsertionEffect:Od,useLayoutEffect:_d,useMemo:$d,useReducer:ho,useRef:Ed,useState:function(){return ho(ts)},useDebugValue:ii,useDeferredValue:function(e){var t=ht();return Ld(t,_e.memoizedState,e)},useTransition:function(){var e=ho(ts)[0],t=ht().memoizedState;return[e,t]},useMutableSource:wd,useSyncExternalStore:Sd,useId:Pd,unstable_isNewReconciler:!1},Xp={readContext:pt,useCallback:Md,useContext:pt,useEffect:ai,useImperativeHandle:Td,useInsertionEffect:Od,useLayoutEffect:_d,useMemo:$d,useReducer:xo,useRef:Ed,useState:function(){return xo(ts)},useDebugValue:ii,useDeferredValue:function(e){var t=ht();return _e===null?t.memoizedState=e:Ld(t,_e.memoizedState,e)},useTransition:function(){var e=xo(ts)[0],t=ht().memoizedState;return[e,t]},useMutableSource:wd,useSyncExternalStore:Sd,useId:Pd,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function la(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $l={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),s=on(e),l=Ft(r,s);l.payload=t,n!=null&&(l.callback=n),t=sn(e,l,s),t!==null&&(Nt(t,e,s,r),Gs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),s=on(e),l=Ft(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=sn(e,l,s),t!==null&&(Nt(t,e,s,r),Gs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=on(e),s=Ft(n,r);s.tag=2,t!=null&&(s.callback=t),t=sn(e,s,r),t!==null&&(Nt(t,e,r,n),Gs(t,e,r))}};function gc(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Qr(n,r)||!Qr(s,l):!0}function Ad(e,t,n){var r=!1,s=un,l=t.contextType;return typeof l=="object"&&l!==null?l=pt(l):(s=Ze(t)?En:Ue.current,r=t.contextTypes,l=(r=r!=null)?rr(e,s):un),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$l,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function yc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$l.enqueueReplaceState(t,t.state,null)}function oa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ei(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=pt(l):(l=Ze(t)?En:Ue.current,s.context=rr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(la(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$l.enqueueReplaceState(s,s.state,null),hl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ar(e,t){try{var n="",r=t;do n+=Cm(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function go(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yp=typeof WeakMap=="function"?WeakMap:Map;function Fd(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wl||(wl=!0,ga=r),aa(e,t)},n}function Ud(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){aa(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){aa(e,t),typeof r!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function vc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=fh.bind(null,e,t,n),t.then(e,e))}function wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var Zp=Vt.ReactCurrentOwner,Xe=!1;function Ge(e,t,n,r){t.child=e===null?xd(t,null,n,r):lr(t,e.child,n,r)}function Nc(e,t,n,r,s){n=n.render;var l=t.ref;return er(t,s),r=li(e,t,n,r,l,s),n=oi(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(xe&&n&&Ka(t),t.flags|=1,Ge(e,t,r,s),t.child)}function jc(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!xi(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Bd(e,t,l,r,s)):(e=qs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(a,r)&&e.ref===t.ref)return Ht(e,t,s)}return t.flags|=1,e=an(l,r),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Qr(l,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Ht(e,t,s)}return ia(e,t,n,r,s)}function Gd(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Qn,st),st|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Qn,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ue(Qn,st),st|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ue(Qn,st),st|=r;return Ge(e,t,s,n),t.child}function Hd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,r,s){var l=Ze(n)?En:Ue.current;return l=rr(t,l),er(t,s),n=li(e,t,n,r,l,s),r=oi(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ht(e,t,s)):(xe&&r&&Ka(t),t.flags|=1,Ge(e,t,n,s),t.child)}function kc(e,t,n,r,s){if(Ze(n)){var l=!0;ul(t)}else l=!1;if(er(t,s),t.stateNode===null)Ws(e,t),Ad(t,n,r),oa(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Ze(n)?En:Ue.current,u=rr(t,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||c!==u)&&yc(t,a,r,u),qt=!1;var h=t.memoizedState;a.state=h,hl(t,r,a,s),c=t.memoizedState,i!==r||h!==c||Ye.current||qt?(typeof f=="function"&&(la(t,n,f,r),c=t.memoizedState),(i=qt||gc(t,n,i,r,h,c,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:yt(t.type,i),a.props=u,m=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=pt(c):(c=Ze(n)?En:Ue.current,c=rr(t,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==m||h!==c)&&yc(t,a,r,c),qt=!1,h=t.memoizedState,a.state=h,hl(t,r,a,s);var y=t.memoizedState;i!==m||h!==y||Ye.current||qt?(typeof v=="function"&&(la(t,n,v,r),y=t.memoizedState),(u=qt||gc(t,n,u,r,h,y,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ca(e,t,n,r,l,s)}function ca(e,t,n,r,s,l){Hd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&cc(t,n,!1),Ht(e,t,l);r=t.stateNode,Zp.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=lr(t,e.child,null,l),t.child=lr(t,null,i,l)):Ge(e,t,i,l),t.memoizedState=r.state,s&&cc(t,n,!0),t.child}function Vd(e){var t=e.stateNode;t.pendingContext?ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ic(e,t.context,!1),ti(e,t.containerInfo)}function Cc(e,t,n,r,s){return sr(),qa(s),t.flags|=256,Ge(e,t,n,r),t.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,n){var r=t.pendingProps,s=ge.current,l=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ge,s&1),e===null)return ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Il(a,r,0,null),e=kn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=da(n),t.memoizedState=ua,e):ci(t,a));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return eh(e,t,a,r,i,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=an(s,c),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=an(i,l):(l=kn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?da(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=ua,r}return l=e.child,e=l.sibling,r=an(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ci(e,t){return t=Il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _s(e,t,n,r){return r!==null&&qa(r),lr(t,e.child,null,n),e=ci(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eh(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=go(Error(O(422))),_s(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Il({mode:"visible",children:r.children},s,0,null),l=kn(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&lr(t,e.child,null,a),t.child.memoizedState=da(a),t.memoizedState=ua,l);if(!(t.mode&1))return _s(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(O(419)),r=go(l,r,void 0),_s(e,t,a,r)}if(i=(a&e.childLanes)!==0,Xe||i){if(r=Me,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Gt(e,s),Nt(r,e,s,-1))}return hi(),r=go(Error(O(421))),_s(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mh.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,lt=rn(s.nextSibling),ot=t,xe=!0,wt=null,e!==null&&(ut[dt++]=Dt,ut[dt++]=At,ut[dt++]=On,Dt=e.id,At=e.overflow,On=t),t=ci(t,r.children),t.flags|=4096,t)}function bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sa(e.return,t,n)}function yo(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Kd(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Ge(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bc(e,n,t);else if(e.tag===19)bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),yo(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}yo(t,!0,n,null,l);break;case"together":yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function th(e,t,n){switch(t.tag){case 3:Vd(t),sr();break;case 5:vd(t);break;case 1:Ze(t.type)&&ul(t);break;case 4:ti(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(ml,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Wd(e,t,n):(ue(ge,ge.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Gd(e,t,n)}return Ht(e,t,n)}var Qd,fa,qd,Jd;Qd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fa=function(){};qd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,wn(Mt.current);var l=null;switch(n){case"input":s=Lo(e,s),r=Lo(e,r),l=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),l=[];break;case"textarea":s=zo(e,s),r=zo(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=il)}Ao(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var i=s[u];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ur.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(i=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(a in i)!i.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&i[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),l||i===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Jd=function(e,t,n,r){n!==r&&(t.flags|=4)};function jr(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nh(e,t,n){var r=t.pendingProps;switch(Qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ze(t.type)&&cl(),ze(t),null;case 3:return r=t.stateNode,or(),me(Ye),me(Ue),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(wa(wt),wt=null))),fa(e,t),ze(t),null;case 5:ni(t);var s=wn(Zr.current);if(n=t.type,e!==null&&t.stateNode!=null)qd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return ze(t),null}if(e=wn(Mt.current),Es(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[_t]=t,r[Xr]=l,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<_r.length;s++)fe(_r[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Pi(r,l),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},fe("invalid",r);break;case"textarea":zi(r,l),fe("invalid",r)}Ao(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var i=l[a];a==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&bs(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&bs(r.textContent,i,e),s=["children",""+i]):Ur.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&fe("scroll",r)}switch(n){case"input":ys(r),Ii(r,l,!0);break;case"textarea":ys(r),Di(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=il)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ku(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[_t]=t,e[Xr]=r,Qd(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fo(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<_r.length;s++)fe(_r[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Pi(e,r),s=Lo(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":zi(e,r),s=zo(e,r),fe("invalid",e);break;default:s=r}Ao(n,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?Eu(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cu(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Br(e,c):typeof c=="number"&&Br(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ur.hasOwnProperty(l)?c!=null&&l==="onScroll"&&fe("scroll",e):c!=null&&$a(e,l,c,a))}switch(n){case"input":ys(e),Ii(e,r,!1);break;case"textarea":ys(e),Di(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Jn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Jd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=wn(Zr.current),wn(Mt.current),Es(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(l=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:bs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bs(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return ze(t),null;case 13:if(me(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&lt!==null&&t.mode&1&&!(t.flags&128))pd(),sr(),t.flags|=98560,l=!1;else if(l=Es(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[_t]=t}else sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),l=!1}else wt!==null&&(wa(wt),wt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Re===0&&(Re=3):hi())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return or(),fa(e,t),e===null&&qr(t.stateNode.containerInfo),ze(t),null;case 10:return Ya(t.type._context),ze(t),null;case 17:return Ze(t.type)&&cl(),ze(t),null;case 19:if(me(ge),l=t.memoizedState,l===null)return ze(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)jr(l,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=xl(e),a!==null){for(t.flags|=128,jr(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}l.tail!==null&&je()>ir&&(t.flags|=128,r=!0,jr(l,!1),t.lanes=4194304)}else{if(!r)if(e=xl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!xe)return ze(t),null}else 2*je()-l.renderingStartTime>ir&&n!==1073741824&&(t.flags|=128,r=!0,jr(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=je(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return pi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function rh(e,t){switch(Qa(t),t.tag){case 1:return Ze(t.type)&&cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return or(),me(Ye),me(Ue),ri(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ni(t),null;case 13:if(me(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ge),null;case 4:return or(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return pi(),null;case 24:return null;default:return null}}var Rs=!1,De=!1,sh=typeof WeakSet=="function"?WeakSet:Set,U=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function ma(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Ec=!1;function lh(e,t){if(Jo=ll,e=td(),Wa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,i=-1,c=-1,u=0,f=0,m=e,h=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(i=a+s),m!==l||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++u===s&&(i=a),h===l&&++f===r&&(c=a),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xo={focusedElem:e,selectionRange:n},ll=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,N=y.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:yt(t.type,x),N);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return y=Ec,Ec=!1,y}function Dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&ma(t,n,l)}s=s.next}while(s!==r)}}function Ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xd(e){var t=e.alternate;t!==null&&(e.alternate=null,Xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[Xr],delete t[ea],delete t[Up],delete t[Bp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yd(e){return e.tag===5||e.tag===3||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=il));else if(r!==4&&(e=e.child,e!==null))for(ha(e,t,n),e=e.sibling;e!==null;)ha(e,t,n),e=e.sibling}function xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xa(e,t,n),e=e.sibling;e!==null;)xa(e,t,n),e=e.sibling}var $e=null,vt=!1;function Kt(e,t,n){for(n=n.child;n!==null;)Zd(e,t,n),n=n.sibling}function Zd(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(bl,n)}catch{}switch(n.tag){case 5:De||Kn(n,t);case 6:var r=$e,s=vt;$e=null,Kt(e,t,n),$e=r,vt=s,$e!==null&&(vt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(vt?(e=$e,n=n.stateNode,e.nodeType===8?uo(e.parentNode,n):e.nodeType===1&&uo(e,n),Wr(e)):uo($e,n.stateNode));break;case 4:r=$e,s=vt,$e=n.stateNode.containerInfo,vt=!0,Kt(e,t,n),$e=r,vt=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&ma(n,t,a),s=s.next}while(s!==r)}Kt(e,t,n);break;case 1:if(!De&&(Kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Se(n,t,i)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Kt(e,t,n),De=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function _c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sh),t.forEach(function(r){var s=ph.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:$e=i.stateNode,vt=!1;break e;case 3:$e=i.stateNode.containerInfo,vt=!0;break e;case 4:$e=i.stateNode.containerInfo,vt=!0;break e}i=i.return}if($e===null)throw Error(O(160));Zd(l,a,s),$e=null,vt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ef(t,e),t=t.sibling}function ef(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),bt(e),r&4){try{Dr(3,e,e.return),Ll(3,e)}catch(x){Se(e,e.return,x)}try{Dr(5,e,e.return)}catch(x){Se(e,e.return,x)}}break;case 1:gt(t,e),bt(e),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(gt(t,e),bt(e),r&512&&n!==null&&Kn(n,n.return),e.flags&32){var s=e.stateNode;try{Br(s,"")}catch(x){Se(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Nu(s,l),Fo(i,a);var u=Fo(i,l);for(a=0;a<c.length;a+=2){var f=c[a],m=c[a+1];f==="style"?Eu(s,m):f==="dangerouslySetInnerHTML"?Cu(s,m):f==="children"?Br(s,m):$a(s,f,m,u)}switch(i){case"input":Po(s,l);break;case"textarea":ju(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Jn(s,!!l.multiple,v,!1):h!==!!l.multiple&&(l.defaultValue!=null?Jn(s,!!l.multiple,l.defaultValue,!0):Jn(s,!!l.multiple,l.multiple?[]:"",!1))}s[Xr]=l}catch(x){Se(e,e.return,x)}}break;case 6:if(gt(t,e),bt(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(x){Se(e,e.return,x)}}break;case 3:if(gt(t,e),bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(x){Se(e,e.return,x)}break;case 4:gt(t,e),bt(e);break;case 13:gt(t,e),bt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(fi=je())),r&4&&_c(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||f,gt(t,e),De=u):gt(t,e),bt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(U=e,f=e.child;f!==null;){for(m=U=f;U!==null;){switch(h=U,v=h.child,h.tag){case 0:case 11:case 14:case 15:Dr(4,h,h.return);break;case 1:Kn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Se(r,n,x)}}break;case 5:Kn(h,h.return);break;case 22:if(h.memoizedState!==null){Tc(m);continue}}v!==null?(v.return=h,U=v):Tc(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=bu("display",a))}catch(x){Se(e,e.return,x)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(x){Se(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gt(t,e),bt(e),r&4&&_c(e);break;case 21:break;default:gt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yd(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Br(s,""),r.flags&=-33);var l=Oc(e);xa(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,i=Oc(e);ha(e,i,a);break;default:throw Error(O(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oh(e,t,n){U=e,tf(e)}function tf(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Rs;if(!a){var i=s.alternate,c=i!==null&&i.memoizedState!==null||De;i=Rs;var u=De;if(Rs=a,(De=c)&&!u)for(U=s;U!==null;)a=U,c=a.child,a.tag===22&&a.memoizedState!==null?Mc(s):c!==null?(c.return=a,U=c):Mc(s);for(;l!==null;)U=l,tf(l),l=l.sibling;U=s,Rs=i,De=u}Rc(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,U=l):Rc(e)}}function Rc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&pc(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pc(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Wr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}De||t.flags&512&&pa(t)}catch(h){Se(t,t.return,h)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Tc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Mc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ll(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Se(t,s,c)}}var l=t.return;try{pa(t)}catch(c){Se(t,l,c)}break;case 5:var a=t.return;try{pa(t)}catch(c){Se(t,a,c)}}}catch(c){Se(t,t.return,c)}if(t===e){U=null;break}var i=t.sibling;if(i!==null){i.return=t.return,U=i;break}U=t.return}}var ah=Math.ceil,vl=Vt.ReactCurrentDispatcher,ui=Vt.ReactCurrentOwner,mt=Vt.ReactCurrentBatchConfig,re=0,Me=null,Ee=null,Le=0,st=0,Qn=fn(0),Re=0,rs=null,Rn=0,Pl=0,di=0,Ar=null,qe=null,fi=0,ir=1/0,It=null,wl=!1,ga=null,ln=null,Ts=!1,Zt=null,Sl=0,Fr=0,ya=null,Ks=-1,Qs=0;function He(){return re&6?je():Ks!==-1?Ks:Ks=je()}function on(e){return e.mode&1?re&2&&Le!==0?Le&-Le:Hp.transition!==null?(Qs===0&&(Qs=Au()),Qs):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Wu(e.type)),e):1}function Nt(e,t,n,r){if(50<Fr)throw Fr=0,ya=null,Error(O(185));os(e,n,r),(!(re&2)||e!==Me)&&(e===Me&&(!(re&2)&&(Pl|=n),Re===4&&Xt(e,Le)),et(e,r),n===1&&re===0&&!(t.mode&1)&&(ir=je()+500,Tl&&mn()))}function et(e,t){var n=e.callbackNode;Hm(e,t);var r=sl(e,e===Me?Le:0);if(r===0)n!==null&&Ui(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ui(n),t===1)e.tag===0?Gp($c.bind(null,e)):dd($c.bind(null,e)),Ap(function(){!(re&6)&&mn()}),n=null;else{switch(Fu(r)){case 1:n=Da;break;case 4:n=zu;break;case 16:n=rl;break;case 536870912:n=Du;break;default:n=rl}n=uf(n,nf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nf(e,t){if(Ks=-1,Qs=0,re&6)throw Error(O(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=sl(e,e===Me?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nl(e,r);else{t=r;var s=re;re|=2;var l=sf();(Me!==e||Le!==t)&&(It=null,ir=je()+500,jn(e,t));do try{uh();break}catch(i){rf(e,i)}while(!0);Xa(),vl.current=l,re=s,Ee!==null?t=0:(Me=null,Le=0,t=Re)}if(t!==0){if(t===2&&(s=Vo(e),s!==0&&(r=s,t=va(e,s))),t===1)throw n=rs,jn(e,0),Xt(e,r),et(e,je()),n;if(t===6)Xt(e,r);else{if(s=e.current.alternate,!(r&30)&&!ih(s)&&(t=Nl(e,r),t===2&&(l=Vo(e),l!==0&&(r=l,t=va(e,l))),t===1))throw n=rs,jn(e,0),Xt(e,r),et(e,je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:gn(e,qe,It);break;case 3:if(Xt(e,r),(r&130023424)===r&&(t=fi+500-je(),10<t)){if(sl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zo(gn.bind(null,e,qe,It),t);break}gn(e,qe,It);break;case 4:if(Xt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-St(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ah(r/1960))-r,10<r){e.timeoutHandle=Zo(gn.bind(null,e,qe,It),r);break}gn(e,qe,It);break;case 5:gn(e,qe,It);break;default:throw Error(O(329))}}}return et(e,je()),e.callbackNode===n?nf.bind(null,e):null}function va(e,t){var n=Ar;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=Nl(e,t),e!==2&&(t=qe,qe=n,t!==null&&wa(t)),e}function wa(e){qe===null?qe=e:qe.push.apply(qe,e)}function ih(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!jt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~di,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function $c(e){if(re&6)throw Error(O(327));tr();var t=sl(e,0);if(!(t&1))return et(e,je()),null;var n=Nl(e,t);if(e.tag!==0&&n===2){var r=Vo(e);r!==0&&(t=r,n=va(e,r))}if(n===1)throw n=rs,jn(e,0),Xt(e,t),et(e,je()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,qe,It),et(e,je()),null}function mi(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(ir=je()+500,Tl&&mn())}}function Tn(e){Zt!==null&&Zt.tag===0&&!(re&6)&&tr();var t=re;re|=1;var n=mt.transition,r=ie;try{if(mt.transition=null,ie=1,e)return e()}finally{ie=r,mt.transition=n,re=t,!(re&6)&&mn()}}function pi(){st=Qn.current,me(Qn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dp(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Qa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cl();break;case 3:or(),me(Ye),me(Ue),ri();break;case 5:ni(r);break;case 4:or();break;case 13:me(ge);break;case 19:me(ge);break;case 10:Ya(r.type._context);break;case 22:case 23:pi()}n=n.return}if(Me=e,Ee=e=an(e.current,null),Le=st=t,Re=0,rs=null,di=Pl=Rn=0,qe=Ar=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}vn=null}return e}function rf(e,t){do{var n=Ee;try{if(Xa(),Hs.current=yl,gl){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gl=!1}if(_n=0,Te=_e=ye=null,zr=!1,es=0,ui.current=null,n===null||n.return===null){Re=1,rs=t,Ee=null;break}e:{var l=e,a=n.return,i=n,c=t;if(t=Le,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=i,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=wc(a);if(v!==null){v.flags&=-257,Sc(v,a,i,l,t),v.mode&1&&vc(l,u,t),t=v,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){vc(l,u,t),hi();break e}c=Error(O(426))}}else if(xe&&i.mode&1){var N=wc(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Sc(N,a,i,l,t),qa(ar(c,i));break e}}l=c=ar(c,i),Re!==4&&(Re=2),Ar===null?Ar=[l]:Ar.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=Fd(l,c,t);mc(l,g);break e;case 1:i=c;var d=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ln===null||!ln.has(p)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Ud(l,i,t);mc(l,S);break e}}l=l.return}while(l!==null)}of(n)}catch(b){t=b,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function sf(){var e=vl.current;return vl.current=yl,e===null?yl:e}function hi(){(Re===0||Re===3||Re===2)&&(Re=4),Me===null||!(Rn&268435455)&&!(Pl&268435455)||Xt(Me,Le)}function Nl(e,t){var n=re;re|=2;var r=sf();(Me!==e||Le!==t)&&(It=null,jn(e,t));do try{ch();break}catch(s){rf(e,s)}while(!0);if(Xa(),re=n,vl.current=r,Ee!==null)throw Error(O(261));return Me=null,Le=0,Re}function ch(){for(;Ee!==null;)lf(Ee)}function uh(){for(;Ee!==null&&!Pm();)lf(Ee)}function lf(e){var t=cf(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?of(e):Ee=t,ui.current=null}function of(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rh(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Ee=null;return}}else if(n=nh(n,t,st),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Re===0&&(Re=5)}function gn(e,t,n){var r=ie,s=mt.transition;try{mt.transition=null,ie=1,dh(e,t,n,r)}finally{mt.transition=s,ie=r}return null}function dh(e,t,n,r){do tr();while(Zt!==null);if(re&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Vm(e,l),e===Me&&(Ee=Me=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ts||(Ts=!0,uf(rl,function(){return tr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=mt.transition,mt.transition=null;var a=ie;ie=1;var i=re;re|=4,ui.current=null,lh(e,n),ef(n,e),Tp(Xo),ll=!!Jo,Xo=Jo=null,e.current=n,oh(n),Im(),re=i,ie=a,mt.transition=l}else e.current=n;if(Ts&&(Ts=!1,Zt=e,Sl=s),l=e.pendingLanes,l===0&&(ln=null),Am(n.stateNode),et(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wl)throw wl=!1,e=ga,ga=null,e;return Sl&1&&e.tag!==0&&tr(),l=e.pendingLanes,l&1?e===ya?Fr++:(Fr=0,ya=e):Fr=0,mn(),null}function tr(){if(Zt!==null){var e=Fu(Sl),t=mt.transition,n=ie;try{if(mt.transition=null,ie=16>e?16:e,Zt===null)var r=!1;else{if(e=Zt,Zt=null,Sl=0,re&6)throw Error(O(331));var s=re;for(re|=4,U=e.current;U!==null;){var l=U,a=l.child;if(U.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(U=u;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:Dr(8,f,l)}var m=f.child;if(m!==null)m.return=f,U=m;else for(;U!==null;){f=U;var h=f.sibling,v=f.return;if(Xd(f),f===u){U=null;break}if(h!==null){h.return=v,U=h;break}U=v}}}var y=l.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}U=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,U=a;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Dr(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,U=g;break e}U=l.return}}var d=e.current;for(U=d;U!==null;){a=U;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,U=p;else e:for(a=d;U!==null;){if(i=U,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ll(9,i)}}catch(b){Se(i,i.return,b)}if(i===a){U=null;break e}var S=i.sibling;if(S!==null){S.return=i.return,U=S;break e}U=i.return}}if(re=s,mn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(bl,e)}catch{}r=!0}return r}finally{ie=n,mt.transition=t}}return!1}function Lc(e,t,n){t=ar(n,t),t=Fd(e,t,1),e=sn(e,t,1),t=He(),e!==null&&(os(e,1,t),et(e,t))}function Se(e,t,n){if(e.tag===3)Lc(e,e,n);else for(;t!==null;){if(t.tag===3){Lc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))){e=ar(n,e),e=Ud(t,e,1),t=sn(t,e,1),e=He(),t!==null&&(os(t,1,e),et(t,e));break}}t=t.return}}function fh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Le&n)===n&&(Re===4||Re===3&&(Le&130023424)===Le&&500>je()-fi?jn(e,0):di|=n),et(e,t)}function af(e,t){t===0&&(e.mode&1?(t=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):t=1);var n=He();e=Gt(e,t),e!==null&&(os(e,t,n),et(e,n))}function mh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),af(e,n)}function ph(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),af(e,n)}var cf;cf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,th(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,xe&&t.flags&1048576&&fd(t,fl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var s=rr(t,Ue.current);er(t,n),s=li(null,t,r,e,s,n);var l=oi();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(l=!0,ul(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ei(t),s.updater=$l,t.stateNode=s,s._reactInternals=t,oa(t,r,e,n),t=ca(null,t,r,!0,l,n)):(t.tag=0,xe&&l&&Ka(t),Ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=xh(r),e=yt(r,e),s){case 0:t=ia(null,t,r,e,n);break e;case 1:t=kc(null,t,r,e,n);break e;case 11:t=Nc(null,t,r,e,n);break e;case 14:t=jc(null,t,r,yt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),ia(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),kc(e,t,r,s,n);case 3:e:{if(Vd(t),e===null)throw Error(O(387));r=t.pendingProps,l=t.memoizedState,s=l.element,yd(e,t),hl(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=ar(Error(O(423)),t),t=Cc(e,t,r,n,s);break e}else if(r!==s){s=ar(Error(O(424)),t),t=Cc(e,t,r,n,s);break e}else for(lt=rn(t.stateNode.containerInfo.firstChild),ot=t,xe=!0,wt=null,n=xd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),r===s){t=Ht(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return vd(t),e===null&&ra(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,Yo(r,s)?a=null:l!==null&&Yo(r,l)&&(t.flags|=32),Hd(e,t),Ge(e,t,a,n),t.child;case 6:return e===null&&ra(t),null;case 13:return Wd(e,t,n);case 4:return ti(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lr(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Nc(e,t,r,s,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,ue(ml,r._currentValue),r._currentValue=a,l!==null)if(jt(l.value,a)){if(l.children===s.children&&!Ye.current){t=Ht(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){a=l.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Ft(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),sa(l.return,n,t),i.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(O(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),sa(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,er(t,n),s=pt(s),r=r(s),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,s=yt(r,t.pendingProps),s=yt(r.type,s),jc(e,t,r,s,n);case 15:return Bd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Ws(e,t),t.tag=1,Ze(r)?(e=!0,ul(t)):e=!1,er(t,n),Ad(t,r,s),oa(t,r,s,n),ca(null,t,r,!0,e,n);case 19:return Kd(e,t,n);case 22:return Gd(e,t,n)}throw Error(O(156,t.tag))};function uf(e,t){return Iu(e,t)}function hh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new hh(e,t,n,r)}function xi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xh(e){if(typeof e=="function")return xi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pa)return 11;if(e===Ia)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qs(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")xi(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Dn:return kn(n.children,s,l,t);case La:a=8,s|=8;break;case Ro:return e=ft(12,n,t,s|2),e.elementType=Ro,e.lanes=l,e;case To:return e=ft(13,n,t,s),e.elementType=To,e.lanes=l,e;case Mo:return e=ft(19,n,t,s),e.elementType=Mo,e.lanes=l,e;case vu:return Il(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gu:a=10;break e;case yu:a=9;break e;case Pa:a=11;break e;case Ia:a=14;break e;case Qt:a=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=ft(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function kn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Il(e,t,n,r){return e=ft(22,e,r,t),e.elementType=vu,e.lanes=n,e.stateNode={isHidden:!1},e}function vo(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function wo(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gi(e,t,n,r,s,l,a,i,c){return e=new gh(e,t,n,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ft(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ei(l),e}function yh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function df(e){if(!e)return un;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Ze(n))return ud(e,n,t)}return t}function ff(e,t,n,r,s,l,a,i,c){return e=gi(n,r,!0,e,s,l,a,i,c),e.context=df(null),n=e.current,r=He(),s=on(n),l=Ft(r,s),l.callback=t??null,sn(n,l,s),e.current.lanes=s,os(e,s,r),et(e,r),e}function zl(e,t,n,r){var s=t.current,l=He(),a=on(s);return n=df(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sn(s,t,a),e!==null&&(Nt(e,s,a,l),Gs(e,s,a)),a}function jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yi(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}function vh(){return null}var mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function vi(e){this._internalRoot=e}Dl.prototype.render=vi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));zl(e,t,null,null)};Dl.prototype.unmount=vi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){zl(null,e,null,null)}),t[Bt]=null}};function Dl(e){this._internalRoot=e}Dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&Vu(e)}};function wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ic(){}function wh(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var u=jl(a);l.call(u)}}var a=ff(t,r,e,0,null,!1,!1,"",Ic);return e._reactRootContainer=a,e[Bt]=a.current,qr(e.nodeType===8?e.parentNode:e),Tn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var u=jl(c);i.call(u)}}var c=gi(e,0,!1,null,null,!1,!1,"",Ic);return e._reactRootContainer=c,e[Bt]=c.current,qr(e.nodeType===8?e.parentNode:e),Tn(function(){zl(t,c,n,r)}),c}function Fl(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var i=s;s=function(){var c=jl(a);i.call(c)}}zl(t,a,e,s)}else a=wh(n,t,e,s,r);return jl(a)}Uu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(Aa(t,n|1),et(t,je()),!(re&6)&&(ir=je()+500,mn()))}break;case 13:Tn(function(){var r=Gt(e,1);if(r!==null){var s=He();Nt(r,e,1,s)}}),yi(e,1)}};Fa=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=He();Nt(t,e,134217728,n)}yi(e,134217728)}};Bu=function(e){if(e.tag===13){var t=on(e),n=Gt(e,t);if(n!==null){var r=He();Nt(n,e,t,r)}yi(e,t)}};Gu=function(){return ie};Hu=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Bo=function(e,t,n){switch(t){case"input":if(Po(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Rl(r);if(!s)throw Error(O(90));Su(r),Po(r,s)}}}break;case"textarea":ju(e,n);break;case"select":t=n.value,t!=null&&Jn(e,!!n.multiple,t,!1)}};Ru=mi;Tu=Tn;var Sh={usingClientEntryPoint:!1,Events:[is,Bn,Rl,Ou,_u,mi]},kr={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nh={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lu(e),e===null?null:e.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{bl=Ms.inject(Nh),Tt=Ms}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sh;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wi(t))throw Error(O(200));return yh(e,t,null,n)};it.createRoot=function(e,t){if(!wi(e))throw Error(O(299));var n=!1,r="",s=mf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gi(e,1,!1,null,null,n,!1,r,s),e[Bt]=t.current,qr(e.nodeType===8?e.parentNode:e),new vi(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Lu(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return Tn(e)};it.hydrate=function(e,t,n){if(!Al(t))throw Error(O(200));return Fl(null,e,t,!0,n)};it.hydrateRoot=function(e,t,n){if(!wi(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=mf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ff(t,null,e,1,n??null,s,!1,l,a),e[Bt]=t.current,qr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Dl(t)};it.render=function(e,t,n){if(!Al(t))throw Error(O(200));return Fl(null,e,t,!1,n)};it.unmountComponentAtNode=function(e){if(!Al(e))throw Error(O(40));return e._reactRootContainer?(Tn(function(){Fl(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};it.unstable_batchedUpdates=mi;it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Al(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Fl(e,t,n,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pf)}catch(e){console.error(e)}}pf(),mu.exports=it;var jh=mu.exports,zc=jh;Oo.createRoot=zc.createRoot,Oo.hydrateRoot=zc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:i="",children:c,...u},f)=>_.createElement("svg",{ref:f,...kh,width:s,height:s,stroke:r,strokeWidth:a?Number(l)*24/Number(s):l,className:["lucide",`lucide-${Ch(e)}`,i].join(" "),...u},[...t.map(([m,h])=>_.createElement(m,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ae("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ae("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ae("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ae("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Ph=[{id:"xuanhuan",name:"",description:""},{id:"xianxia",name:"",description:""},{id:"dushi",name:"",description:""},{id:"junshi",name:"",description:""},{id:"lishi",name:"",description:""},{id:"kehuan",name:"",description:""},{id:"youxi",name:"",description:""},{id:"xuanyi",name:"",description:""}],Ih=[{id:"yanqing",name:"",description:""},{id:"gongdou",name:"",description:""},{id:"chuanyue",name:"",description:""},{id:"xianxia",name:"",description:""},{id:"kehuan",name:"",description:""},{id:"dushi",name:"",description:""},{id:"lishi",name:"",description:""},{id:"youxi",name:"",description:""}],zh=[{id:"naodong",name:"",description:""},{id:"heiku",name:"",description:""},{id:"rexue",name:"",description:""},{id:"wennuan",name:"",description:""},{id:"kehuanliu",name:"",description:""},{id:"kulong",name:"",description:""},{id:"gaoxiao",name:"",description:""},{id:"kongbu",name:"",description:""},{id:"xuanxu",name:"",description:""},{id:"qihuan",name:"",description:""}],Dh={male:Ph,female:Ih};function Ah({selectedCategory:e,onSelectCategory:t}){const[n,r]=_.useState("male"),s=Dh[n];return o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:""}),o.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>{r("male"),t(null)},className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all ${n==="male"?"bg-white text-primary-700 shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,children:""}),o.jsx("button",{onClick:()=>{r("female"),t(null)},className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all ${n==="female"?"bg-white text-primary-700 shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,children:""})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(l=>o.jsxs("button",{onClick:()=>t(l),className:`p-3 rounded-lg border-2 text-left transition-all hover:shadow-md ${(e==null?void 0:e.id)===l.id?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 bg-white hover:border-secondary-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(Je,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium text-sm",children:l.name})]}),o.jsx("p",{className:"text-xs text-secondary-600 leading-tight",children:l.description})]},l.id))})]})}function Fh({selectedStyle:e,onSelectStyle:t}){return o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:""}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:zh.map(n=>o.jsxs("button",{onClick:()=>t(n),className:`p-3 rounded-lg border-2 text-left transition-all hover:shadow-md ${(e==null?void 0:e.id)===n.id?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 bg-white hover:border-secondary-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(Mh,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium text-sm",children:n.name})]}),o.jsx("p",{className:"text-xs text-secondary-600 leading-tight",children:n.description})]},n.id))})]})}function Uh({value:e,onChange:t}){return o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(gf,{className:"w-4 h-4 text-secondary-400"})}),o.jsx("textarea",{value:e,onChange:n=>t(n.target.value),placeholder:"...",className:"w-full pl-10 pr-3 py-3 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none transition-colors",rows:3})]}),o.jsx("p",{className:"text-xs text-secondary-500",children:""})]})}function Bh({onClick:e,disabled:t,isLoading:n}){return o.jsx("button",{onClick:e,disabled:t,className:`w-full btn btn-primary py-3 text-base font-semibold flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed ${n?"animate-pulse":""}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(Js,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-5 h-5"}),o.jsx("span",{children:""})]})})}const No="story-architect-saved-outlines",vf=_.createContext(void 0);function Gh({children:e}){const[t,n]=_.useState([]);_.useEffect(()=>{try{const u=localStorage.getItem(No);if(u){const f=JSON.parse(u);console.log("localStorage",f.length,""),n(f)}else console.log("localStorage")}catch(u){console.error("Failed to load saved outlines:",u)}},[]);const r=u=>{try{localStorage.setItem(No,JSON.stringify(u)),console.log("localStorage:",u.length,"")}catch(f){console.error("Failed to save outlines:",f)}},s=u=>{const f={...u,savedAt:new Date().toISOString(),id:Date.now()},m=[...t,f];console.log(":",f.title),console.log(":",t.length),console.log(":",m.length),r(m),n(m),setTimeout(()=>{const h=localStorage.getItem(No);if(h){const v=JSON.parse(h);console.log("",v.length,"")}else console.error("localStorage")},100)},l=u=>{const f=t.filter(m=>m.id!==u);n(f),r(f)},a=u=>{const f=t.some(m=>m.title===u.title&&m.logline===u.logline&&m.characters===u.characters);return console.log(":",u.title,":",f,":",t.length),f},i=u=>{const f=JSON.stringify(u,null,2),m="data:application/json;charset=utf-8,"+encodeURIComponent(f),h=`${u.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_outline.json`,v=document.createElement("a");v.setAttribute("href",m),v.setAttribute("download",h),v.click()},c=()=>{const u=JSON.stringify(t,null,2),f="data:application/json;charset=utf-8,"+encodeURIComponent(u),m=`story_architect_saved_outlines_${new Date().toISOString().split("T")[0]}.json`,h=document.createElement("a");h.setAttribute("href",f),h.setAttribute("download",m),h.click()};return o.jsx(vf.Provider,{value:{savedOutlines:t,saveOutline:s,removeSavedOutline:l,isOutlineSaved:a,exportOutline:i,exportAllSaved:c},children:e})}function wf(){const e=_.useContext(vf);if(e===void 0)throw new Error("useSavedOutlines must be used within a SavedOutlinesProvider");return e}function Hh({outline:e,className:t=""}){const{saveOutline:n,isOutlineSaved:r,exportOutline:s}=wf(),[l,a]=_.useState(!1),[i,c]=_.useState(!1);_.useEffect(()=>{c(r(e))},[r,e]);const u=()=>{n(e),c(!0),a(!0),setTimeout(()=>a(!1),2e3)},f=()=>{s(e)},m=[{icon:Lh,title:"",content:e.logline,color:"text-blue-600",bgColor:"bg-blue-50"},{icon:Tr,title:"",content:e.characters,color:"text-green-600",bgColor:"bg-green-50"},{icon:Rh,title:"",content:e.world,color:"text-orange-600",bgColor:"bg-orange-50"},{icon:Ae,title:"",content:e.hook,color:"text-purple-600",bgColor:"bg-purple-50"},{icon:gf,title:"",content:e.themes,color:"text-red-600",bgColor:"bg-red-50"}];return o.jsxs("div",{className:`card overflow-hidden ${t}`,children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Je,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-2xl font-bold",children:e.title})]}),o.jsx("p",{className:"text-primary-100 text-sm",children:" Gemini 3 Pro "})]}),o.jsx("div",{className:"p-6 space-y-6",children:m.map((h,v)=>o.jsx("div",{className:`rounded-lg p-4 ${h.bgColor} border-l-4 ${h.color.includes("blue")?"border-blue-500":h.color.includes("purple")?"border-purple-500":h.color.includes("green")?"border-green-500":h.color.includes("orange")?"border-orange-500":"border-red-500"} animate-slide-in`,style:{animationDelay:`${v*100}ms`},children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(h.icon,{className:`w-5 h-5 mt-0.5 ${h.color}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-semibold mb-2 ${h.color}`,children:h.title}),o.jsx("div",{className:"text-secondary-700 leading-relaxed whitespace-pre-line text-sm",children:h.content})]})]})},v))}),o.jsx("div",{className:"bg-secondary-50 px-6 py-4 border-t border-secondary-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm text-secondary-600",children:["AI  #",e.id]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:u,className:`flex items-center space-x-1 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${l?"bg-green-100 text-green-700 border border-green-200":i?"bg-primary-100 text-primary-700 border border-primary-200":"bg-white text-secondary-700 border border-secondary-200 hover:bg-secondary-50"}`,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Oh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):i?o.jsxs(o.Fragment,{children:[o.jsx(ss,{className:"w-4 h-4 fill-current"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(ss,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsxs("button",{onClick:f,className:"flex items-center space-x-1 px-3 py-1.5 rounded-md text-sm font-medium bg-white text-secondary-700 border border-secondary-200 hover:bg-secondary-50 transition-all",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:""})]})]})]})})]})}function Vh({currentIndex:e,total:t,onPrev:n,onNext:r}){return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:n,className:"flex items-center space-x-2 btn btn-secondary",disabled:t<=1,children:[o.jsx(hf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-sm text-secondary-600",children:""}),o.jsx("div",{className:"flex space-x-1",children:Array.from({length:t},(s,l)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${l===e?"bg-primary-600":"bg-secondary-300"}`},l))}),o.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[e+1," / ",t]})]}),o.jsxs("button",{onClick:r,className:"flex items-center space-x-2 btn btn-secondary",disabled:t<=1,children:[o.jsx("span",{children:""}),o.jsx(Ni,{className:"w-4 h-4"})]})]})}function Wh(){return o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full animate-bounce-gentle"})})]})})}function Kh({isOpen:e,onClose:t,onLoadOutline:n}){const{savedOutlines:r,removeSavedOutline:s,exportAllSaved:l}=wf();if(!e)return null;const a=i=>{n(i),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ss,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:""}),o.jsxs("p",{className:"text-primary-100 text-sm",children:[" ",r.length," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[r.length>0&&o.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-3 py-1.5 bg-primary-500 hover:bg-primary-400 rounded-lg text-sm font-medium transition-colors",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center bg-primary-500 hover:bg-primary-400 rounded-lg transition-colors",children:""})]})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ss,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]}):o.jsx("div",{className:"space-y-4",children:r.map(i=>o.jsxs("div",{className:"border border-secondary-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-secondary-900 mb-1",children:i.title}),o.jsx("p",{className:"text-sm text-secondary-600 line-clamp-2",children:i.logline})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>a(i),className:"flex items-center space-x-1 px-3 py-1.5 bg-primary-600 text-white rounded-md text-sm hover:bg-primary-700 transition-colors",children:[o.jsx(Rt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>s(i.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-md text-sm hover:bg-red-100 transition-colors",children:[o.jsx(yf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-500",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Eh,{className:"w-3 h-3"}),o.jsxs("span",{children:[" ",i.savedAt?new Date(i.savedAt).toLocaleDateString("zh-CN"):""]})]}),o.jsxs("span",{children:[" #",i.id]})]})]},i.id))})})]})})}function Qh({steps:e,isVisible:t,onCancel:n,currentStepMessage:r}){if(!t)return null;const s=a=>{switch(a){case"completed":return o.jsx(qn,{className:"w-5 h-5 text-green-500"});case"running":return o.jsx(Js,{className:"w-5 h-5 text-blue-500 animate-spin"});case"error":return o.jsx(bh,{className:"w-5 h-5 text-red-500"});default:return o.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})}},l=a=>{switch(a){case"completed":return"text-green-700";case"running":return"text-blue-700";case"error":return"text-red-700";default:return"text-gray-500"}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Js,{className:"w-6 h-6 animate-spin"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:""}),o.jsx("p",{className:"text-primary-100 text-sm",children:"AI"})]})]}),o.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center bg-primary-500 hover:bg-primary-400 rounded-lg transition-colors",children:""})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[r&&o.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Js,{className:"w-5 h-5 text-blue-500 animate-spin mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:""}),o.jsx("p",{className:"text-sm text-blue-700",children:r})]})]})}),o.jsx("div",{className:"space-y-4",children:e.map((a,i)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:s(a.status)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:`text-sm font-medium ${l(a.status)}`,children:[i+1,". ",a.label]}),a.progress!==void 0&&a.status==="running"&&o.jsxs("span",{className:"text-xs text-gray-500",children:[a.progress,"%"]})]}),a.progress!==void 0&&o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${a.status==="completed"?"bg-green-500":a.status==="error"?"bg-red-500":"bg-blue-500"}`,style:{width:`${a.progress}%`}})}),a.message&&o.jsx("p",{className:`text-xs ${l(a.status)}`,children:a.message})]})]},a.id))}),o.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[o.jsxs("p",{className:"text-xs text-gray-600",children:[o.jsx("strong",{children:""}),"15-30AI"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI"})]})]})]})})}function Sf(e,t){return function(){return e.apply(t,arguments)}}const{toString:qh}=Object.prototype,{getPrototypeOf:ji}=Object,{iterator:Ul,toStringTag:Nf}=Symbol,Bl=(e=>t=>{const n=qh.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kt=e=>(e=e.toLowerCase(),t=>Bl(t)===e),Gl=e=>t=>typeof t===e,{isArray:mr}=Array,cr=Gl("undefined");function us(e){return e!==null&&!cr(e)&&e.constructor!==null&&!cr(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jf=kt("ArrayBuffer");function Jh(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&jf(e.buffer),t}const Xh=Gl("string"),tt=Gl("function"),kf=Gl("number"),ds=e=>e!==null&&typeof e=="object",Yh=e=>e===!0||e===!1,Xs=e=>{if(Bl(e)!=="object")return!1;const t=ji(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Nf in e)&&!(Ul in e)},Zh=e=>{if(!ds(e)||us(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},e0=kt("Date"),t0=kt("File"),n0=kt("Blob"),r0=kt("FileList"),s0=e=>ds(e)&&tt(e.pipe),l0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=Bl(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},o0=kt("URLSearchParams"),[a0,i0,c0,u0]=["ReadableStream","Request","Response","Headers"].map(kt),d0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),mr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(us(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),a=l.length;let i;for(r=0;r<a;r++)i=l[r],t.call(null,e[i],i,e)}}function Cf(e,t){if(us(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bf=e=>!cr(e)&&e!==Nn;function ja(){const{caseless:e,skipUndefined:t}=bf(this)&&this||{},n={},r=(s,l)=>{const a=e&&Cf(n,l)||l;Xs(n[a])&&Xs(s)?n[a]=ja(n[a],s):Xs(s)?n[a]=ja({},s):mr(s)?n[a]=s.slice():(!t||!cr(s))&&(n[a]=s)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&fs(arguments[s],r);return n}const f0=(e,t,n,{allOwnKeys:r}={})=>(fs(t,(s,l)=>{n&&tt(s)?e[l]=Sf(s,n):e[l]=s},{allOwnKeys:r}),e),m0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),p0=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},h0=(e,t,n,r)=>{let s,l,a;const i={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)a=s[l],(!r||r(a,e,t))&&!i[a]&&(t[a]=e[a],i[a]=!0);e=n!==!1&&ji(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},x0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},g0=e=>{if(!e)return null;if(mr(e))return e;let t=e.length;if(!kf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},y0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ji(Uint8Array)),v0=(e,t)=>{const r=(e&&e[Ul]).call(e);let s;for(;(s=r.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},w0=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},S0=kt("HTMLFormElement"),N0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ac=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),j0=kt("RegExp"),Ef=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};fs(n,(s,l)=>{let a;(a=t(s,l,e))!==!1&&(r[l]=a||s)}),Object.defineProperties(e,r)},k0=e=>{Ef(e,(t,n)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(tt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},C0=(e,t)=>{const n={},r=s=>{s.forEach(l=>{n[l]=!0})};return mr(e)?r(e):r(String(e).split(t)),n},b0=()=>{},E0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function O0(e){return!!(e&&tt(e.append)&&e[Nf]==="FormData"&&e[Ul])}const _0=e=>{const t=new Array(10),n=(r,s)=>{if(ds(r)){if(t.indexOf(r)>=0)return;if(us(r))return r;if(!("toJSON"in r)){t[s]=r;const l=mr(r)?[]:{};return fs(r,(a,i)=>{const c=n(a,s+1);!cr(c)&&(l[i]=c)}),t[s]=void 0,l}}return r};return n(e,0)},R0=kt("AsyncFunction"),T0=e=>e&&(ds(e)||tt(e))&&tt(e.then)&&tt(e.catch),Of=((e,t)=>e?setImmediate:t?((n,r)=>(Nn.addEventListener("message",({source:s,data:l})=>{s===Nn&&l===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Nn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tt(Nn.postMessage)),M0=typeof queueMicrotask<"u"?queueMicrotask.bind(Nn):typeof process<"u"&&process.nextTick||Of,$0=e=>e!=null&&tt(e[Ul]),w={isArray:mr,isArrayBuffer:jf,isBuffer:us,isFormData:l0,isArrayBufferView:Jh,isString:Xh,isNumber:kf,isBoolean:Yh,isObject:ds,isPlainObject:Xs,isEmptyObject:Zh,isReadableStream:a0,isRequest:i0,isResponse:c0,isHeaders:u0,isUndefined:cr,isDate:e0,isFile:t0,isBlob:n0,isRegExp:j0,isFunction:tt,isStream:s0,isURLSearchParams:o0,isTypedArray:y0,isFileList:r0,forEach:fs,merge:ja,extend:f0,trim:d0,stripBOM:m0,inherits:p0,toFlatObject:h0,kindOf:Bl,kindOfTest:kt,endsWith:x0,toArray:g0,forEachEntry:v0,matchAll:w0,isHTMLForm:S0,hasOwnProperty:Ac,hasOwnProp:Ac,reduceDescriptors:Ef,freezeMethods:k0,toObjectSet:C0,toCamelCase:N0,noop:b0,toFiniteNumber:E0,findKey:Cf,global:Nn,isContextDefined:bf,isSpecCompliantForm:O0,toJSONObject:_0,isAsyncFn:R0,isThenable:T0,setImmediate:Of,asap:M0,isIterable:$0};function J(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}w.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const _f=J.prototype,Rf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Rf[e]={value:e}});Object.defineProperties(J,Rf);Object.defineProperty(_f,"isAxiosError",{value:!0});J.from=(e,t,n,r,s,l)=>{const a=Object.create(_f);w.toFlatObject(e,a,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const i=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return J.call(a,i,c,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",l&&Object.assign(a,l),a};const L0=null;function ka(e){return w.isPlainObject(e)||w.isArray(e)}function Tf(e){return w.endsWith(e,"[]")?e.slice(0,-2):e}function Fc(e,t,n){return e?e.concat(t).map(function(s,l){return s=Tf(s),!n&&l?"["+s+"]":s}).join(n?".":""):t}function P0(e){return w.isArray(e)&&!e.some(ka)}const I0=w.toFlatObject(w,{},null,function(t){return/^is[A-Z]/.test(t)});function Hl(e,t,n){if(!w.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=w.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,N){return!w.isUndefined(N[x])});const r=n.metaTokens,s=n.visitor||f,l=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(t);if(!w.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(w.isDate(y))return y.toISOString();if(w.isBoolean(y))return y.toString();if(!c&&w.isBlob(y))throw new J("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(y)||w.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,x,N){let g=y;if(y&&!N&&typeof y=="object"){if(w.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(w.isArray(y)&&P0(y)||(w.isFileList(y)||w.endsWith(x,"[]"))&&(g=w.toArray(y)))return x=Tf(x),g.forEach(function(p,S){!(w.isUndefined(p)||p===null)&&t.append(a===!0?Fc([x],S,l):a===null?x:x+"[]",u(p))}),!1}return ka(y)?!0:(t.append(Fc(N,x,l),u(y)),!1)}const m=[],h=Object.assign(I0,{defaultVisitor:f,convertValue:u,isVisitable:ka});function v(y,x){if(!w.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(y),w.forEach(y,function(g,d){(!(w.isUndefined(g)||g===null)&&s.call(t,g,w.isString(d)?d.trim():d,x,h))===!0&&v(g,x?x.concat(d):[d])}),m.pop()}}if(!w.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Uc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ki(e,t){this._pairs=[],e&&Hl(e,this,t)}const Mf=ki.prototype;Mf.append=function(t,n){this._pairs.push([t,n])};Mf.toString=function(t){const n=t?function(r){return t.call(this,r,Uc)}:Uc;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function z0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function $f(e,t,n){if(!t)return e;const r=n&&n.encode||z0;w.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(t,n):l=w.isURLSearchParams(t)?t.toString():new ki(t,n).toString(r),l){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Bc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){w.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Lf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D0=typeof URLSearchParams<"u"?URLSearchParams:ki,A0=typeof FormData<"u"?FormData:null,F0=typeof Blob<"u"?Blob:null,U0={isBrowser:!0,classes:{URLSearchParams:D0,FormData:A0,Blob:F0},protocols:["http","https","file","blob","url","data"]},Ci=typeof window<"u"&&typeof document<"u",Ca=typeof navigator=="object"&&navigator||void 0,B0=Ci&&(!Ca||["ReactNative","NativeScript","NS"].indexOf(Ca.product)<0),G0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H0=Ci&&window.location.href||"http://localhost",V0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ci,hasStandardBrowserEnv:B0,hasStandardBrowserWebWorkerEnv:G0,navigator:Ca,origin:H0},Symbol.toStringTag,{value:"Module"})),Fe={...V0,...U0};function W0(e,t){return Hl(e,new Fe.classes.URLSearchParams,{visitor:function(n,r,s,l){return Fe.isNode&&w.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function K0(e){return w.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Q0(e){const t={},n=Object.keys(e);let r;const s=n.length;let l;for(r=0;r<s;r++)l=n[r],t[l]=e[l];return t}function Pf(e){function t(n,r,s,l){let a=n[l++];if(a==="__proto__")return!0;const i=Number.isFinite(+a),c=l>=n.length;return a=!a&&w.isArray(s)?s.length:a,c?(w.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!i):((!s[a]||!w.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],l)&&w.isArray(s[a])&&(s[a]=Q0(s[a])),!i)}if(w.isFormData(e)&&w.isFunction(e.entries)){const n={};return w.forEachEntry(e,(r,s)=>{t(K0(r),s,n,0)}),n}return null}function q0(e,t,n){if(w.isString(e))try{return(t||JSON.parse)(e),w.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ms={transitional:Lf,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,l=w.isObject(t);if(l&&w.isHTMLForm(t)&&(t=new FormData(t)),w.isFormData(t))return s?JSON.stringify(Pf(t)):t;if(w.isArrayBuffer(t)||w.isBuffer(t)||w.isStream(t)||w.isFile(t)||w.isBlob(t)||w.isReadableStream(t))return t;if(w.isArrayBufferView(t))return t.buffer;if(w.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return W0(t,this.formSerializer).toString();if((i=w.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Hl(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),q0(t)):t}],transformResponse:[function(t){const n=this.transitional||ms.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(w.isResponse(t)||w.isReadableStream(t))return t;if(t&&w.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(i){if(a)throw i.name==="SyntaxError"?J.from(i,J.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],e=>{ms.headers[e]={}});const J0=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X0=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&J0[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Gc=Symbol("internals");function Cr(e){return e&&String(e).trim().toLowerCase()}function Ys(e){return e===!1||e==null?e:w.isArray(e)?e.map(Ys):String(e)}function Y0(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Z0=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function jo(e,t,n,r,s){if(w.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!w.isString(t)){if(w.isString(r))return t.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(t)}}function ex(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function tx(e,t){const n=w.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,l,a){return this[r].call(this,t,s,l,a)},configurable:!0})})}let nt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function l(i,c,u){const f=Cr(c);if(!f)throw new Error("header name must be a non-empty string");const m=w.findKey(s,f);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||c]=Ys(i))}const a=(i,c)=>w.forEach(i,(u,f)=>l(u,f,c));if(w.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(w.isString(t)&&(t=t.trim())&&!Z0(t))a(X0(t),n);else if(w.isObject(t)&&w.isIterable(t)){let i={},c,u;for(const f of t){if(!w.isArray(f))throw TypeError("Object iterator must return a key-value pair");i[u=f[0]]=(c=i[u])?w.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}a(i,n)}else t!=null&&l(n,t,r);return this}get(t,n){if(t=Cr(t),t){const r=w.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Y0(s);if(w.isFunction(n))return n.call(this,s,r);if(w.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Cr(t),t){const r=w.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||jo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function l(a){if(a=Cr(a),a){const i=w.findKey(r,a);i&&(!n||jo(r,r[i],i,n))&&(delete r[i],s=!0)}}return w.isArray(t)?t.forEach(l):l(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const l=n[r];(!t||jo(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const n=this,r={};return w.forEach(this,(s,l)=>{const a=w.findKey(r,l);if(a){n[a]=Ys(s),delete n[l];return}const i=t?ex(l):String(l).trim();i!==l&&delete n[l],n[i]=Ys(s),r[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return w.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&w.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Gc]=this[Gc]={accessors:{}}).accessors,s=this.prototype;function l(a){const i=Cr(a);r[i]||(tx(s,a),r[i]=!0)}return w.isArray(t)?t.forEach(l):l(t),this}};nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(nt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});w.freezeMethods(nt);function ko(e,t){const n=this||ms,r=t||n,s=nt.from(r.headers);let l=r.data;return w.forEach(e,function(i){l=i.call(n,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function If(e){return!!(e&&e.__CANCEL__)}function pr(e,t,n){J.call(this,e??"canceled",J.ERR_CANCELED,t,n),this.name="CanceledError"}w.inherits(pr,J,{__CANCEL__:!0});function zf(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rx(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,l=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=r[l];a||(a=u),n[s]=c,r[s]=u;let m=l,h=0;for(;m!==s;)h+=n[m++],m=m%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),u-a<t)return;const v=f&&u-f;return v?Math.round(h*1e3/v):void 0}}function sx(e,t){let n=0,r=1e3/t,s,l;const a=(u,f=Date.now())=>{n=f,s=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const f=Date.now(),m=f-n;m>=r?a(u,f):(s=u,l||(l=setTimeout(()=>{l=null,a(s)},r-m)))},()=>s&&a(s)]}const kl=(e,t,n=3)=>{let r=0;const s=rx(50,250);return sx(l=>{const a=l.loaded,i=l.lengthComputable?l.total:void 0,c=a-r,u=s(c),f=a<=i;r=a;const m={loaded:a,total:i,progress:i?a/i:void 0,bytes:c,rate:u||void 0,estimated:u&&i&&f?(i-a)/u:void 0,event:l,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},n)},Hc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Vc=e=>(...t)=>w.asap(()=>e(...t)),lx=Fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>!0,ox=Fe.hasStandardBrowserEnv?{write(e,t,n,r,s,l,a){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(t)}`];w.isNumber(n)&&i.push(`expires=${new Date(n).toUTCString()}`),w.isString(r)&&i.push(`path=${r}`),w.isString(s)&&i.push(`domain=${s}`),l===!0&&i.push("secure"),w.isString(a)&&i.push(`SameSite=${a}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ax(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ix(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Df(e,t,n){let r=!ax(t);return e&&(r||n==!1)?ix(e,t):t}const Wc=e=>e instanceof nt?{...e}:e;function Mn(e,t){t=t||{};const n={};function r(u,f,m,h){return w.isPlainObject(u)&&w.isPlainObject(f)?w.merge.call({caseless:h},u,f):w.isPlainObject(f)?w.merge({},f):w.isArray(f)?f.slice():f}function s(u,f,m,h){if(w.isUndefined(f)){if(!w.isUndefined(u))return r(void 0,u,m,h)}else return r(u,f,m,h)}function l(u,f){if(!w.isUndefined(f))return r(void 0,f)}function a(u,f){if(w.isUndefined(f)){if(!w.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function i(u,f,m){if(m in t)return r(u,f);if(m in e)return r(void 0,u)}const c={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(u,f,m)=>s(Wc(u),Wc(f),m,!0)};return w.forEach(Object.keys({...e,...t}),function(f){const m=c[f]||s,h=m(e[f],t[f],f);w.isUndefined(h)&&m!==i||(n[f]=h)}),n}const Af=e=>{const t=Mn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:a,auth:i}=t;if(t.headers=a=nt.from(a),t.url=$f(Df(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&a.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),w.isFormData(n)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(w.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,m])=>{u.includes(f.toLowerCase())&&a.set(f,m)})}}if(Fe.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(t)),r||r!==!1&&lx(t.url))){const c=s&&l&&ox.read(l);c&&a.set(s,c)}return t},cx=typeof XMLHttpRequest<"u",ux=cx&&function(e){return new Promise(function(n,r){const s=Af(e);let l=s.data;const a=nt.from(s.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:u}=s,f,m,h,v,y;function x(){v&&v(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let N=new XMLHttpRequest;N.open(s.method.toUpperCase(),s.url,!0),N.timeout=s.timeout;function g(){if(!N)return;const p=nt.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),b={data:!i||i==="text"||i==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:p,config:e,request:N};zf(function(E){n(E),x()},function(E){r(E),x()},b),N=null}"onloadend"in N?N.onloadend=g:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(g)},N.onabort=function(){N&&(r(new J("Request aborted",J.ECONNABORTED,e,N)),N=null)},N.onerror=function(S){const b=S&&S.message?S.message:"Network Error",R=new J(b,J.ERR_NETWORK,e,N);R.event=S||null,r(R),N=null},N.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const b=s.transitional||Lf;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new J(S,b.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,N)),N=null},l===void 0&&a.setContentType(null),"setRequestHeader"in N&&w.forEach(a.toJSON(),function(S,b){N.setRequestHeader(b,S)}),w.isUndefined(s.withCredentials)||(N.withCredentials=!!s.withCredentials),i&&i!=="json"&&(N.responseType=s.responseType),u&&([h,y]=kl(u,!0),N.addEventListener("progress",h)),c&&N.upload&&([m,v]=kl(c),N.upload.addEventListener("progress",m),N.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(f=p=>{N&&(r(!p||p.type?new pr(null,e,N):p),N.abort(),N=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const d=nx(s.url);if(d&&Fe.protocols.indexOf(d)===-1){r(new J("Unsupported protocol "+d+":",J.ERR_BAD_REQUEST,e));return}N.send(l||null)})},dx=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const l=function(u){if(!s){s=!0,i();const f=u instanceof Error?u:this.reason;r.abort(f instanceof J?f:new pr(f instanceof Error?f.message:f))}};let a=t&&setTimeout(()=>{a=null,l(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:c}=r;return c.unsubscribe=()=>w.asap(i),c}},fx=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},mx=async function*(e,t){for await(const n of px(e))yield*fx(n,t)},px=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Kc=(e,t,n,r)=>{const s=mx(e,t);let l=0,a,i=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await s.next();if(u){i(),c.close();return}let m=f.byteLength;if(n){let h=l+=m;n(h)}c.enqueue(new Uint8Array(f))}catch(u){throw i(u),u}},cancel(c){return i(c),s.return()}},{highWaterMark:2})},Qc=64*1024,{isFunction:Ls}=w,hx=(({Request:e,Response:t})=>({Request:e,Response:t}))(w.global),{ReadableStream:qc,TextEncoder:Jc}=w.global,Xc=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xx=e=>{e=w.merge.call({skipUndefined:!0},hx,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ls(t):typeof fetch=="function",l=Ls(n),a=Ls(r);if(!s)return!1;const i=s&&Ls(qc),c=s&&(typeof Jc=="function"?(y=>x=>y.encode(x))(new Jc):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=l&&i&&Xc(()=>{let y=!1;const x=new n(Fe.origin,{body:new qc,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),f=a&&i&&Xc(()=>w.isReadableStream(new r("").body)),m={stream:f&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(x,N)=>{let g=x&&x[y];if(g)return g.call(x);throw new J(`Response type '${y}' is not supported`,J.ERR_NOT_SUPPORT,N)})});const h=async y=>{if(y==null)return 0;if(w.isBlob(y))return y.size;if(w.isSpecCompliantForm(y))return(await new n(Fe.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(w.isArrayBufferView(y)||w.isArrayBuffer(y))return y.byteLength;if(w.isURLSearchParams(y)&&(y=y+""),w.isString(y))return(await c(y)).byteLength},v=async(y,x)=>{const N=w.toFiniteNumber(y.getContentLength());return N??h(x)};return async y=>{let{url:x,method:N,data:g,signal:d,cancelToken:p,timeout:S,onDownloadProgress:b,onUploadProgress:R,responseType:E,headers:T,withCredentials:H="same-origin",fetchOptions:z}=Af(y),se=t||fetch;E=E?(E+"").toLowerCase():"text";let Q=dx([d,p&&p.toAbortSignal()],S),P=null;const F=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let K;try{if(R&&u&&N!=="get"&&N!=="head"&&(K=await v(T,g))!==0){let L=new n(x,{method:"POST",body:g,duplex:"half"}),G;if(w.isFormData(g)&&(G=L.headers.get("content-type"))&&T.setContentType(G),L.body){const[X,te]=Hc(K,kl(Vc(R)));g=Kc(L.body,Qc,X,te)}}w.isString(H)||(H=H?"include":"omit");const A=l&&"credentials"in n.prototype,Y={...z,signal:Q,method:N.toUpperCase(),headers:T.normalize().toJSON(),body:g,duplex:"half",credentials:A?H:void 0};P=l&&new n(x,Y);let j=await(l?se(P,z):se(x,Y));const $=f&&(E==="stream"||E==="response");if(f&&(b||$&&F)){const L={};["status","statusText","headers"].forEach(le=>{L[le]=j[le]});const G=w.toFiniteNumber(j.headers.get("content-length")),[X,te]=b&&Hc(G,kl(Vc(b),!0))||[];j=new r(Kc(j.body,Qc,X,()=>{te&&te(),F&&F()}),L)}E=E||"text";let M=await m[w.findKey(m,E)||"text"](j,y);return!$&&F&&F(),await new Promise((L,G)=>{zf(L,G,{data:M,headers:nt.from(j.headers),status:j.status,statusText:j.statusText,config:y,request:P})})}catch(A){throw F&&F(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,y,P),{cause:A.cause||A}):J.from(A,A&&A.code,y,P)}}},gx=new Map,Ff=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,l=[r,s,n];let a=l.length,i=a,c,u,f=gx;for(;i--;)c=l[i],u=f.get(c),u===void 0&&f.set(c,u=i?new Map:xx(t)),f=u;return u};Ff();const bi={http:L0,xhr:ux,fetch:{get:Ff}};w.forEach(bi,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Yc=e=>`- ${e}`,yx=e=>w.isFunction(e)||e===null||e===!1;function vx(e,t){e=w.isArray(e)?e:[e];const{length:n}=e;let r,s;const l={};for(let a=0;a<n;a++){r=e[a];let i;if(s=r,!yx(r)&&(s=bi[(i=String(r)).toLowerCase()],s===void 0))throw new J(`Unknown adapter '${i}'`);if(s&&(w.isFunction(s)||(s=s.get(t))))break;l[i||"#"+a]=s}if(!s){const a=Object.entries(l).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=n?a.length>1?`since :
`+a.map(Yc).join(`
`):" "+Yc(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s}const Uf={getAdapter:vx,adapters:bi};function Co(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pr(null,e)}function Zc(e){return Co(e),e.headers=nt.from(e.headers),e.data=ko.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Uf.getAdapter(e.adapter||ms.adapter,e)(e).then(function(r){return Co(e),r.data=ko.call(e,e.transformResponse,r),r.headers=nt.from(r.headers),r},function(r){return If(r)||(Co(e),r&&r.response&&(r.response.data=ko.call(e,e.transformResponse,r.response),r.response.headers=nt.from(r.response.headers))),Promise.reject(r)})}const Bf="1.13.2",Vl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const eu={};Vl.transitional=function(t,n,r){function s(l,a){return"[Axios v"+Bf+"] Transitional option '"+l+"'"+a+(r?". "+r:"")}return(l,a,i)=>{if(t===!1)throw new J(s(a," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!eu[a]&&(eu[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,a,i):!0}};Vl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function wx(e,t,n){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const l=r[s],a=t[l];if(a){const i=e[l],c=i===void 0||a(i,l,e);if(c!==!0)throw new J("option "+l+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+l,J.ERR_BAD_OPTION)}}const Zs={assertOptions:wx,validators:Vl},Et=Zs.validators;let bn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Bc,response:new Bc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Mn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:l}=n;r!==void 0&&Zs.assertOptions(r,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean)},!1),s!=null&&(w.isFunction(s)?n.paramsSerializer={serialize:s}:Zs.assertOptions(s,{encode:Et.function,serialize:Et.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Zs.assertOptions(n,{baseUrl:Et.spelling("baseURL"),withXsrfToken:Et.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=l&&w.merge(l.common,l[n.method]);l&&w.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),n.headers=nt.concat(a,l);const i=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,i.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let f,m=0,h;if(!c){const y=[Zc.bind(this),void 0];for(y.unshift(...i),y.push(...u),h=y.length,f=Promise.resolve(n);m<h;)f=f.then(y[m++],y[m++]);return f}h=i.length;let v=n;for(;m<h;){const y=i[m++],x=i[m++];try{v=y(v)}catch(N){x.call(this,N);break}}try{f=Zc.call(this,v)}catch(y){return Promise.reject(y)}for(m=0,h=u.length;m<h;)f=f.then(u[m++],u[m++]);return f}getUri(t){t=Mn(this.defaults,t);const n=Df(t.baseURL,t.url,t.allowAbsoluteUrls);return $f(n,t.params,t.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(t){bn.prototype[t]=function(n,r){return this.request(Mn(r||{},{method:t,url:n,data:(r||{}).data}))}});w.forEach(["post","put","patch"],function(t){function n(r){return function(l,a,i){return this.request(Mn(i||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}bn.prototype[t]=n(),bn.prototype[t+"Form"]=n(!0)});let Sx=class Gf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(s=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](s);r._listeners=null}),this.promise.then=s=>{let l;const a=new Promise(i=>{r.subscribe(i),l=i}).then(s);return a.cancel=function(){r.unsubscribe(l)},a},t(function(l,a,i){r.reason||(r.reason=new pr(l,a,i),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Gf(function(s){t=s}),cancel:t}}};function Nx(e){return function(n){return e.apply(null,n)}}function jx(e){return w.isObject(e)&&e.isAxiosError===!0}const ba={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ba).forEach(([e,t])=>{ba[t]=e});function Hf(e){const t=new bn(e),n=Sf(bn.prototype.request,t);return w.extend(n,bn.prototype,t,{allOwnKeys:!0}),w.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Hf(Mn(e,s))},n}const ke=Hf(ms);ke.Axios=bn;ke.CanceledError=pr;ke.CancelToken=Sx;ke.isCancel=If;ke.VERSION=Bf;ke.toFormData=Hl;ke.AxiosError=J;ke.Cancel=ke.CanceledError;ke.all=function(t){return Promise.all(t)};ke.spread=Nx;ke.isAxiosError=jx;ke.mergeConfig=Mn;ke.AxiosHeaders=nt;ke.formToJSON=e=>Pf(w.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=Uf.getAdapter;ke.HttpStatusCode=ba;ke.default=ke;const{Axios:Ax,AxiosError:Fx,CanceledError:Ux,isCancel:Bx,CancelToken:Gx,VERSION:Hx,all:Vx,Cancel:Wx,isAxiosError:Kx,spread:Qx,toFormData:qx,AxiosHeaders:Jx,HttpStatusCode:Xx,formToJSON:Yx,getAdapter:Zx,mergeConfig:eg}=ke,Pt=ke.create({baseURL:"/api",timeout:2e5,headers:{"Content-Type":"application/json"}}),be={generateOutline:async e=>(await Pt.post("/blueprint/generate",e)).data,generateWorldSetting:async e=>(await Pt.post("/blueprint/generate-world-setting",e)).data,generateCharacters:async e=>(await Pt.post("/blueprint/generate-characters",e)).data,generateDetailedOutline:async e=>(await Pt.post("/blueprint/generate-detailed-outline",e)).data,generateMicroStories:async e=>(await Pt.post("/blueprint/generate-micro-stories",e)).data,generateChapter:async e=>(await Pt.post("/blueprint/generate-chapter",e)).data,prepareChapterStream:async e=>(await Pt.post("/blueprint/prepare-stream",e)).data,generateChapterStream:e=>new EventSource(`/api/blueprint/generate-chapter-stream?requestId=${e}`),cancelGeneration:async e=>{await Pt.post("/blueprint/cancel-generation",{requestId:e})},exportAsDocx:async e=>(await Pt.post("/blueprint/export-docx",e)).data},tu="story-architect-world-settings",Vf=_.createContext(void 0);function kx({children:e}){const[t,n]=_.useState([]),[r,s]=_.useState(null);_.useEffect(()=>{try{const h=localStorage.getItem(tu);if(h){const v=JSON.parse(h);console.log("localStorage",v.length,""),console.log(":",v.map(y=>({id:y.id,name:y.bookName,hasWorld:!!y.worldSetting,hasChar:!!y.characters,hasOutline:!!y.detailedOutline}))),n(v)}}catch(h){console.error("Failed to load world settings:",h)}},[]);const l=h=>{try{localStorage.setItem(tu,JSON.stringify(h)),console.log("localStorage:",h.length,"")}catch(v){console.error("Failed to save projects:",v)}},a=(h,v,y)=>{const x={id:Date.now(),bookName:h,outline:v,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...y},N=[...t,x];return n(N),l(N),s(x),console.log(":",x.bookName),x},i=(h,v)=>{const y=t.map(x=>x.id===h?{...x,...v,updatedAt:new Date().toISOString()}:x);if(n(y),l(y),(r==null?void 0:r.id)===h){const x=y.find(N=>N.id===h);x&&s(x)}console.log(":",h,v)},c=h=>{const v=t.filter(y=>y.id!==h);n(v),l(v),(r==null?void 0:r.id)===h&&s(null),console.log(":",h)},u=h=>{s(h),console.log(":",h.bookName)},f=h=>{const v=JSON.stringify(h,null,2),y="data:application/json;charset=utf-8,"+encodeURIComponent(v),x=`${h.bookName.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_world_settings.json`,N=document.createElement("a");N.setAttribute("href",y),N.setAttribute("download",x),N.click(),console.log(":",h.bookName)},m=()=>{const h=JSON.stringify(t,null,2),v="data:application/json;charset=utf-8,"+encodeURIComponent(h),y=`story_architect_world_settings_${new Date().toISOString().split("T")[0]}.json`,x=document.createElement("a");x.setAttribute("href",v),x.setAttribute("download",y),x.click(),console.log(":",t.length,"")};return o.jsx(Vf.Provider,{value:{projects:t,currentProject:r,createProject:a,updateProject:i,deleteProject:c,loadProject:u,exportProject:f,exportAllProjects:m},children:e})}function Wl(){const e=_.useContext(Vf);if(e===void 0)throw new Error("useWorldSettings must be used within a WorldSettingsProvider");return e}function Ps(e){return`### ${e.title}


${e.logline}


${e.characters}


${e.world}


${e.hook}


${e.themes}`}function bo(e){return e.replace(/^#+\s*/gm,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/`(.*?)`/g,"$1").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/^\s*>\s+/gm,"").replace(/\n{3,}/g,`

`).trim()}function Cx({onBack:e,onNavigateToStructure:t,selectedOutline:n,isAutoFlowRunning:r,setAutoFlowStep:s,setAutoFlowProgress:l}){const{currentProject:a,createProject:i,updateProject:c,deleteProject:u,loadProject:f,exportProject:m,exportAllProjects:h,projects:v}=Wl();_.useEffect(()=>{console.log("WorldSettingPage - :",a?{id:a.id,name:a.bookName,hasWorld:!!a.worldSetting,hasChar:!!a.characters,hasOutline:!!a.detailedOutline}:"")},[a]);const[y,x]=_.useState(""),[N,g]=_.useState(""),[d,p]=_.useState(""),[S,b]=_.useState(!1),[R,E]=_.useState(!1),[T,H]=_.useState(!1),[z,se]=_.useState(!1),[Q,P]=_.useState(!1),[F,K]=_.useState("world"),[A,Y]=_.useState(!1),[j,$]=_.useState(null),[M,L]=_.useState(""),[G,X]=_.useState(!1),[te,le]=_.useState(!1);_.useEffect(()=>{n&&L(`${n.title}`)},[n]),_.useEffect(()=>{a?(console.log(":",a.bookName),console.log(" - :",!!a.worldSetting,":",!!a.characters,":",!!a.detailedOutline),L(a.bookName),x(a.worldSetting||""),g(a.characters||""),p(a.detailedOutline||""),se(!!a.worldSetting),P(!!a.characters),a.detailedOutline?K("outline"):a.characters?K("characters"):(a.worldSetting,K("world")),console.log("")):(console.log(""),x(""),g(""),p(""),se(!1),P(!1),K("world"),n&&L(`${n.title}`))},[a]),_.useEffect(()=>{localStorage.getItem("story-architect-auto-flow")==="world-setting"&&n&&M.trim()&&(console.log(""),localStorage.removeItem("story-architect-auto-flow"),s&&s('""...'),l&&l(20),setTimeout(()=>{Lt()},1e3))},[n,M,s,l]),_.useEffect(()=>{!a&&n&&L(`${n.title}`)},[n,a]);const pe=async()=>{if(!n){alert("");return}b(!0);try{const V=Ps(n),de=await be.generateWorldSetting({outline:V});console.log(":",de.data),x(de.data),se(!0)}catch(V){console.error(":",V),alert("")}finally{b(!1)}},Ne=async()=>{if(!n){alert("");return}E(!0);try{const V=Ps(n),de=await be.generateCharacters({outline:V,worldSetting:y});console.log(":",de.data),g(de.data),P(!0)}catch(V){console.error(":",V),alert("")}finally{E(!1)}},rt=async()=>{if(!n){alert("");return}H(!0);try{const V=Ps(n),de=await be.generateDetailedOutline({outline:V,worldSetting:y,characters:N});console.log(":",de.data),p(de.data)}catch(V){console.error(":",V),alert("")}finally{H(!1)}},xt=()=>{if(!n){alert("");return}if(!M.trim()){alert("");return}if(!y||!N||!d){alert("");return}try{if(console.log(":",a?"":""),console.log(":",M.trim()),console.log(":",y.length),console.log(":",N.length),console.log(":",d.length),a)console.log("ID:",a.id),c(a.id,{bookName:M.trim(),worldSetting:y,characters:N,detailedOutline:d});else{console.log("");const V=i(M.trim(),n,{worldSetting:y,characters:N,detailedOutline:d});console.log("ID:",V.id)}le(!0),setTimeout(()=>le(!1),2e3)}catch(V){console.error(":",V),alert("")}},$t=V=>{f(V),X(!1)},Ke=V=>{confirm("")&&u(V)},Qe=n&&M.trim()&&y&&N&&d,Lt=async()=>{if(!n){alert("");return}if(!M.trim()){alert("");return}Y(!0),$({current:1,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(30);try{const V=Ps(n),de=await be.generateWorldSetting({outline:V});console.log(""),x(de.data),se(!0),$({current:2,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(50);const Ct=await be.generateCharacters({outline:V,worldSetting:de.data});console.log(""),g(Ct.data),P(!0),$({current:3,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(70);const Wt=await be.generateDetailedOutline({outline:V,worldSetting:de.data,characters:Ct.data});if(console.log(""),p(Wt.data),$({current:4,total:4,message:"..."}),a)c(a.id,{bookName:M.trim(),worldSetting:de.data,characters:Ct.data,detailedOutline:Wt.data});else{const hr=i(M.trim(),n,{worldSetting:de.data,characters:Ct.data,detailedOutline:Wt.data});console.log("ID:",hr.id)}$({current:4,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(90),setTimeout(()=>{console.log(""),localStorage.setItem("story-architect-auto-flow","story-structure"),t()},1500)}catch(V){console.error(":",V),alert("")}finally{Y(!1),$(null)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:e,className:"p-2 bg-secondary-100 hover:bg-secondary-200 rounded-lg transition-colors",children:o.jsx(Si,{className:"w-5 h-5 text-secondary-600"})}),o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(Tr,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:""})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-secondary-700",children:":"}),o.jsx("input",{type:"text",value:M,onChange:V=>L(V.target.value),placeholder:"",className:"px-3 py-1 text-sm border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("button",{onClick:xt,disabled:!Qe,className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${te?"bg-green-100 text-green-700 border border-green-200":Qe?"bg-primary-600 text-white hover:bg-primary-700":"bg-secondary-300 text-secondary-500 cursor-not-allowed"}`,children:te?o.jsxs(o.Fragment,{children:[o.jsx(qn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Sa,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsxs("button",{onClick:()=>X(!0),className:"flex items-center space-x-2 px-3 py-1.5 bg-secondary-100 text-secondary-700 rounded-md text-sm font-medium hover:bg-secondary-200 transition-colors",children:[o.jsx(So,{className:"w-4 h-4"}),o.jsxs("span",{children:[" (",v.length,")"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Powered by Gemini 3 Pro"})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[n&&M.trim()&&o.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-primary-50 border-2 border-purple-200",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:o.jsx(Ae,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:"++"})]})]}),o.jsx("button",{onClick:Lt,disabled:A,className:"w-full bg-gradient-to-r from-purple-600 to-primary-600 hover:from-purple-700 hover:to-primary-700 text-white py-4 px-6 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:A?o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),o.jsx("span",{children:"..."})]}):o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx(Na,{className:"w-6 h-6"}),o.jsx("span",{children:""}),o.jsx(Ae,{className:"w-5 h-5"})]})}),j&&o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsxs("span",{className:"text-sm font-medium text-secondary-700",children:[j.current,"/",j.total]}),o.jsx("span",{className:"text-sm text-secondary-600",children:j.message})]}),o.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${j.current/j.total*100}%`}})})]}),o.jsx("div",{className:"text-xs text-secondary-500 mt-4",children:" AI"})]})}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx($s,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:pe,disabled:S,className:"w-full btn btn-primary py-3 disabled:opacity-50",children:S?"...":""}),o.jsx("p",{className:"text-xs text-secondary-600",children:""}),o.jsxs("div",{className:"text-xs text-secondary-500",children:[o.jsx(qn,{className:"w-3 h-3 inline mr-1"}),"200"]})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Na,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"AI"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:Ne,disabled:R||!z,className:`w-full py-3 disabled:opacity-50 ${z?"btn btn-primary":"btn btn-secondary cursor-not-allowed bg-secondary-300 hover:bg-secondary-300"}`,children:R?"...":""}),o.jsx("p",{className:"text-xs text-secondary-600",children:"20-30"}),o.jsxs("div",{className:"text-xs text-secondary-500",children:[o.jsx(qn,{className:"w-3 h-3 inline mr-1"}),"200"]})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Je,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:rt,disabled:T||!Q,className:`w-full py-3 disabled:opacity-50 ${Q?"btn btn-primary":"btn btn-secondary cursor-not-allowed bg-secondary-300 hover:bg-secondary-300"}`,children:T?"...":""}),o.jsx("p",{className:"text-xs text-secondary-600",children:"AI25-30"}),o.jsxs("div",{className:"text-xs text-secondary-500",children:[o.jsx(qn,{className:"w-3 h-3 inline mr-1"}),""]})]})]}),d&&o.jsxs("button",{onClick:t,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-4 px-6 rounded-xl flex items-center justify-center space-x-3 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold text-lg",children:[o.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:o.jsx(Rt,{className:"w-6 h-6"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold",children:""}),o.jsx("div",{className:"text-sm opacity-90",children:""})]})]})]}),o.jsxs("div",{className:"lg:col-span-8",children:[(y||N||d)&&o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-center justify-center bg-white/80 backdrop-blur-sm rounded-lg p-1 border border-secondary-200",children:[o.jsxs("button",{onClick:()=>K("world"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${F==="world"?"bg-primary-500 text-white shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,children:[o.jsx($s,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>K("characters"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${F==="characters"?"bg-primary-500 text-white shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,disabled:!N,children:[o.jsx(Tr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>K("outline"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${F==="outline"?"bg-primary-500 text-white shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,disabled:!d,children:[o.jsx(Rt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})}),o.jsxs("div",{className:"min-h-[600px]",children:[F==="world"&&o.jsx("div",{className:"card p-6 h-full",children:y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx($s,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:bo(y)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx($s,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]})}),F==="characters"&&o.jsx("div",{className:"card p-6 h-full",children:N?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Tr,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:bo(N)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Tr,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]})}),F==="outline"&&o.jsx("div",{className:"card p-6 h-full",children:d?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Rt,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:bo(d)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rt,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]})}),!N&&!d&&o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Ae,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:""})]})]})]})]})}),G&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(So,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:""}),o.jsxs("p",{className:"text-primary-100 text-sm",children:[" ",v.length," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[v.length>0&&o.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-3 py-1.5 bg-primary-500 hover:bg-primary-400 rounded-lg text-sm font-medium transition-colors",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:()=>X(!1),className:"w-8 h-8 flex items-center justify-center bg-primary-500 hover:bg-primary-400 rounded-lg transition-colors",children:""})]})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:v.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(So,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]}):o.jsx("div",{className:"space-y-4",children:v.map(V=>o.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${(a==null?void 0:a.id)===V.id?"border-primary-300 bg-primary-50":"border-secondary-200"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-secondary-900 mb-1",children:V.bookName}),o.jsxs("p",{className:"text-sm text-secondary-600 mb-2",children:[": ",V.outline.title]}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-secondary-500",children:[o.jsxs("span",{className:`flex items-center space-x-1 ${V.worldSetting?"text-green-600":"text-red-500"}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${V.worldSetting?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{children:""})]}),o.jsxs("span",{className:`flex items-center space-x-1 ${V.characters?"text-green-600":"text-red-500"}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${V.characters?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{children:""})]}),o.jsxs("span",{className:`flex items-center space-x-1 ${V.detailedOutline?"text-green-600":"text-red-500"}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${V.detailedOutline?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>$t(V),className:"flex items-center space-x-1 px-3 py-1.5 bg-primary-600 text-white rounded-md text-sm hover:bg-primary-700 transition-colors",children:[o.jsx(Rt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>m(V),className:"flex items-center space-x-1 px-3 py-1.5 bg-secondary-100 text-secondary-700 rounded-md text-sm hover:bg-secondary-200 transition-colors",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>Ke(V.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-md text-sm hover:bg-red-100 transition-colors",children:[o.jsx(yf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-500",children:[o.jsx("div",{className:"flex items-center space-x-1",children:o.jsxs("span",{children:[": ",new Date(V.createdAt).toLocaleDateString("zh-CN")]})}),o.jsxs("span",{children:[" #",V.id]})]})]},V.id))})})]})})]})}function Is(e){return e.replace(/```[\s\S]*?```/g,"").replace(/`([^`]*)`/g,"$1").replace(/\*\*([^*]*)\*\*/g,"$1").replace(/\*([^*]*)\*/g,"$1").replace(/^\s*#+\s*/gm,"").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/^\s*>\s+/gm,"").replace(/|||||||||||||||||||||||||||||||||||||||/g,"").replace(/\n{3,}/g,`

`).trim()}function In(e){return(e.split(`
`).filter(l=>!l.match(/^\d+\s*\[/)).join(`
`).match(/[\u4e00-\u9fa5]/g)||[]).length}function zs(e){const t=Math.floor((e-1)/2)*2+1,n=t+1;return`${t}${n}`}function bx({onBack:e,setIsAutoFlowRunning:t,setAutoFlowStep:n,setAutoFlowProgress:r}){var Ei,Oi;const{currentProject:s,updateProject:l}=Wl(),[a]=_.useState(!1),[i,c]=_.useState(""),[u,f]=_.useState(1),[m,h]=_.useState(0),[v,y]=_.useState(""),[x,N]=_.useState({}),[g,d]=_.useState(!1),[p,S]=_.useState(!1),[b,R]=_.useState(""),[E,T]=_.useState(null),[H,z]=_.useState({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),[se,Q]=_.useState(null),[P,F]=_.useState(!1),[K,A]=_.useState(u.toString()),[Y,j]=_.useState(!1),[$,M]=_.useState(null),[L,G]=_.useState(!1),X=()=>{if(!(s!=null&&s.savedMicroStories))return 1;const C=s.savedMicroStories.length*2;for(let k=1;k<=C;k++)if(!x[k])return k;return 1},te=s!=null&&s.id?`writer-state-${s.id}`:"writer-state-default";_.useEffect(()=>{localStorage.getItem("story-architect-auto-flow")==="writer"&&(s!=null&&s.savedMicroStories)&&s.savedMicroStories.length>0&&(console.log(""),localStorage.removeItem("story-architect-auto-flow"),n&&n('""...'),r&&r(100),setTimeout(()=>{de()},1e3))},[s==null?void 0:s.savedMicroStories,n,r]),_.useEffect(()=>{var I;const C=Object.keys(x).length>0;if((s==null?void 0:s.autoSelectedStories)&&!(s!=null&&s.autoGenerationStarted)&&!C&&!H.isGenerating&&(s==null?void 0:s.selectedMicroStories)&&s.selectedMicroStories.length>0&&(console.log("..."),console.log(` ${((I=s.selectedMicroStories)==null?void 0:I.length)||0} `),setTimeout(()=>{!H.isGenerating&&!C&&(s!=null&&s.selectedMicroStories)&&s.selectedMicroStories.length>0&&(console.log("8..."),Lt())},1e3)),(()=>{try{s!=null&&s.generatedChapters&&(N(s.generatedChapters),console.log(":",Object.keys(s.generatedChapters).length,""));const B=localStorage.getItem(te);if(B){const W=JSON.parse(B);c(W.generatedContent||"");const q=W.currentChapter||1;f(q),A(q.toString()),y(W.previousChapterEnding||"");const ne={...s==null?void 0:s.generatedChapters,...W.generatedChapters};N(ne),z(W.generationState||{isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log("localStorageWriter")}else if(s!=null&&s.generatedChapters&&Object.keys(s.generatedChapters).length>0){const W=Math.min(...Object.keys(s.generatedChapters).map(Number));f(W),A(W.toString()),c(s.generatedChapters[W])}}catch(B){console.error("Writer:",B)}})(),!(s!=null&&s.id)){const B="writer-state-default";try{const W=localStorage.getItem(B);if(W){const q=JSON.parse(W);c(q.generatedContent||""),f(q.currentChapter||1),y(q.previousChapterEnding||""),N(q.generatedChapters||{}),z(q.generationState||{isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log("keyWriter")}}catch(W){console.error("keyWriter:",W)}}},[]);const le=()=>{try{const C={generatedContent:i,currentChapter:u,previousChapterEnding:v,generatedChapters:x,generationState:H,timestamp:Date.now()};s!=null&&s.id&&localStorage.setItem(te,JSON.stringify(C)),localStorage.setItem("writer-state-default",JSON.stringify(C)),console.log("WriterlocalStorage")}catch(C){console.error("Writer:",C)}};_.useEffect(()=>{const C=setInterval(le,3e4);return()=>clearInterval(C)},[i,u,v,x,H]),_.useEffect(()=>()=>{le()},[]),_.useEffect(()=>{x[u]&&c(x[u])},[u,x]);const pe=()=>{var D;if(!s||Object.keys(x).length===0){alert("");return}const C={id:`save_${Date.now()}`,timestamp:new Date().toISOString(),chapterCount:Object.keys(x).length,totalWords:Object.values(x).reduce((I,B)=>I+In(B),0),chapters:{...x},preview:((D=Object.values(x)[0])==null?void 0:D.substring(0,200))+"..."||""},k=s.savedVersions||[];l(s.id,{generatedChapters:{...x},savedVersions:[C,...k].slice(0,10)}),console.log(":",x),alert("")},Ne=C=>{if(!(s!=null&&s.savedVersions))return;const k=s.savedVersions.find(D=>D.id===C);k&&(N(k.chapters),f(Math.min(...Object.keys(k.chapters).map(Number))),c(k.chapters[Math.min(...Object.keys(k.chapters).map(Number))]),F(!1),alert(` ${new Date(k.timestamp).toLocaleString()} `))},rt=()=>{const C=parseInt(K);if(isNaN(C)||C<1){alert("");return}const k=Object.keys(x).map(Number);console.log(":",k),console.log(":",C),console.log("generatedChapters:",x),k.includes(C)?(f(C),c(x[C]||""),A(C.toString())):alert(`${C}: ${k.join(", ")}`)},xt=()=>{if(Object.keys(x).length===0){alert("");return}const C=Object.keys(x).map(Number).sort((q,ne)=>q-ne).map(q=>x[q]).join(`

`),k=(s==null?void 0:s.bookName)||"",D=`${k}

${C}`,I=new Blob([D],{type:"text/plain;charset=utf-8"}),B=URL.createObjectURL(I),W=document.createElement("a");W.href=B,W.download=`${k.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}.txt`,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(B),console.log("")},$t=async()=>{if(Object.keys(x).length===0){alert("");return}try{const C=(s==null?void 0:s.bookName)||"",k=await be.exportAsDocx({chapters:x,bookName:C});if(k.success){const D=new Blob([k.data],{type:"text/plain;charset=utf-8"}),I=URL.createObjectURL(D),B=document.createElement("a");B.href=I,B.download=k.filename,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(I),console.log("DOCX")}else alert("")}catch(C){console.error("DOCX:",C),alert("")}},Ke=async()=>{if(!(!H.isGenerating||!confirm(""))){try{se&&(se.close(),Q(null),console.log("SSE")),await be.cancelGeneration(b),console.log("")}catch(k){console.error(":",k)}if(z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),c(""),Object.keys(x).length>0){const k=Math.min(...Object.keys(x).map(Number));f(k),c(x[k])}le(),alert("")}},Qe=()=>{confirm("")&&(c(""),f(1),y(""),N({}),R(""),z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),localStorage.removeItem(te),localStorage.removeItem("writer-state-default"),alert(""))};_.useEffect(()=>{if(s!=null&&s.savedMicroStories){const C=s.savedMicroStories.length,k=Math.floor(C*2);h(k),f(1)}},[s]);const Lt=async(C,k)=>{if(!s){alert("");return}const D=s.selectedMicroStories||s.savedMicroStories;if(!D||D.length<4){alert("4");return}d(!0);try{const I=ps();console.log(":",I.length);const W=Object.keys(x).length>0?Math.max(...Object.keys(x).map(Number))+1:1;console.log("8..."),z({isGenerating:!0,currentGeneratingChapter:W,totalChapters:8,completedChapters:[]});const ne=(await be.prepareChapterStream({context:I,chapterNumber:W,previousEnding:v||void 0,savedMicroStories:D,generatedChapters:W>=9?x:void 0})).requestId;R(ne),console.log("requestId:",ne);const oe=be.generateChapterStream(ne);Q(oe);let Oe={};oe.onmessage=Ce=>{try{const ee=JSON.parse(Ce.data);switch(console.log("SSE:",ee.type,ee.chapter||""),ee.type){case"start":console.log(ee.message),z(he=>({...he,isGenerating:!0,totalChapters:8}));break;case"story_start":console.log(ee.message),z(he=>({...he,currentGeneratingChapter:ee.chapters[0]})),f(ee.chapters[0]),c("");break;case"story_chunk":if(ee.content){const he=Is(ee.content);c(he),console.log(`${ee.storyIndex}: ${he.length}`)}break;case"chapter_complete":if(ee.content){const he=Is(ee.content);Oe[ee.chapter]=he,N(Be=>({...Be,[ee.chapter]:he})),z(Be=>({...Be,completedChapters:[...Be.completedChapters,ee.chapter],currentGeneratingChapter:ee.chapter+1<=Be.totalChapters?ee.chapter+1:null})),ee.chapter===u&&c(he),console.log(`${ee.chapter}: ${In(he)}`)}break;case"story_complete":console.log(`${ee.storyIndex}`);break;case"cancelled":console.log(ee.message),z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),oe.close(),Q(null),d(!1),alert("");break;case"story_error":console.error(ee.error);break;case"complete":console.log(ee.message);try{const he=Object.keys(Oe).map(Number).sort((ce,we)=>ce-we);if(he.length>0){const ce=Math.max(...he),we=Oe[ce];if(we){const hn=we.split(`
`).slice(-10).join(`
`);y(hn)}}N(ce=>({...ce,...Oe}));const Be=Object.keys(x).length+Object.keys(Oe).length;z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log(`${Be}`),Be>=8?alert('8"9~16"'):alert(`${Be}`),oe.close(),Q(null),d(!1)}catch(he){console.error(":",he),z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),d(!1),alert("")}break}}catch(ee){console.error("SSE:",ee)}},oe.onerror=Ce=>{console.error("SSE:",Ce),alert(""),oe.close(),Q(null),d(!1)}}catch(I){console.error(":",I),alert(""),d(!1)}},V=async(C,k=!1)=>{if(!s){alert("");return}const D=s.savedMicroStories;if(!D||D.length===0){alert("");return}const I=D.length*2;if(C<1||C>I){alert(`1-${I}`);return}if(k&&Object.keys(x).length>0&&Object.keys(x).some(oe=>parseInt(oe)>=C)&&!confirm(` 

${C}

${C}

`))return;const B=I-C+1;if(B<=0){alert("");return}const W=Math.ceil(B/8),q=k?"":"";console.log(`${C}${q} ${B}  ${W} `),S(!0),T({current:0,total:B,currentBatch:1,totalBatches:W,message:`${C}${q}...`});try{let ne=C-1,oe=1,Oe={...x};for(k&&(Object.keys(Oe).forEach(Ce=>{parseInt(Ce)>=C&&delete Oe[parseInt(Ce)]}),console.log(`${C}`));oe<=W;){const Ce=ne+1,ee=Math.min(Ce+7,I),he=ee-Ce+1;T({current:ne-(C-1),total:B,currentBatch:oe,totalBatches:W,message:`${q}${oe} ( ${Ce}-${ee})...`}),console.log(`${oe} ${Ce}-${ee}`),Oe={...await Ct(Ce,he,Oe)},ne+=he,oe++}T({current:B,total:B,currentBatch:W,totalBatches:W,message:`${q}`}),setTimeout(()=>{alert(`${C}${q} ${B} `),S(!1),T(null),j(!1)},1e3)}catch(ne){console.error(":",ne),alert(""),S(!1),T(null)}},de=async()=>{if(!s){alert("");return}const C=s.savedMicroStories;if(!C||C.length===0){alert("");return}const k=C.length*2,D=Math.ceil(k/8);console.log(` ${C.length} ${k}  ${D} `),S(!0),T({current:0,total:k,currentBatch:1,totalBatches:D,message:"..."});try{let I=0,B=1,W={...x};for(;B<=D;){const q=I+1,ne=Math.min(q+7,k);T({current:I,total:k,currentBatch:B,totalBatches:D,message:`${B} ( ${q}-${ne})...`}),console.log(`${B} ${q}-${ne}`);const oe=ne-q+1;W={...await Ct(q,oe,W)};const Ce=ne-q+1;I+=Ce,console.log(`${B} ${I}/${k} `),B++}T({current:k,total:k,currentBatch:D,totalBatches:D,message:""}),setTimeout(()=>{alert(` ${k} `),S(!1),T(null),t&&t(!1),n&&n("")},1e3)}catch(I){console.error(":",I),alert(""),S(!1),T(null)}},Ct=async(C,k,D)=>new Promise(async(I,B)=>{try{if(!s){B(new Error(""));return}const W=s.selectedMicroStories||s.savedMicroStories;if(!W||W.length<4){B(new Error("4"));return}console.log(`${k||8}`),d(!0);try{const q=C||1,ne=k||8,oe=ps(q);console.log(":",oe.length),console.log(`${ne}...`),z({isGenerating:!0,currentGeneratingChapter:q,totalChapters:ne,completedChapters:[]});const Ce=(await be.prepareChapterStream({context:oe,chapterNumber:q,previousEnding:v||void 0,savedMicroStories:W,generatedChapters:void 0})).requestId;R(Ce),console.log("requestId:",Ce);const ee=be.generateChapterStream(Ce);Q(ee);let he={};ee.onmessage=Be=>{try{const ce=JSON.parse(Be.data);switch(console.log("SSE:",ce.type,ce.chapter||""),ce.type){case"start":console.log(""),z(we=>({...we,isGenerating:!0,totalChapters:8}));break;case"story_start":console.log(""),z(we=>({...we,currentGeneratingChapter:ce.chapters[0]})),f(ce.chapters[0]),c("");break;case"story_chunk":if(ce.content){const we=Is(ce.content);c(we),console.log(`: ${we.length}`)}break;case"chapter_complete":if(ce.content){const we=Is(ce.content);he[ce.chapter]=we,N(pn=>({...pn,[ce.chapter]:we})),z(pn=>({...pn,completedChapters:[...pn.completedChapters,ce.chapter],currentGeneratingChapter:ce.chapter+1<=pn.totalChapters?ce.chapter+1:null})),ce.chapter===u&&c(we),console.log(`${ce.chapter}: ${In(we)}`)}break;case"story_complete":console.log("");break;case"cancelled":console.log(""),z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),ee.close(),Q(null),d(!1),B(new Error(""));break;case"story_error":console.error(":",ce.error);break;case"complete":console.log("");try{const we=Object.keys(he).map(Number).sort((Kl,hs)=>Kl-hs);if(we.length>0){const Kl=Math.max(...we),hs=he[Kl];if(hs){const qf=hs.split(`
`).slice(-10).join(`
`);y(qf)}}const hn={...D||x,...he};N(hn);const Qf=Object.keys(hn).length;z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log(`${Qf}`),console.log(""),Wt(hn),console.log("TXT"),hr(hn),console.log(""),ee.close(),Q(null),d(!1),I(hn)}catch(we){console.error(":",we),z({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),d(!1),B(we)}break}}catch(ce){console.error("SSE:",ce),B(ce)}},ee.onerror=Be=>{console.error("SSE:",Be),d(!1),B(Be)}}catch(q){console.error(":",q),d(!1),B(q)}}catch(W){B(W)}}),Wt=async C=>new Promise(k=>{var D;try{const I=C||x;if(Object.keys(I).length===0){console.log(""),k();return}const B={id:`auto_save_${Date.now()}`,timestamp:new Date().toISOString(),chapterCount:Object.keys(I).length,totalWords:Object.values(I).reduce((q,ne)=>q+In(ne),0),chapters:{...I},preview:((D=Object.values(I)[0])==null?void 0:D.substring(0,200))+"..."||""},W=(s==null?void 0:s.savedVersions)||[];s&&l(s.id,{generatedChapters:{...I},savedVersions:[B,...W].slice(0,10)}),console.log(""),k()}catch(I){console.error(":",I),k()}}),hr=async C=>new Promise(k=>{try{const D=C||x;if(Object.keys(D).length===0){console.log(""),k();return}const I=Object.keys(D).map(Number).sort((Oe,Ce)=>Oe-Ce).map(Oe=>D[Oe]).join(`

`),B=(s==null?void 0:s.bookName)||"",W=`${B}

${I}`,q=new Blob([W],{type:"text/plain;charset=utf-8"}),ne=URL.createObjectURL(q),oe=document.createElement("a");oe.href=ne,oe.download=`${B.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}.txt`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(ne),console.log("TXT"),k()}catch(D){console.error(":",D),k()}}),ps=C=>{if(!s)return"";let k=`=== ${s.bookName} -  ===

`;if(s.outline&&(k+=`
`,k+=`${s.bookName}
`,k+=`${s.outline.logline}
`,k+=`${s.outline.characters}
`,k+=`${s.outline.world}
`,k+=`${s.outline.hook}
`,k+=`${s.outline.themes}

`),s.worldSetting){k+=`
`;const D=s.worldSetting.substring(0,1e3);k+=D+(s.worldSetting.length>1e3?"...":"")+`

`}if(s.characters){k+=`
`;const D=s.characters.substring(0,800);k+=D+(s.characters.length>800?"...":"")+`

`}if(s.detailedOutline){k+=`
`;const D=s.detailedOutline.substring(0,600);k+=D+(s.detailedOutline.length>600?"...":"")+`

`}if(s.savedMicroStories&&s.savedMicroStories.length>0){const B=Math.floor(((C||1)-1)/8)*4,W=s.savedMicroStories.slice(B,B+4);W.length>0&&(k+=`
`,W.forEach((q,ne)=>{const oe=B+ne,Oe=oe*2;k+=`${oe+1}${Oe+1}-${Oe+2}
`,k+=`${q.title}
`,k+=`${q.content}

`}))}if(s.savedMicroStories&&s.savedMicroStories.length>0){const D=Math.floor((u-1)/2),I=s.savedMicroStories[D];I&&(k+=`
`,k+=`${u}${u+1}
`,k+=`${I.title}
`,k+=`${I.content}
`,k+=`${I.macroStoryTitle}

`,k+=`

`)}return k},xr=C=>{const k=Object.keys(x).map(Number).sort((D,I)=>D-I);if(C==="prev"){const I=Math.floor((u-1)/2)*2+1-2;I>=1&&(f(I),c(x[I]||""),A(I.toString()))}else if(C==="next"){const I=Math.floor((u-1)/2)*2+1+2;k.includes(I)&&(f(I),c(x[I]||""),A(I.toString()),H.currentGeneratingChapter)}},Wf=()=>{alert("...")},Kf=()=>{const C=`${u}

${i}`,k=new Blob([C],{type:"text/plain;charset=utf-8"}),D=URL.createObjectURL(k),I=document.createElement("a");I.href=D,I.download=`chapter_${u}.txt`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(D)};return s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"w-full px-6 py-3",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[o.jsx("button",{onClick:e,disabled:H.isGenerating,className:`p-2 rounded-lg transition-colors ${H.isGenerating?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-secondary-100 hover:bg-secondary-200 text-secondary-600"}`,title:H.isGenerating?"":"",children:o.jsx(Si,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:o.jsx(Rr,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{className:"hidden sm:block",children:[o.jsx("h1",{className:"text-base font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-xs text-secondary-600",children:""})]}),o.jsx("div",{className:"sm:hidden",children:o.jsx("h1",{className:"text-sm font-bold text-secondary-900",children:""})})]})]}),o.jsxs("div",{className:"flex items-center space-x-6 flex-1 justify-center min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-white/70 rounded-lg border border-secondary-200",children:[o.jsx(Je,{className:"w-4 h-4 text-primary-600"}),o.jsx("div",{className:"text-sm font-medium text-secondary-800",children:H.isGenerating?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:zs(H.currentGeneratingChapter||1)}),o.jsxs("span",{className:"ml-2 text-orange-600 font-bold",children:[i?In(i):0,""]}),o.jsxs("div",{className:"flex items-center ml-2",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),o.jsx("span",{className:"ml-1 text-xs text-orange-600 font-medium",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:zs(u)}),i&&o.jsxs("span",{className:"ml-2 text-blue-600 font-bold",children:[In(i),""]})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[Object.keys(x).length," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 rounded-xl px-4 py-2 border border-secondary-200 shadow-sm",children:[o.jsx("button",{onClick:()=>xr("prev"),disabled:Object.keys(x).length===0||Math.floor((u-1)/2)*2+1-2<1,className:"flex items-center justify-center w-8 h-8 bg-secondary-100 hover:bg-secondary-200 disabled:bg-gray-100 disabled:text-gray-400 rounded-lg transition-all duration-200 disabled:cursor-not-allowed hover:shadow-sm",title:"",children:o.jsx(hf,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-secondary-50 rounded-lg",children:[o.jsx("span",{className:"text-xs font-medium text-secondary-600",children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-xs text-secondary-500",children:""}),o.jsx("input",{type:"number",min:"1",value:K,onChange:C=>A(C.target.value),onKeyPress:C=>C.key==="Enter"&&rt(),placeholder:"7",className:"w-12 px-2 py-1 text-sm border border-secondary-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-center"}),o.jsx("span",{className:"text-xs text-secondary-500",children:""})]}),o.jsx("button",{onClick:rt,className:"px-3 py-1 bg-primary-500 hover:bg-primary-600 text-white text-xs font-medium rounded-lg transition-colors hover:shadow-sm",children:""})]}),o.jsx("button",{onClick:()=>xr("next"),disabled:Object.keys(x).length===0||(()=>{const C=Object.keys(x).map(Number).sort((I,B)=>I-B),D=Math.floor((u-1)/2)*2+1+2;return!C.includes(D)})(),className:"flex items-center justify-center w-8 h-8 bg-secondary-100 hover:bg-secondary-200 disabled:bg-gray-100 disabled:text-gray-400 rounded-lg transition-all duration-200 disabled:cursor-not-allowed hover:shadow-sm",title:"",children:o.jsx(Ni,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col space-y-2",children:[H.isGenerating&&o.jsxs("button",{onClick:Ke,className:"flex items-center space-x-2 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-sm",children:[o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]}),!H.isGenerating&&Object.keys(x).length>0&&o.jsxs("button",{onClick:Qe,className:"flex items-center space-x-2 px-3 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors text-sm",children:[o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[o.jsxs("button",{onClick:pe,disabled:Object.keys(x).length===0,className:"flex items-center space-x-2 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(Sa,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:""})]}),o.jsxs("button",{onClick:()=>F(!0),disabled:!(s!=null&&s.savedVersions)||s.savedVersions.length===0,className:"flex items-center space-x-2 px-3 py-2 bg-indigo-500 hover:bg-indigo-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(xf,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:""})]}),o.jsxs("button",{onClick:xt,disabled:Object.keys(x).length===0,className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"TXT"})]}),o.jsxs("button",{onClick:$t,disabled:Object.keys(x).length===0,className:"flex items-center space-x-2 px-3 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"DOCX"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs hidden lg:inline",children:"AI "})]})]})]})})}),o.jsx("div",{className:"w-full px-6 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsx("div",{className:"lg:col-span-3 space-y-6",children:o.jsxs("div",{className:"card p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 mb-4 flex items-center",children:[o.jsx(Je,{className:"w-5 h-5 mr-2 text-primary-600"}),""]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:""}),o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:zs(u)}),o.jsxs("div",{className:"text-sm text-secondary-500 mt-1",children:[": ",Object.keys(x).length," ",H.isGenerating&&o.jsxs("span",{className:"ml-2 text-orange-600",children:["(",H.currentGeneratingChapter,"...)"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[Object.keys(x).length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),o.jsx("span",{className:"text-sm font-medium text-amber-800",children:""})]}),o.jsxs("p",{className:"text-sm text-amber-700 mb-3",children:[" ",Object.keys(x).length," "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>{const C=X();M(C),G(!1),j(!0)},className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg font-medium transition-all duration-200 text-sm",children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>{M(1),G(!0),j(!0)},className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white rounded-lg font-medium transition-all duration-200 text-sm",children:[o.jsx(Sn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsx("div",{className:"text-center text-sm text-secondary-500",children:""})]}):null,o.jsx("button",{onClick:()=>Lt(),disabled:g||a||p||(()=>{var I;const C=Object.keys(x).length,D=(Math.floor(C/8)+1)*4;return(((I=s==null?void 0:s.savedMicroStories)==null?void 0:I.length)||0)<D})(),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg font-semibold transition-all duration-200 disabled:cursor-not-allowed",children:g?o.jsxs(o.Fragment,{children:[o.jsx(Sn,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rr,{className:"w-6 h-6"}),o.jsx("span",{children:(()=>{const C=Object.keys(x).length;return C===0?"8":C%8!==0?` (${C%8}/8)`:""})()})]})}),o.jsx("div",{className:"text-center text-sm text-secondary-500",children:""}),o.jsx("button",{onClick:de,disabled:a||g||p||!((Ei=s==null?void 0:s.savedMicroStories)!=null&&Ei.length),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg font-semibold transition-all duration-200 disabled:cursor-not-allowed",children:p?o.jsxs(o.Fragment,{children:[o.jsx(Sn,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-6 h-6"}),o.jsx("span",{children:(Oi=s==null?void 0:s.savedMicroStories)!=null&&Oi.length?` (${s.savedMicroStories.length}  ${s.savedMicroStories.length*2})`:""})]})}),E&&o.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsxs("span",{className:"text-sm font-medium text-green-700",children:[E.currentBatch,"/",E.totalBatches," "]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[E.current,"/",E.total," "]}),E.currentChapter&&o.jsxs("div",{className:"flex items-center space-x-2 px-2 py-1 bg-green-100 rounded-md",children:[o.jsxs("span",{className:"text-xs font-medium text-green-800",children:["",E.currentChapter,""]}),E.currentChapterWords!==void 0&&o.jsxs("span",{className:"text-xs text-green-600",children:["(",E.currentChapterWords,")"]}),o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})]}),o.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mb-2",children:o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-300",style:{width:`${E.current/E.total*100}%`}})}),o.jsx("div",{className:"text-sm text-green-700 text-center",children:E.message}),o.jsxs("div",{className:"mt-2 text-xs text-green-600 text-center",children:["8   ",E.totalBatches," "]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:Wf,disabled:!i,className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white text-sm rounded font-medium disabled:cursor-not-allowed",children:[o.jsx(Sa,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:Kf,disabled:!i,className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white text-sm rounded font-medium disabled:cursor-not-allowed",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})}),o.jsx("div",{className:"lg:col-span-6",children:i?o.jsxs("div",{className:"card p-8 bg-white/95 backdrop-blur-sm shadow-xl border-0",children:[o.jsx("div",{className:"mb-6 pb-4 border-b border-secondary-200",children:o.jsx("h2",{className:"text-2xl font-bold text-secondary-900 mb-2",children:zs(u)})}),o.jsx("div",{className:"prose prose-base max-w-none",children:o.jsx("div",{className:"text-secondary-800 leading-relaxed text-base font-serif",style:{lineHeight:"1.8",fontFamily:'"Noto Serif SC", "Source Han Serif SC", "", serif',fontSize:"16px",letterSpacing:"0.3px",whiteSpace:"pre-wrap"},children:i.split(`

`).map((C,k)=>{const D=C.match(/^\d+\s*\[/);return C.trim()===""?null:o.jsx("p",{className:"mb-4",style:{textIndent:D?"0":"2em",marginBottom:"1.2em",textAlign:"justify"},children:C.trim()},k)})})})]}):o.jsxs("div",{className:"card p-12 text-center",children:[o.jsx(Rr,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600 mb-6",children:'""AI'}),o.jsx("div",{className:"text-sm text-secondary-500",children:" AI"})]})}),o.jsx("div",{className:"lg:col-span-3",children:o.jsxs("div",{className:"sticky top-8 space-y-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 mb-4 flex items-center",children:[o.jsx(Rt,{className:"w-5 h-5 mr-2 text-primary-600"}),""]}),(()=>{var D;const C=Math.floor((u-1)/2),k=(D=s==null?void 0:s.savedMicroStories)==null?void 0:D[C];return k?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-primary-50 p-3 rounded-lg",children:[o.jsxs("h4",{className:"font-medium text-primary-900 mb-2",children:["",C+1,""]}),o.jsx("p",{className:"text-sm text-primary-800 font-medium mb-2",children:k.title}),o.jsx("div",{className:"text-xs text-primary-700 bg-white p-3 rounded border-l-2 border-primary-500 max-h-40 overflow-y-auto",children:k.content})]}),o.jsxs("div",{className:"text-xs text-secondary-500 space-y-1",children:[o.jsxs("p",{children:[" ",u,"",u+1,""]}),o.jsxs("p",{children:[" ",k.macroStoryTitle]}),o.jsxs("p",{children:[" ",k.order+1,""]})]})]}):o.jsxs("div",{className:"text-center py-8 text-secondary-500",children:[o.jsx(Rt,{className:"w-12 h-12 mx-auto mb-3 text-secondary-300"}),o.jsx("p",{className:"text-sm",children:""}),o.jsx("p",{className:"text-xs mt-1",children:""})]})})()]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h4",{className:"text-md font-semibold text-secondary-900 mb-3",children:""}),o.jsxs("div",{className:"text-sm text-secondary-600 space-y-2",children:[o.jsx("p",{children:" 2000-2200"}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),v&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-secondary-900 mt-3 mb-1",children:""}),o.jsxs("p",{className:"text-xs bg-secondary-50 p-2 rounded",children:[v.substring(0,100),"..."]})]})]})]})]})})]})}),Y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:L?"":""}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L?"":""})]}),o.jsx("button",{onClick:()=>{j(!1),G(!1),M(null)},className:"text-gray-400 hover:text-gray-600",children:o.jsx("span",{className:"text-2xl",children:""})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s!=null&&s.savedMicroStories&&s.savedMicroStories.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.savedMicroStories.map((C,k)=>{const D=k*2+1,I=k*2+2,B=x[D]&&x[I],W=x[D]||x[I],q=$===D,ne=L||!B;return o.jsxs("div",{className:`border rounded-lg p-4 transition-all cursor-pointer ${ne?B&&L?"border-red-200 bg-red-50 hover:bg-red-100":B?"border-green-200 bg-green-50":W?"border-yellow-200 bg-yellow-50":q?"border-blue-300 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 bg-white hover:bg-gray-50":"border-gray-200 bg-gray-50 opacity-60"}`,onClick:()=>{ne&&M(D)},children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["",k+1,""]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-1",children:C.title}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[o.jsxs("span",{children:["",D,"",I,""]}),o.jsx("span",{children:""}),o.jsx("span",{children:C.macroStoryTitle})]})]}),o.jsx("div",{className:"flex flex-col items-end space-y-1",children:B?o.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-xs font-medium",children:""})]}):W?o.jsxs("div",{className:"flex items-center space-x-1 text-yellow-600",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"text-xs font-medium",children:""})]}):o.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),o.jsx("span",{className:"text-xs",children:""})]})})]}),o.jsxs("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded max-h-16 overflow-hidden",children:[C.content.substring(0,80),"..."]}),ne&&o.jsx("button",{onClick:oe=>{oe.stopPropagation(),M(D),j(!1),G(!1),V(D,L)},className:`mt-3 w-full px-3 py-2 text-sm font-medium rounded transition-colors ${q?"bg-blue-600 text-white hover:bg-blue-700":L&&B?"bg-red-600 text-white hover:bg-red-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:L&&B?`${D}`:`${D}`})]},k)})}),$&&o.jsx("div",{className:`mt-6 p-4 border rounded-lg ${L?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-sm font-medium ${L?"text-red-900":"text-blue-900"}`,children:["",$,"",L?"":"",""]}),o.jsx("p",{className:`text-xs mt-1 ${L?"text-red-700":"text-blue-700"}`,children:L?`${$}`:`${$}`})]}),o.jsxs("button",{onClick:()=>{j(!1),G(!1),V($,L)},className:`px-4 py-2 text-white text-sm font-medium rounded hover:opacity-90 transition-colors ${L?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:["",L?"":"",""]})]})})]}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:""}),o.jsx("p",{className:"text-sm mt-1",children:""})]})})]})}),P&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),o.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("span",{className:"text-2xl",children:""})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s!=null&&s.savedVersions&&s.savedVersions.length>0?o.jsx("div",{className:"space-y-4",children:s.savedVersions.map(C=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Je,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:[C.chapterCount,"  ",C.totalWords,""]}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(C.timestamp).toLocaleString()})]})]}),o.jsx("button",{onClick:()=>Ne(C.id),className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:""})]}),o.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:o.jsx("p",{className:"line-clamp-2",children:C.preview})})]},C.id))}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:""})]})})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Je,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600 mb-4",children:""}),o.jsx("button",{onClick:e,className:"btn btn-primary",children:""})]})})}function Ex(e){return`### ${e.title}


${e.logline}


${e.characters}


${e.world}


${e.hook}


${e.themes}`}function Eo(e){return e.replace(/```[\s\S]*?```/g,"").replace(/`([^`]*)`/g,"$1").replace(/\*\*([^*]*)\*\*/g,"$1").replace(/\*([^*]*)\*/g,"$1").replace(/^\s*#+\s*/gm,"").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/^\s*>\s+/gm,"").replace(/|||||||||||||||||||||||||||||||||||||||/g,"").replace(/\n{3,}/g,`

`).trim()}function Ox({onBack:e,onNavigateToWriter:t,setAutoFlowStep:n,setAutoFlowProgress:r}){const{currentProject:s,updateProject:l}=Wl(),[a,i]=_.useState(null),[c,u]=_.useState([]),[f,m]=_.useState({}),[h,v]=_.useState({}),[y,x]=_.useState({}),[N,g]=_.useState(!1),[d,p]=_.useState(null),S=P=>{const F=[],K=/[\d]+/g,A=[...P.matchAll(K)];if(A.length===0)return console.warn(""),[];for(let Y=0;Y<A.length;Y++){const j=A[Y],$=A[Y+1],M=j.index+j[0].length,L=$?$.index:P.length,G=P.slice(M,L).trim();G.length>0&&F.push(G)}return console.log(":",F.length),console.log(":",F),F},b=async()=>{if(!s){alert("");return}try{const P=await be.generateDetailedOutline({outline:Ex(s.outline),worldSetting:s.worldSetting||"",characters:s.characters||""});console.log(":",P.data),await l(s.id,{detailedOutline:P.data});const F=S(P.data);u(F),m({}),await l(s.id,{microStoryOutlines:{}}),alert("")}catch(P){console.error(":",P),alert("")}};_.useEffect(()=>{var P;if(console.log("StoryStructurePage useEffect triggered, currentProject:",{id:s==null?void 0:s.id,hasDetailedOutline:!!(s!=null&&s.detailedOutline),hasMicroStoryOutlines:!!(s!=null&&s.microStoryOutlines),microStoryOutlinesKeys:s!=null&&s.microStoryOutlines?Object.keys(s.microStoryOutlines):[],savedMicroStoriesCount:((P=s==null?void 0:s.savedMicroStories)==null?void 0:P.length)||0}),s!=null&&s.detailedOutline){const F=S(s.detailedOutline);u(F),console.log(":",F.length,"")}s!=null&&s.microStoryOutlines?(m(s.microStoryOutlines),console.log(":",Object.keys(s.microStoryOutlines))):console.log("microStoryOutlines"),s!=null&&s.savedMicroStories?console.log(":",s.savedMicroStories.length,""):console.log("savedMicroStories")},[s==null?void 0:s.id,s==null?void 0:s.detailedOutline,s==null?void 0:s.microStoryOutlines,s==null?void 0:s.savedMicroStories]),_.useEffect(()=>{localStorage.getItem("story-architect-auto-flow")==="story-structure"&&s&&c.length>=3&&(console.log("3"),localStorage.removeItem("story-architect-auto-flow"),n&&n('"3"...'),r&&r(95),setTimeout(()=>{z()},1e3))},[s,c,n,r]);const R=P=>["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""][P-1]||P.toString(),E=P=>{const K=P*20+1,A=(P+1)*20;return{startChapter:K,endChapter:A}},T=P=>{if(P===0)return!0;const F=`story_${P-1}`;return!!f[F]},H=async(P,F)=>{if(!T(P)){alert("");return}const K=`story_${P}`;v(A=>({...A,[K]:!0}));try{const A=R(P+1),Y=E(P),j=await be.generateMicroStories({macroStory:F,storyIndex:A,chapterRange:`${Y.startChapter}-${Y.endChapter}`});console.log(`${A} (: ${Y.startChapter}-${Y.endChapter})`);const $={...f,[K]:j.data};m($),s&&l(s.id,{microStoryOutlines:$})}catch(A){console.error(`${P+1}:`,A),alert(`${P+1}`)}finally{v(A=>({...A,[K]:!1}))}},z=async()=>{var P;if(!s){alert("");return}if(c.length<3){alert("3");return}try{const F=((P=s.savedMicroStories)==null?void 0:P.length)||0,K=Math.floor(F/10),A=K,Y=c.length-A;if(Y<=0){alert(` ${F} `);return}const j=Math.min(3,Y),$=c.slice(A,A+j);g(!0),p({current:0,total:j,currentStory:"..."}),console.log(` ${F}  ${K} `),console.log(` ${A+1}  ${A+j} `);let M={...f},L=s.savedMicroStories||[];for(let G=0;G<$.length;G++){const X=A+G,te=$[G],le=`story_${X}`;if(p({current:G+1,total:j,currentStory:` ${X+1} ...`}),!M[le]){const Ne=R(X+1),rt=E(X),xt=await be.generateMicroStories({macroStory:te,storyIndex:Ne,chapterRange:`${rt.startChapter}-${rt.endChapter}`});console.log(`${Ne}`),M={...M,[le]:xt.data},l(s.id,{microStoryOutlines:M})}p({current:G+1,total:3,currentStory:` ${X+1} ...`});const pe=M[le];if(pe){const xt=(Ke=>{const Qe=[],Lt=/[\d]+/g,V=[...Ke.matchAll(Lt)];for(let de=0;de<V.length;de++){const Ct=V[de],Wt=V[de+1],hr=Ct.index+Ct[0].length,ps=Wt?Wt.index:Ke.length,xr=Ke.slice(hr,ps).trim();xr.length>0&&Qe.push(xr)}return Qe})(pe).map((Ke,Qe)=>({id:`${le}_micro_${Qe}_${Date.now()}_${Math.random()}`,title:` ${R(Qe+1)}`,content:Eo(Ke),macroStoryId:le,macroStoryTitle:` ${X+1}`,macroStoryContent:te,order:Qe,createdAt:new Date().toISOString()}));L=[...L.filter(Ke=>Ke.macroStoryId!==le),...xt]}}m(M),l(s.id,{savedMicroStories:L}),p({current:j,total:j,currentStory:"..."}),localStorage.setItem("story-architect-auto-flow","writer"),setTimeout(()=>{console.log(""),t==null||t()},2e3)}catch(F){console.error(":",F),alert("")}finally{g(!1),p(null)}},se=P=>{const F=`story_${P}`;x(K=>({...K,[F]:!K[F]}))},Q=(P,F)=>{if(!s){alert("");return}const K=`story_${P}`,A=f[K];if(!A){alert("");return}const $=(pe=>{const Ne=[],rt=/[\d]+/g,xt=[...pe.matchAll(rt)];for(let $t=0;$t<xt.length;$t++){const Ke=xt[$t],Qe=xt[$t+1],Lt=Ke.index+Ke[0].length,V=Qe?Qe.index:pe.length,de=pe.slice(Lt,V).trim();de.length>0&&Ne.push(de)}return Ne})(A).map((pe,Ne)=>({id:`${K}_micro_${Ne}_${Date.now()}`,title:` ${R(Ne+1)}`,content:Eo(pe),macroStoryId:K,macroStoryTitle:` ${P+1}`,macroStoryContent:F,order:Ne,createdAt:new Date().toISOString()})),M=s.savedMicroStories||[],L=M.filter(pe=>pe.macroStoryId!==K),G=M.length-L.length,X=G>0,te=[...L,...$];l(s.id,{savedMicroStories:te});const le=X?` ${$.length}  ${G} `:` ${$.length} `;alert(le)};return s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>e("world-setting"),className:"p-2 bg-secondary-100 hover:bg-secondary-200 rounded-lg transition-colors",children:o.jsx(Si,{className:"w-5 h-5 text-secondary-600"})}),o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(Th,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:""})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-3 py-1.5 bg-orange-100 hover:bg-orange-200 rounded-lg text-orange-700 text-sm font-medium transition-colors",title:"",children:[o.jsx($h,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:z,disabled:N||c.length<3,className:"flex items-center space-x-2 px-3 py-1.5 bg-purple-100 hover:bg-purple-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-purple-700 text-sm font-medium transition-colors",title:"3",children:N?o.jsxs(o.Fragment,{children:[o.jsx(Sn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"..."})]}):(()=>{var j;const P=((j=s==null?void 0:s.savedMicroStories)==null?void 0:j.length)||0,F=Math.floor(P/10),K=F+1,A=Math.min(F+3,c.length);return Math.max(0,c.length-F)===0?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsxs("span",{children:["",K,"-",A,""]})]})})()}),d&&o.jsxs("div",{className:"flex items-center space-x-2 text-purple-700 bg-purple-50 px-3 py-1.5 rounded-lg",children:[o.jsx(Sn,{className:"w-4 h-4 animate-spin"}),o.jsxs("span",{className:"text-sm",children:[d.currentStory," (",d.current,"/",d.total,")"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:[": ",s.bookName]})]})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(s==null?void 0:s.savedMicroStories)&&s.savedMicroStories.length>0&&o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"card p-8 bg-gradient-to-br from-primary-50 via-white to-secondary-50 border-2 border-primary-100",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[o.jsx("div",{className:"p-3 bg-primary-100 rounded-full",children:o.jsx(Ae,{className:"w-8 h-8 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-secondary-900",children:" "}),o.jsx("p",{className:"text-secondary-600",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:s.savedMicroStories.length}),o.jsx("div",{className:"text-sm text-secondary-600",children:""}),o.jsxs("div",{className:"text-xs text-secondary-400 mt-1",children:[" ",s.savedMicroStories.length*2," "]})]}),o.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:s.savedMicroStories.length*4400}),o.jsx("div",{className:"text-sm text-secondary-600",children:""}),o.jsxs("div",{className:"text-xs text-secondary-400 mt-1",children:["",Math.round(s.savedMicroStories.length*4400/1e3),""]})]}),o.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"AI"}),o.jsx("div",{className:"text-sm text-secondary-600",children:""}),o.jsx("div",{className:"text-xs text-secondary-400 mt-1",children:""})]})]}),o.jsxs("button",{onClick:t,className:"inline-flex items-center space-x-4 px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:[o.jsx(Rr,{className:"w-6 h-6"}),o.jsx("span",{children:""}),o.jsx(Ae,{className:"w-5 h-5"})]}),o.jsx("div",{className:"mt-4 text-sm text-secondary-500",children:" AI"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsx("div",{className:"lg:col-span-4 space-y-4",children:o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Je,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.map((P,F)=>{const K=E(F),A=!!f[`story_${F}`],Y=T(F),j=h[`story_${F}`];return o.jsx("div",{onClick:()=>Y&&i(P),className:`p-4 rounded-lg border transition-all ${Y?a===P?"border-primary-300 bg-primary-50 cursor-pointer":"border-secondary-200 hover:border-secondary-300 hover:bg-secondary-50 cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("h3",{className:`font-medium mb-1 ${Y?"text-secondary-900":"text-secondary-500"}`,children:[" ",F+1]}),o.jsxs("span",{className:"text-xs text-secondary-400 bg-secondary-100 px-2 py-1 rounded",children:["",K.startChapter,"-",K.endChapter,""]})]}),o.jsxs("div",{className:"text-xs mb-1 text-secondary-400",children:[R(F+1),""]}),o.jsxs("p",{className:`text-sm line-clamp-3 mb-2 ${Y?"text-secondary-600":"text-secondary-500"}`,children:[P.substring(0,100),"..."]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-2",children:A?o.jsxs("span",{className:"text-xs text-green-600 flex items-center",children:[o.jsx(qn,{className:"w-3 h-3 mr-1"}),""]}):Y?o.jsx("span",{className:"text-xs text-blue-500",children:""}):o.jsx("span",{className:"text-xs text-secondary-500",children:""})}),j&&o.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[o.jsx(Sn,{className:"w-3 h-3 mr-1 animate-spin"}),""]})]})]}),o.jsx(Ni,{className:`w-5 h-5 mt-1 ${Y?"text-secondary-400":"text-secondary-300"}`})]})},F)})})]})}),o.jsx("div",{className:"lg:col-span-8",children:a?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:[" ",c.indexOf(a)+1," "]}),o.jsx("button",{onClick:()=>H(c.indexOf(a),a),disabled:h[`story_${c.indexOf(a)}`],className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h[`story_${c.indexOf(a)}`]?o.jsxs(o.Fragment,{children:[o.jsx(Sn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Dc,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:a})})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:" (10)"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>Q(c.indexOf(a),a),className:"flex items-center space-x-2 px-3 py-1.5 bg-green-100 hover:bg-green-200 text-green-700 rounded-md text-sm font-medium",title:"",children:[o.jsx(Dc,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:()=>se(c.indexOf(a)),className:"flex items-center space-x-2 px-3 py-1.5 bg-secondary-100 text-secondary-700 rounded-md text-sm hover:bg-secondary-200",children:y[`story_${c.indexOf(a)}`]?o.jsxs(o.Fragment,{children:[o.jsx(_h,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(xf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]}),(()=>{const F=`story_${c.indexOf(a)}`,K=f[F],A=y[F];if(!K)return o.jsxs("div",{className:"text-center py-8 text-secondary-500",children:[o.jsx(Rt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:""}),o.jsx("p",{className:"text-sm mt-1",children:'""'})]});const j=($=>{const M=[],L=/[\d]+/g,G=[...$.matchAll(L)];for(let X=0;X<G.length;X++){const te=G[X],le=G[X+1],pe=te.index+te[0].length,Ne=le?le.index:$.length,rt=$.slice(pe,Ne).trim();rt.length>0&&M.push(rt)}return M})(K);return o.jsx("div",{className:"space-y-4",children:j.map(($,M)=>o.jsx("div",{className:`border border-secondary-200 rounded-lg p-4 transition-all ${A?"":"max-h-24 overflow-hidden"}`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 text-primary-700 rounded-full flex items-center justify-center text-sm font-medium",children:M+1}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-secondary-900 mb-2",children:[" ",R(M+1)]}),o.jsx("div",{className:`text-sm text-secondary-700 leading-relaxed whitespace-pre-wrap ${A?"":"line-clamp-3"}`,children:Eo($)})]})]})},M))})})()]})]}):o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Rt,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:""})]})})]})]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Je,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600 mb-4",children:""}),o.jsx("button",{onClick:()=>e("world-setting"),className:"btn btn-primary",children:""})]})})}function _x(e){return Rx(e)}function Rx(e){const t=[];return e.split(/(?=### \d+)/).forEach((r,s)=>{if(!r.trim()||!r.includes("### "))return;const l={id:s+1,title:"",logline:"",hook:"",characters:"",world:"",themes:"",rawContent:r},a=r.match(/### \d+(.+)/);a&&(l.title=a[1].trim());const i=r.split(`
`);let c="";i.forEach(u=>{const f=u.trim();if(f==="")c="logline";else if(f==="")c="characters";else if(f==="")c="world";else if(f==="")c="hook";else if(f==="")c="themes";else if(c&&f&&!f.includes("")&&f.length>1){const m=f.replace(/\*\*/g,"").replace(/[]/g,"").trim();if(m)switch(c){case"logline":l.logline+=(l.logline?" ":"")+m;break;case"hook":l.hook+=(l.hook?`
`:"")+m;break;case"characters":l.characters+=(l.characters?`
`:"")+m;break;case"world":l.world+=(l.world?`
`:"")+m;break;case"themes":l.themes+=(l.themes?`
`:"")+m;break}}}),l.title&&t.push(l)}),t}function Tx(){const{createProject:e,updateProject:t}=Wl(),[n,r]=_.useState(!1),[s,l]=_.useState([]),[a,i]=_.useState(""),c=_.useRef(!0);_.useEffect(()=>(c.current=!0,()=>{c.current=!1}),[]);const u=(d,p)=>`auto_gen_${d}_${p}`,f=(d,p)=>{try{const S=u(d,p),b=localStorage.getItem(S);if(b){const R=JSON.parse(b);if(Date.now()-R.timestamp<24*60*60*1e3)return R.data;localStorage.removeItem(S)}}catch(S){console.error(":",S)}return null},m=(d,p,S)=>{try{const b=u(d,p),R={data:S,timestamp:Date.now()};localStorage.setItem(b,JSON.stringify(R))}catch(b){console.error(":",b)}},h=d=>{try{Object.keys(localStorage).filter(S=>S.startsWith(`auto_gen_${d}_`)).forEach(S=>localStorage.removeItem(S))}catch(p){console.error(":",p)}},v=_.useCallback((d,p)=>{l(S=>S.map(b=>b.id===d?{...b,...p}:b))},[]),y=_.useCallback(()=>{l([{id:"import-outline",label:"",status:"pending"},{id:"generate-world",label:"",status:"pending"},{id:"generate-characters",label:"",status:"pending"},{id:"generate-outline",label:"",status:"pending"},{id:"save-project",label:"",status:"pending"},{id:"micro-stories",label:"",status:"pending"},{id:"select-stories",label:"",status:"pending"},{id:"complete",label:"",status:"pending"}])},[]),x=d=>`### ${d.title}


${d.logline}


${d.characters}


${d.world}


${d.hook}


${d.themes}`,N=_.useCallback(async(d,p,S,b)=>{var R,E;r(!0),y();try{h(p),v("import-outline",{status:"running",message:"..."}),i("..."),await new Promise(L=>setTimeout(L,1e3)),v("import-outline",{status:"completed",message:""});const T=x(d);v("generate-world",{status:"running",message:"..."}),i("...");let H;const z=f(p,"world-setting");z?(H={data:z},v("generate-world",{status:"completed",message:""})):(H=await be.generateWorldSetting({outline:T}),m(p,"world-setting",H.data),v("generate-world",{status:"completed",message:""})),v("generate-characters",{status:"running",message:"..."}),i("...");let se;const Q=f(p,"characters");Q?(se={data:Q},v("generate-characters",{status:"completed",message:""})):(se=await be.generateCharacters({outline:T,worldSetting:H.data}),m(p,"characters",se.data),v("generate-characters",{status:"completed",message:""})),v("generate-outline",{status:"running",message:"..."}),i("...");let P;const F=f(p,"detailed-outline");F?(P={data:F},v("generate-outline",{status:"completed",message:""})):(P=await be.generateDetailedOutline({outline:T,worldSetting:H.data,characters:se.data}),m(p,"detailed-outline",P.data),v("generate-outline",{status:"completed",message:""})),v("save-project",{status:"running",message:"..."}),i("...");const K=e(p,d,{worldSetting:H.data,characters:se.data,detailedOutline:P.data});v("save-project",{status:"completed",message:""}),v("micro-stories",{status:"running",message:"..."}),i("...");let A=[];const Y=f(p,"micro-stories");if(Y)A=Y,v("micro-stories",{status:"completed",message:` ${A.length} `});else{const L=Mx(P.data);if(console.log(` ${L.length} `,L.map(X=>X.title)),L.length===0){console.error(""),console.error(":",P.data.length),console.error(" (1000):",P.data.substring(0,1e3));const te=P.data.split(`
`).filter(le=>le.includes("")||le.includes("")||le.match(/^\d+[\.\s]/)||le.match(/^[]+[\.\s]/)||le.match(/[\d]+/));throw console.error(":",te.slice(0,10)),v("micro-stories",{status:"error",message:""}),new Error("AI")}const G=L[0];if(!G||!G.content)throw console.error(""),v("micro-stories",{status:"error",message:""}),new Error("");i(`${G.title}...`),console.log(`: ${G.title}`),console.log(`: ${G.content.length}`);try{const X=await be.generateMicroStories({macroStory:G.content,storyIndex:""});console.log("API:",((R=X.data)==null?void 0:R.length)||0);const te=$x(X.data,0,G.title,G.content);if(console.log(` ${te.length} `),te.length===0)throw console.error(""),v("micro-stories",{status:"error",message:"AI"}),new Error("");A=te,v("micro-stories",{progress:100,message:` ${A.length} `})}catch(X){throw console.error(":",X),v("micro-stories",{status:"error",message:`: ${X instanceof Error?X.message:""}`}),X}console.log(` ${A.length} `),m(p,"micro-stories",A),v("micro-stories",{status:"completed",message:` ${A.length} `})}const $={story_0:A.map((L,G)=>`${G+1}${L.title}

${L.content}`).join(`

---

`)};c.current&&(t(K.id,{savedMicroStories:A,microStoryOutlines:$}),console.log(":",{savedMicroStoriesCount:A.length,microStoryOutlinesKeys:Object.keys($),firstOutlineLength:((E=$.story_0)==null?void 0:E.length)||0})),v("select-stories",{status:"running",message:"..."}),i("...");const M=A.slice(0,4);c.current&&t(K.id,{selectedMicroStories:M,autoSelectedStories:!0}),console.log(` ${M.length} :`,M.map(L=>L.title)),await new Promise(L=>setTimeout(L,1e3)),v("select-stories",{status:"completed",message:` ${M.length} `}),v("complete",{status:"completed",message:"..."}),i("..."),await new Promise(L=>setTimeout(L,2e3)),console.log("ID:",K.id),S(K.id,!1)}catch(T){console.error(":",T);const H=s.find(z=>z.status==="running");H&&v(H.id,{status:"error",message:T instanceof Error?T.message:""}),b(T instanceof Error?T.message:"")}finally{r(!1)}},[e,t,v,y,s]),g=_.useCallback(()=>{c.current&&(r(!1),l([]),i(""))},[]);return{isAutoGenerating:n,steps:s,currentStepMessage:a,startAutoGeneration:N,cancelAutoGeneration:g}}function Mx(e){const t=[],n=e.split(`
`);let r=null;for(const s of n){const l=s.match(/(?:([\d]+)|\[([\d]+)\]|([\d]+)[:]|(\d+)\.\s*([^\[]+)|([\d]+)[\.\s]+([^\[]+))/);if(l){r&&t.push({title:r.title,content:r.content.join(`
`)});let a="";if(l[1]||l[2]||l[3]){const i=l[1]||l[2]||l[3];s.includes("")?a=s.replace(/[\d]+/,"").trim():s.includes("[")?a=s.replace(/\[[\d]+\]/,"").trim():s.includes("")&&(a=s.replace(/[\d]+[:]/,"").trim()),a.trim()||(a=`${i}`)}else l[4]&&l[5]?a=l[5].trim():l[6]&&l[7]?a=l[7].trim():a=s.replace(/?\[?[\d]*?\]?\s*[:]?\s*/,"").trim();r={title:a,content:[]},console.log(`: ${a} (: ${s.trim()})`)}else r&&s.trim()&&!s.match(/^===/)&&!s.match(/^---/)&&!s.match(/^[\*\-\s]*$/)&&!s.match(/^\d+\.$/)&&!s.match(/^[]+\.$/)&&r.content.push(s)}if(r&&t.push({title:r.title,content:r.content.join(`
`)}),console.log(` ${t.length} :`),t.forEach((s,l)=>{console.log(`${l+1}. ${s.title} (${s.content.length} )`)}),t.length===0){console.error(":"),console.error(e.substring(0,1e3));const s=n.filter(l=>l.includes("")||l.includes("")||l.match(/^\d+[\.\s]/)||l.match(/^[]+[\.\s]/));console.error(":",s.slice(0,10))}return t}function $x(e,t,n,r){var c,u;const s=[],l=e.split(`
`);let a=null,i=0;for(const f of l){const m=f.match(/(?:([\d]+)|([\d]+)[:])(.+)/);m?(a&&(s.push({id:`micro_${t}_${i}`,title:a.title,content:a.content.join(`
`).trim(),macroStoryId:`macro_${t}`,macroStoryTitle:n,macroStoryContent:r,order:i,createdAt:new Date().toISOString()}),i++),a={title:((c=m[3])==null?void 0:c.trim())||((u=m[2])==null?void 0:u.trim())||f.replace(/?[\d]+?[:]?/,"").trim(),content:[]}):a&&f.trim()&&a.content.push(f)}return a&&s.push({id:`micro_${t}_${i}`,title:a.title,content:a.content.join(`
`).trim(),macroStoryId:`macro_${t}`,macroStoryTitle:n,macroStoryContent:r,order:i,createdAt:new Date().toISOString()}),console.log(` ${s.length} SavedMicroStory`),s}function Lx({onNavigate:e}){const[t,n]=_.useState(null),[r,s]=_.useState(null),[l,a]=_.useState(""),[i,c]=_.useState(""),[u,f]=_.useState(!1),[m,h]=_.useState([]),[v,y]=_.useState(0),[x,N]=_.useState(null),[g,d]=_.useState(!1),{isAutoGenerating:p,steps:S,currentStepMessage:b,cancelAutoGeneration:R}=Tx(),E=async()=>{if(!t||!r||!l.trim()){N("");return}f(!0),N(null);try{localStorage.removeItem("story-architect-current-outline");const Q=await be.generateOutline({channel:`${t.name}`,style:r.name,theme:l.trim()}),P=_x(Q.data);if(P.length===0)throw new Error("");h(P),y(0)}catch(Q){console.error(":",Q),N(Q instanceof Error?Q.message:"")}finally{f(!1)}},T=()=>{y(Q=>(Q+1)%m.length)},H=()=>{y(Q=>(Q-1+m.length)%m.length)},z=Q=>{h([Q]),y(0)},se=async()=>{if(!t||!r||!l.trim()||!m.length){N("");return}if(!i.trim()){N("");return}N(null);try{localStorage.setItem("story-architect-auto-flow","start"),localStorage.setItem("story-architect-book-name",i.trim()),e("world-setting",m[v])}catch(Q){console.error(":",Q),N("")}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(Je,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:"AI "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-3 py-1.5 bg-secondary-100 hover:bg-secondary-200 rounded-lg text-secondary-700 text-sm font-medium transition-colors",children:[o.jsx(ss,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Powered by Gemini 3 Pro"})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsx("div",{className:"lg:col-span-4 space-y-6",children:o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Na,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Ah,{selectedCategory:t,onSelectCategory:n}),o.jsx(Fh,{selectedStyle:r,onSelectStyle:s}),o.jsx(Uh,{value:l,onChange:a}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary-700",children:[" ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:i,onChange:Q=>c(Q.target.value),placeholder:"",className:"w-full px-3 py-2 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-secondary-500",children:""})]}),x&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:x}),o.jsx(Bh,{onClick:E,disabled:!t||!r||!l.trim()||u,isLoading:u}),m.length>0&&o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-secondary-300 to-transparent mb-4"}),o.jsx("p",{className:"text-sm text-secondary-600 mb-4",children:""})]}),o.jsxs("button",{onClick:se,disabled:!i.trim(),className:`w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center space-x-3 ${i.trim()?"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white":"bg-secondary-300 text-secondary-500 cursor-not-allowed"}`,children:[o.jsx(Ae,{className:"w-6 h-6"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold",children:""}),o.jsx("div",{className:"text-sm opacity-90",children:""})]})]}),o.jsxs("div",{className:"text-xs text-secondary-500 space-y-1",children:[o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "})]})]}),m.length>0&&o.jsxs("button",{onClick:()=>e("world-setting",m[v]),className:"w-full btn btn-secondary py-3 flex items-center justify-center space-x-2",children:[o.jsx(Je,{className:"w-5 h-5"}),o.jsx("span",{children:""})]})]})]})}),o.jsx("div",{className:"lg:col-span-8",children:u?o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Wh,{}),o.jsx("p",{className:"text-secondary-600 mt-4",children:"..."})]}):m.length>0?o.jsxs("div",{className:"space-y-6",children:[o.jsx(Vh,{currentIndex:v,total:m.length,onPrev:H,onNext:T}),o.jsx(Hh,{outline:m[v],className:"animate-fade-in"})]}):o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Je,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:"AI"})]})})]})}),o.jsx(Kh,{isOpen:g,onClose:()=>d(!1),onLoadOutline:z}),o.jsx(Qh,{steps:S,isVisible:p,onCancel:R,currentStepMessage:b})]})}function Px(){const[e,t]=_.useState("blueprint"),[n,r]=_.useState(null);_.useEffect(()=>{try{const a=localStorage.getItem("story-architect-current-outline");if(a){const i=JSON.parse(a);r(i)}}catch(a){console.error("Failed to load current outline:",a)}},[]);const s=(a,i,c)=>{a==="world-setting"&&i?(r(i),localStorage.setItem("story-architect-current-outline",JSON.stringify(i)),t("world-setting")):a==="story-structure"?t("story-structure"):a==="writer"?c?(console.log(""),t("story-structure")):t("writer"):(t("blueprint"),r(null),localStorage.removeItem("story-architect-current-outline"))},l=a=>{a==="world-setting"?t("world-setting"):(t("blueprint"),r(null),localStorage.removeItem("story-architect-current-outline"))};return o.jsx(Gh,{children:o.jsx(kx,{children:e==="blueprint"?o.jsx(Lx,{onNavigate:s}):e==="world-setting"?o.jsx(Cx,{onBack:l,onNavigateToStructure:()=>s("story-structure"),selectedOutline:n}):e==="story-structure"?o.jsx(Ox,{onBack:l,onNavigateToWriter:()=>t("writer")}):o.jsx(bx,{onBack:()=>t("story-structure")})})})}Oo.createRoot(document.getElementById("root")).render(o.jsx(fm.StrictMode,{children:o.jsx(Px,{})}));
