(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iu={exports:{}},Tl={},au={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),Zf=Symbol.for("react.portal"),em=Symbol.for("react.fragment"),tm=Symbol.for("react.strict_mode"),nm=Symbol.for("react.profiler"),rm=Symbol.for("react.provider"),sm=Symbol.for("react.context"),lm=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),im=Symbol.for("react.memo"),am=Symbol.for("react.lazy"),$a=Symbol.iterator;function cm(e){return e===null||typeof e!="object"?null:(e=$a&&e[$a]||e["@@iterator"],typeof e=="function"?e:null)}var cu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uu=Object.assign,du={};function gr(e,t,n){this.props=e,this.context=t,this.refs=du,this.updater=n||cu}gr.prototype.isReactComponent={};gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fu(){}fu.prototype=gr.prototype;function Mi(e,t,n){this.props=e,this.context=t,this.refs=du,this.updater=n||cu}var $i=Mi.prototype=new fu;$i.constructor=Mi;uu($i,gr.prototype);$i.isPureReactComponent=!0;var La=Array.isArray,mu=Object.prototype.hasOwnProperty,Li={current:null},pu={key:!0,ref:!0,__self:!0,__source:!0};function hu(e,t,n){var r,s={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)mu.call(t,r)&&!pu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:cs,type:e,key:l,ref:i,props:s,_owner:Li.current}}function um(e,t){return{$$typeof:cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pi(e){return typeof e=="object"&&e!==null&&e.$$typeof===cs}function dm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pa=/\/+/g;function Zl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dm(""+e.key):t.toString(36)}function Bs(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case cs:case Zf:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Zl(i,0):r,La(s)?(n="",e!=null&&(n=e.replace(Pa,"$&/")+"/"),Bs(s,t,n,"",function(u){return u})):s!=null&&(Pi(s)&&(s=um(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Pa,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",La(e))for(var a=0;a<e.length;a++){l=e[a];var c=r+Zl(l,a);i+=Bs(l,t,n,c,s)}else if(c=cm(e),typeof c=="function")for(e=c.call(e),a=0;!(l=e.next()).done;)l=l.value,c=r+Zl(l,a++),i+=Bs(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ws(e,t,n){if(e==null)return e;var r=[],s=0;return Bs(e,r,"","",function(l){return t.call(n,l,s++)}),r}function fm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},Gs={transition:null},mm={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:Li};function gu(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:ws,forEach:function(e,t,n){ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Pi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=gr;ee.Fragment=em;ee.Profiler=nm;ee.PureComponent=Mi;ee.StrictMode=tm;ee.Suspense=om;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mm;ee.act=gu;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=uu({},e.props),s=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Li.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)mu.call(t,c)&&!pu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cs,type:e.type,key:s,ref:l,props:r,_owner:i}};ee.createContext=function(e){return e={$$typeof:sm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rm,_context:e},e.Consumer=e};ee.createElement=hu;ee.createFactory=function(e){var t=hu.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:lm,render:e}};ee.isValidElement=Pi;ee.lazy=function(e){return{$$typeof:am,_payload:{_status:-1,_result:e},_init:fm}};ee.memo=function(e,t){return{$$typeof:im,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Gs.transition;Gs.transition={};try{e()}finally{Gs.transition=t}};ee.unstable_act=gu;ee.useCallback=function(e,t){return We.current.useCallback(e,t)};ee.useContext=function(e){return We.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return We.current.useDeferredValue(e)};ee.useEffect=function(e,t){return We.current.useEffect(e,t)};ee.useId=function(){return We.current.useId()};ee.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return We.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};ee.useRef=function(e){return We.current.useRef(e)};ee.useState=function(e){return We.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return We.current.useTransition()};ee.version="18.3.1";au.exports=ee;var R=au.exports;const pm=Yf(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=R,gm=Symbol.for("react.element"),xm=Symbol.for("react.fragment"),ym=Object.prototype.hasOwnProperty,vm=hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wm={key:!0,ref:!0,__self:!0,__source:!0};function xu(e,t,n){var r,s={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ym.call(t,r)&&!wm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:gm,type:e,key:l,ref:i,props:s,_owner:vm.current}}Tl.Fragment=xm;Tl.jsx=xu;Tl.jsxs=xu;iu.exports=Tl;var o=iu.exports,$o={},yu={exports:{}},ct={},vu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,L){var z=E.length;E.push(L);e:for(;0<z;){var F=z-1>>>1,P=E[F];if(0<s(P,L))E[F]=L,E[z]=P,z=F;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var L=E[0],z=E.pop();if(z!==L){E[0]=z;e:for(var F=0,P=E.length,K=P>>>1;F<K;){var ne=2*(F+1)-1,oe=E[ne],ce=ne+1,we=E[ce];if(0>s(oe,z))ce<P&&0>s(we,oe)?(E[F]=we,E[ce]=z,F=ce):(E[F]=oe,E[ne]=z,F=ne);else if(ce<P&&0>s(we,z))E[F]=we,E[ce]=z,F=ce;else break e}}return L}function s(E,L){var z=E.sortIndex-L.sortIndex;return z!==0?z:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,p=null,g=3,N=!1,x=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=E)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function j(E){if(C=!1,m(E),!x)if(n(c)!==null)x=!0,M(y);else{var L=n(u);L!==null&&W(j,L.startTime-E)}}function y(E,L){x=!1,C&&(C=!1,h(b),b=-1),N=!0;var z=g;try{for(m(L),p=n(c);p!==null&&(!(p.expirationTime>L)||E&&!Q());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var P=F(p.expirationTime<=L);L=e.unstable_now(),typeof P=="function"?p.callback=P:p===n(c)&&r(c),m(L)}else r(c);p=n(c)}if(p!==null)var K=!0;else{var ne=n(u);ne!==null&&W(j,ne.startTime-L),K=!1}return K}finally{p=null,g=z,N=!1}}var w=!1,k=null,b=-1,A=5,I=-1;function Q(){return!(e.unstable_now()-I<A)}function Z(){if(k!==null){var E=e.unstable_now();I=E;var L=!0;try{L=k(!0,E)}finally{L?$():(w=!1,k=null)}}else w=!1}var $;if(typeof f=="function")$=function(){f(Z)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,J=B.port2;B.port1.onmessage=Z,$=function(){J.postMessage(null)}}else $=function(){v(Z,0)};function M(E){k=E,w||(w=!0,$())}function W(E,L){b=v(function(){E(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||N||(x=!0,M(y))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var z=g;g=L;try{return E()}finally{g=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=g;g=E;try{return L()}finally{g=z}},e.unstable_scheduleCallback=function(E,L,z){var F=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,E){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=z+P,E={id:d++,callback:L,priorityLevel:E,startTime:z,expirationTime:P,sortIndex:-1},z>F?(E.sortIndex=z,t(u,E),n(c)===null&&E===n(u)&&(C?(h(b),b=-1):C=!0,W(j,z-F))):(E.sortIndex=P,t(c,E),x||N||(x=!0,M(y))),E},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(E){var L=g;return function(){var z=g;g=L;try{return E.apply(this,arguments)}finally{g=z}}}})(wu);vu.exports=wu;var Sm=vu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=R,at=Sm;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Su=new Set,Vr={};function zn(e,t){ar(e,t),ar(e+"Capture",t)}function ar(e,t){for(Vr[e]=t,e=0;e<t.length;e++)Su.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=Object.prototype.hasOwnProperty,jm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ia={},za={};function km(e){return Lo.call(za,e)?!0:Lo.call(Ia,e)?!1:jm.test(e)?za[e]=!0:(Ia[e]=!0,!1)}function Cm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bm(e,t,n,r){if(t===null||typeof t>"u"||Cm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ii=/[\-:]([a-z])/g;function zi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ii,zi);Pe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ii,zi);Pe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ii,zi);Pe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Di(e,t,n,r){var s=Pe.hasOwnProperty(t)?Pe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bm(t,n,s,r)&&(n=null),r||s===null?km(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wt=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),Ai=Symbol.for("react.strict_mode"),Po=Symbol.for("react.profiler"),Nu=Symbol.for("react.provider"),ju=Symbol.for("react.context"),Fi=Symbol.for("react.forward_ref"),Io=Symbol.for("react.suspense"),zo=Symbol.for("react.suspense_list"),Ui=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),ku=Symbol.for("react.offscreen"),Da=Symbol.iterator;function Sr(e){return e===null||typeof e!="object"?null:(e=Da&&e[Da]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,eo;function Tr(e){if(eo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eo=t&&t[1]||""}return`
`+eo+e}var to=!1;function no(e,t){if(!e||to)return"";to=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=r.stack.split(`
`),i=s.length-1,a=l.length-1;1<=i&&0<=a&&s[i]!==l[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==l[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==l[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{to=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tr(e):""}function Em(e){switch(e.tag){case 5:return Tr(e.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 2:case 15:return e=no(e.type,!1),e;case 11:return e=no(e.type.render,!1),e;case 1:return e=no(e.type,!0),e;default:return""}}function Do(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hn:return"Fragment";case Gn:return"Portal";case Po:return"Profiler";case Ai:return"StrictMode";case Io:return"Suspense";case zo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ju:return(e.displayName||"Context")+".Consumer";case Nu:return(e._context.displayName||"Context")+".Provider";case Fi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ui:return t=e.displayName||null,t!==null?t:Do(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return Do(e(t))}catch{}}return null}function Om(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Do(t);case 8:return t===Ai?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _m(e){var t=Cu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=_m(e))}function bu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ao(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Aa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Eu(e,t){t=t.checked,t!=null&&Di(e,"checked",t,!1)}function Fo(e,t){Eu(e,t);var n=cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uo(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uo(e,t,n){(t!=="number"||ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rr=Array.isArray;function nr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Rr(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function Ou(e,t){var n=cn(t.value),r=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ba(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _u(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_u(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var js,Tu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tm=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(e){Tm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ir[t]=Ir[e]})});function Ru(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ir.hasOwnProperty(e)&&Ir[e]?(""+t).trim():t+"px"}function Mu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ru(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Rm=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(e,t){if(t){if(Rm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Vo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=null;function Bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ko=null,rr=null,sr=null;function Ga(e){if(e=fs(e)){if(typeof Ko!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Pl(t),Ko(e.stateNode,e.type,t))}}function $u(e){rr?sr?sr.push(e):sr=[e]:rr=e}function Lu(){if(rr){var e=rr,t=sr;if(sr=rr=null,Ga(e),t)for(e=0;e<t.length;e++)Ga(t[e])}}function Pu(e,t){return e(t)}function Iu(){}var ro=!1;function zu(e,t,n){if(ro)return e(t,n);ro=!0;try{return Pu(e,t,n)}finally{ro=!1,(rr!==null||sr!==null)&&(Iu(),Lu())}}function Kr(e,t){var n=e.stateNode;if(n===null)return null;var r=Pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Qo=!1;if(Bt)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Qo=!1}function Mm(e,t,n,r,s,l,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var zr=!1,ol=null,il=!1,qo=null,$m={onError:function(e){zr=!0,ol=e}};function Lm(e,t,n,r,s,l,i,a,c){zr=!1,ol=null,Mm.apply($m,arguments)}function Pm(e,t,n,r,s,l,i,a,c){if(Lm.apply(this,arguments),zr){if(zr){var u=ol;zr=!1,ol=null}else throw Error(T(198));il||(il=!0,qo=u)}}function Dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Du(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ha(e){if(Dn(e)!==e)throw Error(T(188))}function Im(e){var t=e.alternate;if(!t){if(t=Dn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Ha(s),e;if(l===r)return Ha(s),t;l=l.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=l;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i){for(a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Au(e){return e=Im(e),e!==null?Fu(e):null}function Fu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fu(e);if(t!==null)return t;e=e.sibling}return null}var Uu=at.unstable_scheduleCallback,Va=at.unstable_cancelCallback,zm=at.unstable_shouldYield,Dm=at.unstable_requestPaint,je=at.unstable_now,Am=at.unstable_getCurrentPriorityLevel,Gi=at.unstable_ImmediatePriority,Bu=at.unstable_UserBlockingPriority,al=at.unstable_NormalPriority,Fm=at.unstable_LowPriority,Gu=at.unstable_IdlePriority,Rl=null,$t=null;function Um(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Hm,Bm=Math.log,Gm=Math.LN2;function Hm(e){return e>>>=0,e===0?32:31-(Bm(e)/Gm|0)|0}var ks=64,Cs=4194304;function Mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Mr(a):(l&=i,l!==0&&(r=Mr(l)))}else i=n&~s,i!==0?r=Mr(i):l!==0&&(r=Mr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),s=1<<n,r|=e[n],t&=~s;return r}function Vm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-jt(l),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=Vm(a,t)):c<=t&&(e.expiredLanes|=a),l&=~a}}function Jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hu(){var e=ks;return ks<<=1,!(ks&4194240)&&(ks=64),e}function so(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function us(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Km(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Hi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ae=0;function Vu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wu,Vi,Ku,Qu,qu,Xo=!1,bs=[],en=null,tn=null,nn=null,Qr=new Map,qr=new Map,Jt=[],Qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wa(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(t.pointerId)}}function jr(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=fs(t),t!==null&&Vi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qm(e,t,n,r,s){switch(t){case"focusin":return en=jr(en,e,t,n,r,s),!0;case"dragenter":return tn=jr(tn,e,t,n,r,s),!0;case"mouseover":return nn=jr(nn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Qr.set(l,jr(Qr.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,qr.set(l,jr(qr.get(l)||null,e,t,n,r,s)),!0}return!1}function Ju(e){var t=Nn(e.target);if(t!==null){var n=Dn(t);if(n!==null){if(t=n.tag,t===13){if(t=Du(n),t!==null){e.blockedOn=t,qu(e.priority,function(){Ku(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wo=r,n.target.dispatchEvent(r),Wo=null}else return t=fs(n),t!==null&&Vi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ka(e,t,n){Hs(e)&&n.delete(t)}function Jm(){Xo=!1,en!==null&&Hs(en)&&(en=null),tn!==null&&Hs(tn)&&(tn=null),nn!==null&&Hs(nn)&&(nn=null),Qr.forEach(Ka),qr.forEach(Ka)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Xo||(Xo=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Jm)))}function Jr(e){function t(s){return kr(s,e)}if(0<bs.length){kr(bs[0],e);for(var n=1;n<bs.length;n++){var r=bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(en!==null&&kr(en,e),tn!==null&&kr(tn,e),nn!==null&&kr(nn,e),Qr.forEach(t),qr.forEach(t),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)Ju(n),n.blockedOn===null&&Jt.shift()}var lr=Wt.ReactCurrentBatchConfig,ul=!0;function Xm(e,t,n,r){var s=ae,l=lr.transition;lr.transition=null;try{ae=1,Wi(e,t,n,r)}finally{ae=s,lr.transition=l}}function Ym(e,t,n,r){var s=ae,l=lr.transition;lr.transition=null;try{ae=4,Wi(e,t,n,r)}finally{ae=s,lr.transition=l}}function Wi(e,t,n,r){if(ul){var s=Yo(e,t,n,r);if(s===null)ho(e,t,r,dl,n),Wa(e,r);else if(qm(s,e,t,n,r))r.stopPropagation();else if(Wa(e,r),t&4&&-1<Qm.indexOf(e)){for(;s!==null;){var l=fs(s);if(l!==null&&Wu(l),l=Yo(e,t,n,r),l===null&&ho(e,t,r,dl,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else ho(e,t,r,null,n)}}var dl=null;function Yo(e,t,n,r){if(dl=null,e=Bi(r),e=Nn(e),e!==null)if(t=Dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Du(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function Xu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Am()){case Gi:return 1;case Bu:return 4;case al:case Fm:return 16;case Gu:return 536870912;default:return 16}default:return 16}}var Yt=null,Ki=null,Vs=null;function Yu(){if(Vs)return Vs;var e,t=Ki,n=t.length,r,s="value"in Yt?Yt.value:Yt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[l-r];r++);return Vs=s.slice(e,1<r?1-r:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function Qa(){return!1}function ut(e){function t(n,r,s,l,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Es:Qa,this.isPropagationStopped=Qa,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=ut(xr),ds=ve({},xr,{view:0,detail:0}),Zm=ut(ds),lo,oo,Cr,Ml=ve({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(lo=e.screenX-Cr.screenX,oo=e.screenY-Cr.screenY):oo=lo=0,Cr=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:oo}}),qa=ut(Ml),ep=ve({},Ml,{dataTransfer:0}),tp=ut(ep),np=ve({},ds,{relatedTarget:0}),io=ut(np),rp=ve({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),sp=ut(rp),lp=ve({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),op=ut(lp),ip=ve({},xr,{data:0}),Ja=ut(ip),ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=up[e])?!!t[e]:!1}function qi(){return dp}var fp=ve({},ds,{key:function(e){if(e.key){var t=ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mp=ut(fp),pp=ve({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=ut(pp),hp=ve({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),gp=ut(hp),xp=ve({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yp=ut(xp),vp=ve({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wp=ut(vp),Sp=[9,13,27,32],Ji=Bt&&"CompositionEvent"in window,Dr=null;Bt&&"documentMode"in document&&(Dr=document.documentMode);var Np=Bt&&"TextEvent"in window&&!Dr,Zu=Bt&&(!Ji||Dr&&8<Dr&&11>=Dr),Ya=" ",Za=!1;function ed(e,t){switch(e){case"keyup":return Sp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function jp(e,t){switch(e){case"compositionend":return td(t);case"keypress":return t.which!==32?null:(Za=!0,Ya);case"textInput":return e=t.data,e===Ya&&Za?null:e;default:return null}}function kp(e,t){if(Vn)return e==="compositionend"||!Ji&&ed(e,t)?(e=Yu(),Vs=Ki=Yt=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zu&&t.locale!=="ko"?null:t.data;default:return null}}var Cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cp[e.type]:t==="textarea"}function nd(e,t,n,r){$u(r),t=fl(t,"onChange"),0<t.length&&(n=new Qi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ar=null,Xr=null;function bp(e){md(e,0)}function $l(e){var t=Qn(e);if(bu(t))return e}function Ep(e,t){if(e==="change")return t}var rd=!1;if(Bt){var ao;if(Bt){var co="oninput"in document;if(!co){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),co=typeof tc.oninput=="function"}ao=co}else ao=!1;rd=ao&&(!document.documentMode||9<document.documentMode)}function nc(){Ar&&(Ar.detachEvent("onpropertychange",sd),Xr=Ar=null)}function sd(e){if(e.propertyName==="value"&&$l(Xr)){var t=[];nd(t,Xr,e,Bi(e)),zu(bp,t)}}function Op(e,t,n){e==="focusin"?(nc(),Ar=t,Xr=n,Ar.attachEvent("onpropertychange",sd)):e==="focusout"&&nc()}function _p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $l(Xr)}function Tp(e,t){if(e==="click")return $l(t)}function Rp(e,t){if(e==="input"||e==="change")return $l(t)}function Mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Mp;function Yr(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lo.call(t,s)||!Ct(e[s],t[s]))return!1}return!0}function rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var n=rc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rc(n)}}function ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function od(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ll(e.document)}return t}function Xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $p(e){var t=od(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ld(n.ownerDocument.documentElement,n)){if(r!==null&&Xi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=sc(n,l);var i=sc(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lp=Bt&&"documentMode"in document&&11>=document.documentMode,Wn=null,Zo=null,Fr=null,ei=!1;function lc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ei||Wn==null||Wn!==ll(r)||(r=Wn,"selectionStart"in r&&Xi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&Yr(Fr,r)||(Fr=r,r=fl(Zo,"onSelect"),0<r.length&&(t=new Qi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wn)))}function Os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kn={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},uo={},id={};Bt&&(id=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Ll(e){if(uo[e])return uo[e];if(!Kn[e])return e;var t=Kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in id)return uo[e]=t[n];return e}var ad=Ll("animationend"),cd=Ll("animationiteration"),ud=Ll("animationstart"),dd=Ll("transitionend"),fd=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){fd.set(e,t),zn(t,[e])}for(var fo=0;fo<oc.length;fo++){var mo=oc[fo],Pp=mo.toLowerCase(),Ip=mo[0].toUpperCase()+mo.slice(1);dn(Pp,"on"+Ip)}dn(ad,"onAnimationEnd");dn(cd,"onAnimationIteration");dn(ud,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(dd,"onTransitionEnd");ar("onMouseEnter",["mouseout","mouseover"]);ar("onMouseLeave",["mouseout","mouseover"]);ar("onPointerEnter",["pointerout","pointerover"]);ar("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function ic(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pm(r,t,void 0,e),e.currentTarget=null}function md(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==l&&s.isPropagationStopped())break e;ic(s,a,u),l=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==l&&s.isPropagationStopped())break e;ic(s,a,u),l=c}}}if(il)throw e=qo,il=!1,qo=null,e}function me(e,t){var n=t[li];n===void 0&&(n=t[li]=new Set);var r=e+"__bubble";n.has(r)||(pd(t,e,2,!1),n.add(r))}function po(e,t,n){var r=0;t&&(r|=4),pd(n,e,r,t)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[_s]){e[_s]=!0,Su.forEach(function(n){n!=="selectionchange"&&(zp.has(n)||po(n,!1,e),po(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_s]||(t[_s]=!0,po("selectionchange",!1,t))}}function pd(e,t,n,r){switch(Xu(t)){case 1:var s=Xm;break;case 4:s=Ym;break;default:s=Wi}n=s.bind(null,t,n,e),s=void 0,!Qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ho(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Nn(a),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}a=a.parentNode}}r=r.return}zu(function(){var u=l,d=Bi(n),p=[];e:{var g=fd.get(e);if(g!==void 0){var N=Qi,x=e;switch(e){case"keypress":if(Ws(n)===0)break e;case"keydown":case"keyup":N=mp;break;case"focusin":x="focus",N=io;break;case"focusout":x="blur",N=io;break;case"beforeblur":case"afterblur":N=io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=gp;break;case ad:case cd:case ud:N=sp;break;case dd:N=yp;break;case"scroll":N=Zm;break;case"wheel":N=wp;break;case"copy":case"cut":case"paste":N=op;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Xa}var C=(t&4)!==0,v=!C&&e==="scroll",h=C?g!==null?g+"Capture":null:g;C=[];for(var f=u,m;f!==null;){m=f;var j=m.stateNode;if(m.tag===5&&j!==null&&(m=j,h!==null&&(j=Kr(f,h),j!=null&&C.push(es(f,j,m)))),v)break;f=f.return}0<C.length&&(g=new N(g,x,null,n,d),p.push({event:g,listeners:C}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",g&&n!==Wo&&(x=n.relatedTarget||n.fromElement)&&(Nn(x)||x[Gt]))break e;if((N||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,N?(x=n.relatedTarget||n.toElement,N=u,x=x?Nn(x):null,x!==null&&(v=Dn(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(N=null,x=u),N!==x)){if(C=qa,j="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(C=Xa,j="onPointerLeave",h="onPointerEnter",f="pointer"),v=N==null?g:Qn(N),m=x==null?g:Qn(x),g=new C(j,f+"leave",N,n,d),g.target=v,g.relatedTarget=m,j=null,Nn(d)===u&&(C=new C(h,f+"enter",x,n,d),C.target=m,C.relatedTarget=v,j=C),v=j,N&&x)t:{for(C=N,h=x,f=0,m=C;m;m=Un(m))f++;for(m=0,j=h;j;j=Un(j))m++;for(;0<f-m;)C=Un(C),f--;for(;0<m-f;)h=Un(h),m--;for(;f--;){if(C===h||h!==null&&C===h.alternate)break t;C=Un(C),h=Un(h)}C=null}else C=null;N!==null&&ac(p,g,N,C,!1),x!==null&&v!==null&&ac(p,v,x,C,!0)}}e:{if(g=u?Qn(u):window,N=g.nodeName&&g.nodeName.toLowerCase(),N==="select"||N==="input"&&g.type==="file")var y=Ep;else if(ec(g))if(rd)y=Rp;else{y=_p;var w=Op}else(N=g.nodeName)&&N.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(y=Tp);if(y&&(y=y(e,u))){nd(p,y,n,d);break e}w&&w(e,g,u),e==="focusout"&&(w=g._wrapperState)&&w.controlled&&g.type==="number"&&Uo(g,"number",g.value)}switch(w=u?Qn(u):window,e){case"focusin":(ec(w)||w.contentEditable==="true")&&(Wn=w,Zo=u,Fr=null);break;case"focusout":Fr=Zo=Wn=null;break;case"mousedown":ei=!0;break;case"contextmenu":case"mouseup":case"dragend":ei=!1,lc(p,n,d);break;case"selectionchange":if(Lp)break;case"keydown":case"keyup":lc(p,n,d)}var k;if(Ji)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?ed(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Zu&&n.locale!=="ko"&&(Vn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Vn&&(k=Yu()):(Yt=d,Ki="value"in Yt?Yt.value:Yt.textContent,Vn=!0)),w=fl(u,b),0<w.length&&(b=new Ja(b,e,null,n,d),p.push({event:b,listeners:w}),k?b.data=k:(k=td(n),k!==null&&(b.data=k)))),(k=Np?jp(e,n):kp(e,n))&&(u=fl(u,"onBeforeInput"),0<u.length&&(d=new Ja("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=k))}md(p,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Kr(e,n),l!=null&&r.unshift(es(e,l,s)),l=Kr(e,t),l!=null&&r.push(es(e,l,s))),e=e.return}return r}function Un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,n,r,s){for(var l=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Kr(n,l),c!=null&&i.unshift(es(n,c,a))):s||(c=Kr(n,l),c!=null&&i.push(es(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Dp=/\r\n?/g,Ap=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(Dp,`
`).replace(Ap,"")}function Ts(e,t,n){if(t=cc(t),cc(e)!==t&&n)throw Error(T(425))}function ml(){}var ti=null,ni=null;function ri(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var si=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,Up=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(Bp)}:si;function Bp(e){setTimeout(function(){throw e})}function go(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Jr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jr(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+yr,ts="__reactProps$"+yr,Gt="__reactContainer$"+yr,li="__reactEvents$"+yr,Gp="__reactListeners$"+yr,Hp="__reactHandles$"+yr;function Nn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dc(e);e!==null;){if(n=e[Rt])return n;e=dc(e)}return t}e=n,n=e.parentNode}return null}function fs(e){return e=e[Rt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Pl(e){return e[ts]||null}var oi=[],qn=-1;function fn(e){return{current:e}}function pe(e){0>qn||(e.current=oi[qn],oi[qn]=null,qn--)}function fe(e,t){qn++,oi[qn]=e.current,e.current=t}var un={},Ue=fn(un),Ye=fn(!1),Rn=un;function cr(e,t){var n=e.type.contextTypes;if(!n)return un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ze(e){return e=e.childContextTypes,e!=null}function pl(){pe(Ye),pe(Ue)}function fc(e,t,n){if(Ue.current!==un)throw Error(T(168));fe(Ue,t),fe(Ye,n)}function hd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,Om(e)||"Unknown",s));return ve({},n,r)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,Rn=Ue.current,fe(Ue,e),fe(Ye,Ye.current),!0}function mc(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=hd(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,pe(Ye),pe(Ue),fe(Ue,e)):pe(Ye),fe(Ye,n)}var Dt=null,Il=!1,xo=!1;function gd(e){Dt===null?Dt=[e]:Dt.push(e)}function Vp(e){Il=!0,gd(e)}function mn(){if(!xo&&Dt!==null){xo=!0;var e=0,t=ae;try{var n=Dt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,Il=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(e+1)),Uu(Gi,mn),s}finally{ae=t,xo=!1}}return null}var Jn=[],Xn=0,gl=null,xl=0,mt=[],pt=0,Mn=null,At=1,Ft="";function wn(e,t){Jn[Xn++]=xl,Jn[Xn++]=gl,gl=e,xl=t}function xd(e,t,n){mt[pt++]=At,mt[pt++]=Ft,mt[pt++]=Mn,Mn=e;var r=At;e=Ft;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var l=32-jt(t)+s;if(30<l){var i=s-s%5;l=(r&(1<<i)-1).toString(32),r>>=i,s-=i,At=1<<32-jt(t)+s|n<<s|r,Ft=l+e}else At=1<<l|n<<s|r,Ft=e}function Yi(e){e.return!==null&&(wn(e,1),xd(e,1,0))}function Zi(e){for(;e===gl;)gl=Jn[--Xn],Jn[Xn]=null,xl=Jn[--Xn],Jn[Xn]=null;for(;e===Mn;)Mn=mt[--pt],mt[pt]=null,Ft=mt[--pt],mt[pt]=null,At=mt[--pt],mt[pt]=null}var it=null,ot=null,ge=!1,Nt=null;function yd(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,ot=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:At,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,ot=null,!0):!1;default:return!1}}function ii(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ai(e){if(ge){var t=ot;if(t){var n=t;if(!pc(e,t)){if(ii(e))throw Error(T(418));t=rn(n.nextSibling);var r=it;t&&pc(e,t)?yd(r,n):(e.flags=e.flags&-4097|2,ge=!1,it=e)}}else{if(ii(e))throw Error(T(418));e.flags=e.flags&-4097|2,ge=!1,it=e}}}function hc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Rs(e){if(e!==it)return!1;if(!ge)return hc(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ri(e.type,e.memoizedProps)),t&&(t=ot)){if(ii(e))throw vd(),Error(T(418));for(;t;)yd(e,t),t=rn(t.nextSibling)}if(hc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=it?rn(e.stateNode.nextSibling):null;return!0}function vd(){for(var e=ot;e;)e=rn(e.nextSibling)}function ur(){ot=it=null,ge=!1}function ea(e){Nt===null?Nt=[e]:Nt.push(e)}var Wp=Wt.ReactCurrentBatchConfig;function br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var a=s.refs;i===null?delete a[l]:a[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Ms(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function wd(e){function t(h,f){if(e){var m=h.deletions;m===null?(h.deletions=[f],h.flags|=16):m.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function s(h,f){return h=an(h,f),h.index=0,h.sibling=null,h}function l(h,f,m){return h.index=m,e?(m=h.alternate,m!==null?(m=m.index,m<f?(h.flags|=2,f):m):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,m,j){return f===null||f.tag!==6?(f=ko(m,h.mode,j),f.return=h,f):(f=s(f,m),f.return=h,f)}function c(h,f,m,j){var y=m.type;return y===Hn?d(h,f,m.props.children,j,m.key):f!==null&&(f.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Qt&&gc(y)===f.type)?(j=s(f,m.props),j.ref=br(h,f,m),j.return=h,j):(j=Zs(m.type,m.key,m.props,null,h.mode,j),j.ref=br(h,f,m),j.return=h,j)}function u(h,f,m,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Co(m,h.mode,j),f.return=h,f):(f=s(f,m.children||[]),f.return=h,f)}function d(h,f,m,j,y){return f===null||f.tag!==7?(f=On(m,h.mode,j,y),f.return=h,f):(f=s(f,m),f.return=h,f)}function p(h,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ko(""+f,h.mode,m),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ss:return m=Zs(f.type,f.key,f.props,null,h.mode,m),m.ref=br(h,null,f),m.return=h,m;case Gn:return f=Co(f,h.mode,m),f.return=h,f;case Qt:var j=f._init;return p(h,j(f._payload),m)}if(Rr(f)||Sr(f))return f=On(f,h.mode,m,null),f.return=h,f;Ms(h,f)}return null}function g(h,f,m,j){var y=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return y!==null?null:a(h,f,""+m,j);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ss:return m.key===y?c(h,f,m,j):null;case Gn:return m.key===y?u(h,f,m,j):null;case Qt:return y=m._init,g(h,f,y(m._payload),j)}if(Rr(m)||Sr(m))return y!==null?null:d(h,f,m,j,null);Ms(h,m)}return null}function N(h,f,m,j,y){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(m)||null,a(f,h,""+j,y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ss:return h=h.get(j.key===null?m:j.key)||null,c(f,h,j,y);case Gn:return h=h.get(j.key===null?m:j.key)||null,u(f,h,j,y);case Qt:var w=j._init;return N(h,f,m,w(j._payload),y)}if(Rr(j)||Sr(j))return h=h.get(m)||null,d(f,h,j,y,null);Ms(f,j)}return null}function x(h,f,m,j){for(var y=null,w=null,k=f,b=f=0,A=null;k!==null&&b<m.length;b++){k.index>b?(A=k,k=null):A=k.sibling;var I=g(h,k,m[b],j);if(I===null){k===null&&(k=A);break}e&&k&&I.alternate===null&&t(h,k),f=l(I,f,b),w===null?y=I:w.sibling=I,w=I,k=A}if(b===m.length)return n(h,k),ge&&wn(h,b),y;if(k===null){for(;b<m.length;b++)k=p(h,m[b],j),k!==null&&(f=l(k,f,b),w===null?y=k:w.sibling=k,w=k);return ge&&wn(h,b),y}for(k=r(h,k);b<m.length;b++)A=N(k,h,b,m[b],j),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?b:A.key),f=l(A,f,b),w===null?y=A:w.sibling=A,w=A);return e&&k.forEach(function(Q){return t(h,Q)}),ge&&wn(h,b),y}function C(h,f,m,j){var y=Sr(m);if(typeof y!="function")throw Error(T(150));if(m=y.call(m),m==null)throw Error(T(151));for(var w=y=null,k=f,b=f=0,A=null,I=m.next();k!==null&&!I.done;b++,I=m.next()){k.index>b?(A=k,k=null):A=k.sibling;var Q=g(h,k,I.value,j);if(Q===null){k===null&&(k=A);break}e&&k&&Q.alternate===null&&t(h,k),f=l(Q,f,b),w===null?y=Q:w.sibling=Q,w=Q,k=A}if(I.done)return n(h,k),ge&&wn(h,b),y;if(k===null){for(;!I.done;b++,I=m.next())I=p(h,I.value,j),I!==null&&(f=l(I,f,b),w===null?y=I:w.sibling=I,w=I);return ge&&wn(h,b),y}for(k=r(h,k);!I.done;b++,I=m.next())I=N(k,h,b,I.value,j),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?b:I.key),f=l(I,f,b),w===null?y=I:w.sibling=I,w=I);return e&&k.forEach(function(Z){return t(h,Z)}),ge&&wn(h,b),y}function v(h,f,m,j){if(typeof m=="object"&&m!==null&&m.type===Hn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ss:e:{for(var y=m.key,w=f;w!==null;){if(w.key===y){if(y=m.type,y===Hn){if(w.tag===7){n(h,w.sibling),f=s(w,m.props.children),f.return=h,h=f;break e}}else if(w.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Qt&&gc(y)===w.type){n(h,w.sibling),f=s(w,m.props),f.ref=br(h,w,m),f.return=h,h=f;break e}n(h,w);break}else t(h,w);w=w.sibling}m.type===Hn?(f=On(m.props.children,h.mode,j,m.key),f.return=h,h=f):(j=Zs(m.type,m.key,m.props,null,h.mode,j),j.ref=br(h,f,m),j.return=h,h=j)}return i(h);case Gn:e:{for(w=m.key;f!==null;){if(f.key===w)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(h,f.sibling),f=s(f,m.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Co(m,h.mode,j),f.return=h,h=f}return i(h);case Qt:return w=m._init,v(h,f,w(m._payload),j)}if(Rr(m))return x(h,f,m,j);if(Sr(m))return C(h,f,m,j);Ms(h,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(h,f.sibling),f=s(f,m),f.return=h,h=f):(n(h,f),f=ko(m,h.mode,j),f.return=h,h=f),i(h)):n(h,f)}return v}var dr=wd(!0),Sd=wd(!1),yl=fn(null),vl=null,Yn=null,ta=null;function na(){ta=Yn=vl=null}function ra(e){var t=yl.current;pe(yl),e._currentValue=t}function ci(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function or(e,t){vl=e,ta=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(ta!==e)if(e={context:e,memoizedValue:t,next:null},Yn===null){if(vl===null)throw Error(T(308));Yn=e,vl.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return t}var jn=null;function sa(e){jn===null?jn=[e]:jn.push(e)}function Nd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,sa(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function la(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ht(e,n)}return s=r.interleaved,s===null?(t.next=t,sa(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ht(e,n)}function Ks(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hi(e,n)}}function xc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wl(e,t,n,r){var s=e.updateQueue;qt=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(l!==null){var p=s.baseState;i=0,d=u=c=null,a=l;do{var g=a.lane,N=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:N,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,C=a;switch(g=t,N=n,C.tag){case 1:if(x=C.payload,typeof x=="function"){p=x.call(N,p,g);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=C.payload,g=typeof x=="function"?x.call(N,p,g):x,g==null)break e;p=ve({},p,g);break e;case 2:qt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else N={eventTime:N,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=N,c=p):d=d.next=N,i|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Ln|=i,e.lanes=i,e.memoizedState=p}}function yc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var ms={},Lt=fn(ms),ns=fn(ms),rs=fn(ms);function kn(e){if(e===ms)throw Error(T(174));return e}function oa(e,t){switch(fe(rs,t),fe(ns,e),fe(Lt,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Go(t,e)}pe(Lt),fe(Lt,t)}function fr(){pe(Lt),pe(ns),pe(rs)}function kd(e){kn(rs.current);var t=kn(Lt.current),n=Go(t,e.type);t!==n&&(fe(ns,e),fe(Lt,n))}function ia(e){ns.current===e&&(pe(Lt),pe(ns))}var xe=fn(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yo=[];function aa(){for(var e=0;e<yo.length;e++)yo[e]._workInProgressVersionPrimary=null;yo.length=0}var Qs=Wt.ReactCurrentDispatcher,vo=Wt.ReactCurrentBatchConfig,$n=0,ye=null,_e=null,Re=null,Nl=!1,Ur=!1,ss=0,Kp=0;function Ie(){throw Error(T(321))}function ca(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,s,l){if($n=l,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=e===null||e.memoizedState===null?Xp:Yp,e=n(r,s),Ur){l=0;do{if(Ur=!1,ss=0,25<=l)throw Error(T(301));l+=1,Re=_e=null,t.updateQueue=null,Qs.current=Zp,e=n(r,s)}while(Ur)}if(Qs.current=jl,t=_e!==null&&_e.next!==null,$n=0,Re=_e=ye=null,Nl=!1,t)throw Error(T(300));return e}function da(){var e=ss!==0;return ss=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ye.memoizedState=Re=e:Re=Re.next=e,Re}function yt(){if(_e===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Re===null?ye.memoizedState:Re.next;if(t!==null)Re=t,_e=e;else{if(e===null)throw Error(T(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Re===null?ye.memoizedState=Re=e:Re=Re.next=e}return Re}function ls(e,t){return typeof t=="function"?t(e):t}function wo(e){var t=yt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=i=null,c=null,u=l;do{var d=u.lane;if(($n&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,i=r):c=c.next=p,ye.lanes|=d,Ln|=d}u=u.next}while(u!==null&&u!==l);c===null?i=r:c.next=a,Ct(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,ye.lanes|=l,Ln|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=yt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);Ct(l,t.memoizedState)||(Xe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Cd(){}function bd(e,t){var n=ye,r=yt(),s=t(),l=!Ct(r.memoizedState,s);if(l&&(r.memoizedState=s,Xe=!0),r=r.queue,fa(_d.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,os(9,Od.bind(null,n,r,s,t),void 0,null),Me===null)throw Error(T(349));$n&30||Ed(n,t,s)}return s}function Ed(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Od(e,t,n,r){t.value=n,t.getSnapshot=r,Td(t)&&Rd(e)}function _d(e,t,n){return n(function(){Td(t)&&Rd(e)})}function Td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function Rd(e){var t=Ht(e,1);t!==null&&kt(t,e,1,-1)}function vc(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e},t.queue=e,e=e.dispatch=Jp.bind(null,ye,e),[t.memoizedState,e]}function os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Md(){return yt().memoizedState}function qs(e,t,n,r){var s=Tt();ye.flags|=e,s.memoizedState=os(1|t,n,void 0,r===void 0?null:r)}function zl(e,t,n,r){var s=yt();r=r===void 0?null:r;var l=void 0;if(_e!==null){var i=_e.memoizedState;if(l=i.destroy,r!==null&&ca(r,i.deps)){s.memoizedState=os(t,n,l,r);return}}ye.flags|=e,s.memoizedState=os(1|t,n,l,r)}function wc(e,t){return qs(8390656,8,e,t)}function fa(e,t){return zl(2048,8,e,t)}function $d(e,t){return zl(4,2,e,t)}function Ld(e,t){return zl(4,4,e,t)}function Pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,n){return n=n!=null?n.concat([e]):null,zl(4,4,Pd.bind(null,t,e),n)}function ma(){}function zd(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dd(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ad(e,t,n){return $n&21?(Ct(n,t)||(n=Hu(),ye.lanes|=n,Ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function Qp(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=vo.transition;vo.transition={};try{e(!1),t()}finally{ae=n,vo.transition=r}}function Fd(){return yt().memoizedState}function qp(e,t,n){var r=on(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ud(e))Bd(t,n);else if(n=Nd(e,t,n,r),n!==null){var s=Ve();kt(n,e,r,s),Gd(n,t,r)}}function Jp(e,t,n){var r=on(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ud(e))Bd(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,a=l(i,n);if(s.hasEagerState=!0,s.eagerState=a,Ct(a,i)){var c=t.interleaved;c===null?(s.next=s,sa(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Nd(e,t,s,r),n!==null&&(s=Ve(),kt(n,e,r,s),Gd(n,t,r))}}function Ud(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Bd(e,t){Ur=Nl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hi(e,n)}}var jl={readContext:xt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Xp={readContext:xt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:wc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qs(4194308,4,Pd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return qs(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qp.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:vc,useDebugValue:ma,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=vc(!1),t=e[0];return e=Qp.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,s=Tt();if(ge){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Me===null)throw Error(T(349));$n&30||Ed(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,wc(_d.bind(null,r,l,e),[e]),r.flags|=2048,os(9,Od.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Tt(),t=Me.identifierPrefix;if(ge){var n=Ft,r=At;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ss++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Kp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yp={readContext:xt,useCallback:zd,useContext:xt,useEffect:fa,useImperativeHandle:Id,useInsertionEffect:$d,useLayoutEffect:Ld,useMemo:Dd,useReducer:wo,useRef:Md,useState:function(){return wo(ls)},useDebugValue:ma,useDeferredValue:function(e){var t=yt();return Ad(t,_e.memoizedState,e)},useTransition:function(){var e=wo(ls)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Cd,useSyncExternalStore:bd,useId:Fd,unstable_isNewReconciler:!1},Zp={readContext:xt,useCallback:zd,useContext:xt,useEffect:fa,useImperativeHandle:Id,useInsertionEffect:$d,useLayoutEffect:Ld,useMemo:Dd,useReducer:So,useRef:Md,useState:function(){return So(ls)},useDebugValue:ma,useDeferredValue:function(e){var t=yt();return _e===null?t.memoizedState=e:Ad(t,_e.memoizedState,e)},useTransition:function(){var e=So(ls)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Cd,useSyncExternalStore:bd,useId:Fd,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ui(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dl={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=on(e),l=Ut(r,s);l.payload=t,n!=null&&(l.callback=n),t=sn(e,l,s),t!==null&&(kt(t,e,s,r),Ks(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=on(e),l=Ut(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=sn(e,l,s),t!==null&&(kt(t,e,s,r),Ks(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=on(e),s=Ut(n,r);s.tag=2,t!=null&&(s.callback=t),t=sn(e,s,r),t!==null&&(kt(t,e,r,n),Ks(t,e,r))}};function Sc(e,t,n,r,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!Yr(n,r)||!Yr(s,l):!0}function Hd(e,t,n){var r=!1,s=un,l=t.contextType;return typeof l=="object"&&l!==null?l=xt(l):(s=Ze(t)?Rn:Ue.current,r=t.contextTypes,l=(r=r!=null)?cr(e,s):un),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Nc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function di(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},la(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=xt(l):(l=Ze(t)?Rn:Ue.current,s.context=cr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ui(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dl.enqueueReplaceState(s,s.state,null),wl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t){try{var n="",r=t;do n+=Em(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function No(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eh=typeof WeakMap=="function"?WeakMap:Map;function Vd(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cl||(Cl=!0,Ni=r),fi(e,t)},n}function Wd(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){fi(e,t),typeof r!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function jc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ph.bind(null,e,t,n),t.then(e,e))}function kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var th=Wt.ReactCurrentOwner,Xe=!1;function He(e,t,n,r){t.child=e===null?Sd(t,null,n,r):dr(t,e.child,n,r)}function bc(e,t,n,r,s){n=n.render;var l=t.ref;return or(t,s),r=ua(e,t,n,r,l,s),n=da(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vt(e,t,s)):(ge&&n&&Yi(t),t.flags|=1,He(e,t,r,s),t.child)}function Ec(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Sa(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Kd(e,t,l,r,s)):(e=Zs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(i,r)&&e.ref===t.ref)return Vt(e,t,s)}return t.flags|=1,e=an(l,r),e.ref=t.ref,e.return=t,t.child=e}function Kd(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Yr(l,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Vt(e,t,s)}return mi(e,t,n,r,s)}function Qd(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(er,lt),lt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(er,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,fe(er,lt),lt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,fe(er,lt),lt|=r;return He(e,t,s,n),t.child}function qd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function mi(e,t,n,r,s){var l=Ze(n)?Rn:Ue.current;return l=cr(t,l),or(t,s),n=ua(e,t,n,r,l,s),r=da(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vt(e,t,s)):(ge&&r&&Yi(t),t.flags|=1,He(e,t,n,s),t.child)}function Oc(e,t,n,r,s){if(Ze(n)){var l=!0;hl(t)}else l=!1;if(or(t,s),t.stateNode===null)Js(e,t),Hd(t,n,r),di(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=Ze(n)?Rn:Ue.current,u=cr(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Nc(t,i,r,u),qt=!1;var g=t.memoizedState;i.state=g,wl(t,r,i,s),c=t.memoizedState,a!==r||g!==c||Ye.current||qt?(typeof d=="function"&&(ui(t,n,d,r),c=t.memoizedState),(a=qt||Sc(t,n,a,r,g,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,jd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:wt(t.type,a),i.props=u,p=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=xt(c):(c=Ze(n)?Rn:Ue.current,c=cr(t,c));var N=n.getDerivedStateFromProps;(d=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Nc(t,i,r,c),qt=!1,g=t.memoizedState,i.state=g,wl(t,r,i,s);var x=t.memoizedState;a!==p||g!==x||Ye.current||qt?(typeof N=="function"&&(ui(t,n,N,r),x=t.memoizedState),(u=qt||Sc(t,n,u,r,g,x,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return pi(e,t,n,r,l,s)}function pi(e,t,n,r,s,l){qd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&mc(t,n,!1),Vt(e,t,l);r=t.stateNode,th.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=dr(t,e.child,null,l),t.child=dr(t,null,a,l)):He(e,t,a,l),t.memoizedState=r.state,s&&mc(t,n,!0),t.child}function Jd(e){var t=e.stateNode;t.pendingContext?fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fc(e,t.context,!1),oa(e,t.containerInfo)}function _c(e,t,n,r,s){return ur(),ea(s),t.flags|=256,He(e,t,n,r),t.child}var hi={dehydrated:null,treeContext:null,retryLane:0};function gi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xd(e,t,n){var r=t.pendingProps,s=xe.current,l=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),fe(xe,s&1),e===null)return ai(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Ul(i,r,0,null),e=On(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=gi(n),t.memoizedState=hi,e):pa(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nh(e,t,i,r,a,s,n);if(l){l=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=an(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=an(a,l):(l=On(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?gi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=hi,r}return l=e.child,e=l.sibling,r=an(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pa(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $s(e,t,n,r){return r!==null&&ea(r),dr(t,e.child,null,n),e=pa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nh(e,t,n,r,s,l,i){if(n)return t.flags&256?(t.flags&=-257,r=No(Error(T(422))),$s(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Ul({mode:"visible",children:r.children},s,0,null),l=On(l,s,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&dr(t,e.child,null,i),t.child.memoizedState=gi(i),t.memoizedState=hi,l);if(!(t.mode&1))return $s(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(T(419)),r=No(l,r,void 0),$s(e,t,i,r)}if(a=(i&e.childLanes)!==0,Xe||a){if(r=Me,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Ht(e,s),kt(r,e,s,-1))}return wa(),r=No(Error(T(421))),$s(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hh.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ot=rn(s.nextSibling),it=t,ge=!0,Nt=null,e!==null&&(mt[pt++]=At,mt[pt++]=Ft,mt[pt++]=Mn,At=e.id,Ft=e.overflow,Mn=t),t=pa(t,r.children),t.flags|=4096,t)}function Tc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ci(e.return,t,n)}function jo(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Yd(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(He(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tc(e,n,t);else if(e.tag===19)Tc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),jo(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}jo(t,!0,n,null,l);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rh(e,t,n){switch(t.tag){case 3:Jd(t),ur();break;case 5:kd(t);break;case 1:Ze(t.type)&&hl(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;fe(yl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?Xd(e,t,n):(fe(xe,xe.current&1),e=Vt(e,t,n),e!==null?e.sibling:null);fe(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Yd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,Qd(e,t,n)}return Vt(e,t,n)}var Zd,xi,ef,tf;Zd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xi=function(){};ef=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,kn(Lt.current);var l=null;switch(n){case"input":s=Ao(e,s),r=Ao(e,r),l=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),l=[];break;case"textarea":s=Bo(e,s),r=Bo(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ml)}Ho(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&me("scroll",e),l||a===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};tf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Er(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sh(e,t,n){var r=t.pendingProps;switch(Zi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ze(t.type)&&pl(),ze(t),null;case 3:return r=t.stateNode,fr(),pe(Ye),pe(Ue),aa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Ci(Nt),Nt=null))),xi(e,t),ze(t),null;case 5:ia(t);var s=kn(rs.current);if(n=t.type,e!==null&&t.stateNode!=null)ef(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return ze(t),null}if(e=kn(Lt.current),Rs(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Rt]=t,r[ts]=l,e=(t.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(s=0;s<$r.length;s++)me($r[s],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Aa(r,l),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},me("invalid",r);break;case"textarea":Ua(r,l),me("invalid",r)}Ho(n,l),s=null;for(var i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Ts(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Ts(r.textContent,a,e),s=["children",""+a]):Vr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&me("scroll",r)}switch(n){case"input":Ns(r),Fa(r,l,!0);break;case"textarea":Ns(r),Ba(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ml)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_u(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Rt]=t,e[ts]=r,Zd(e,t,!1,!1),t.stateNode=e;e:{switch(i=Vo(n,r),n){case"dialog":me("cancel",e),me("close",e),s=r;break;case"iframe":case"object":case"embed":me("load",e),s=r;break;case"video":case"audio":for(s=0;s<$r.length;s++)me($r[s],e);s=r;break;case"source":me("error",e),s=r;break;case"img":case"image":case"link":me("error",e),me("load",e),s=r;break;case"details":me("toggle",e),s=r;break;case"input":Aa(e,r),s=Ao(e,r),me("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),me("invalid",e);break;case"textarea":Ua(e,r),s=Bo(e,r),me("invalid",e);break;default:s=r}Ho(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="style"?Mu(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tu(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wr(e,c):typeof c=="number"&&Wr(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Vr.hasOwnProperty(l)?c!=null&&l==="onScroll"&&me("scroll",e):c!=null&&Di(e,l,c,i))}switch(n){case"input":Ns(e),Fa(e,r,!1);break;case"textarea":Ns(e),Ba(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?nr(e,!!r.multiple,l,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)tf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=kn(rs.current),kn(Lt.current),Rs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(l=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:Ts(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return ze(t),null;case 13:if(pe(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&ot!==null&&t.mode&1&&!(t.flags&128))vd(),ur(),t.flags|=98560,l=!1;else if(l=Rs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(T(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(T(317));l[Rt]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),l=!1}else Nt!==null&&(Ci(Nt),Nt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Te===0&&(Te=3):wa())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return fr(),xi(e,t),e===null&&Zr(t.stateNode.containerInfo),ze(t),null;case 10:return ra(t.type._context),ze(t),null;case 17:return Ze(t.type)&&pl(),ze(t),null;case 19:if(pe(xe),l=t.memoizedState,l===null)return ze(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Er(l,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Sl(e),i!==null){for(t.flags|=128,Er(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(xe,xe.current&1|2),t.child}e=e.sibling}l.tail!==null&&je()>pr&&(t.flags|=128,r=!0,Er(l,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Er(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ge)return ze(t),null}else 2*je()-l.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,r=!0,Er(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=je(),t.sibling=null,n=xe.current,fe(xe,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return va(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function lh(e,t){switch(Zi(t),t.tag){case 1:return Ze(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fr(),pe(Ye),pe(Ue),aa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ia(t),null;case 13:if(pe(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(xe),null;case 4:return fr(),null;case 10:return ra(t.type._context),null;case 22:case 23:return va(),null;case 24:return null;default:return null}}var Ls=!1,De=!1,oh=typeof WeakSet=="function"?WeakSet:Set,G=null;function Zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function yi(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var Rc=!1;function ih(e,t){if(ti=ul,e=od(),Xi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,p=e,g=null;t:for(;;){for(var N;p!==n||s!==0&&p.nodeType!==3||(a=i+s),p!==l||r!==0&&p.nodeType!==3||(c=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(N=p.firstChild)!==null;)g=p,p=N;for(;;){if(p===e)break t;if(g===n&&++u===s&&(a=i),g===l&&++d===r&&(c=i),(N=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=N}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},ul=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var C=x.memoizedProps,v=x.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?C:wt(t.type,C),v);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(j){Ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return x=Rc,Rc=!1,x}function Br(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&yi(t,n,l)}s=s.next}while(s!==r)}}function Al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nf(e){var t=e.alternate;t!==null&&(e.alternate=null,nf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[ts],delete t[li],delete t[Gp],delete t[Hp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rf(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ml));else if(r!==4&&(e=e.child,e!==null))for(wi(e,t,n),e=e.sibling;e!==null;)wi(e,t,n),e=e.sibling}function Si(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Si(e,t,n),e=e.sibling;e!==null;)Si(e,t,n),e=e.sibling}var $e=null,St=!1;function Kt(e,t,n){for(n=n.child;n!==null;)sf(e,t,n),n=n.sibling}function sf(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 5:De||Zn(n,t);case 6:var r=$e,s=St;$e=null,Kt(e,t,n),$e=r,St=s,$e!==null&&(St?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(St?(e=$e,n=n.stateNode,e.nodeType===8?go(e.parentNode,n):e.nodeType===1&&go(e,n),Jr(e)):go($e,n.stateNode));break;case 4:r=$e,s=St,$e=n.stateNode.containerInfo,St=!0,Kt(e,t,n),$e=r,St=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&yi(n,t,i),s=s.next}while(s!==r)}Kt(e,t,n);break;case 1:if(!De&&(Zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,t,a)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Kt(e,t,n),De=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function $c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oh),t.forEach(function(r){var s=gh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:$e=a.stateNode,St=!1;break e;case 3:$e=a.stateNode.containerInfo,St=!0;break e;case 4:$e=a.stateNode.containerInfo,St=!0;break e}a=a.return}if($e===null)throw Error(T(160));sf(l,i,s),$e=null,St=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lf(t,e),t=t.sibling}function lf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Ot(e),r&4){try{Br(3,e,e.return),Al(3,e)}catch(C){Ne(e,e.return,C)}try{Br(5,e,e.return)}catch(C){Ne(e,e.return,C)}}break;case 1:vt(t,e),Ot(e),r&512&&n!==null&&Zn(n,n.return);break;case 5:if(vt(t,e),Ot(e),r&512&&n!==null&&Zn(n,n.return),e.flags&32){var s=e.stateNode;try{Wr(s,"")}catch(C){Ne(e,e.return,C)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&Eu(s,l),Vo(a,i);var u=Vo(a,l);for(i=0;i<c.length;i+=2){var d=c[i],p=c[i+1];d==="style"?Mu(s,p):d==="dangerouslySetInnerHTML"?Tu(s,p):d==="children"?Wr(s,p):Di(s,d,p,u)}switch(a){case"input":Fo(s,l);break;case"textarea":Ou(s,l);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?nr(s,!!l.multiple,N,!1):g!==!!l.multiple&&(l.defaultValue!=null?nr(s,!!l.multiple,l.defaultValue,!0):nr(s,!!l.multiple,l.multiple?[]:"",!1))}s[ts]=l}catch(C){Ne(e,e.return,C)}}break;case 6:if(vt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(C){Ne(e,e.return,C)}}break;case 3:if(vt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(t.containerInfo)}catch(C){Ne(e,e.return,C)}break;case 4:vt(t,e),Ot(e);break;case 13:vt(t,e),Ot(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(xa=je())),r&4&&$c(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||d,vt(t,e),De=u):vt(t,e),Ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(p=G=d;G!==null;){switch(g=G,N=g.child,g.tag){case 0:case 11:case 14:case 15:Br(4,g,g.return);break;case 1:Zn(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(C){Ne(r,n,C)}}break;case 5:Zn(g,g.return);break;case 22:if(g.memoizedState!==null){Pc(p);continue}}N!==null?(N.return=g,G=N):Pc(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ru("display",i))}catch(C){Ne(e,e.return,C)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(C){Ne(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vt(t,e),Ot(e),r&4&&$c(e);break;case 21:break;default:vt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rf(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wr(s,""),r.flags&=-33);var l=Mc(e);Si(e,l,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Mc(e);wi(e,a,i);break;default:throw Error(T(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ah(e,t,n){G=e,of(e)}function of(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,l=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ls;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||De;a=Ls;var u=De;if(Ls=i,(De=c)&&!u)for(G=s;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?Ic(s):c!==null?(c.return=i,G=c):Ic(s);for(;l!==null;)G=l,of(l),l=l.sibling;G=s,Ls=a,De=u}Lc(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,G=l):Lc(e)}}function Lc(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||Al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&yc(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yc(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Jr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}De||t.flags&512&&vi(t)}catch(g){Ne(t,t.return,g)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Pc(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Ic(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Al(4,t)}catch(c){Ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ne(t,s,c)}}var l=t.return;try{vi(t)}catch(c){Ne(t,l,c)}break;case 5:var i=t.return;try{vi(t)}catch(c){Ne(t,i,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var ch=Math.ceil,kl=Wt.ReactCurrentDispatcher,ha=Wt.ReactCurrentOwner,gt=Wt.ReactCurrentBatchConfig,se=0,Me=null,Ee=null,Le=0,lt=0,er=fn(0),Te=0,is=null,Ln=0,Fl=0,ga=0,Gr=null,qe=null,xa=0,pr=1/0,zt=null,Cl=!1,Ni=null,ln=null,Ps=!1,Zt=null,bl=0,Hr=0,ji=null,Xs=-1,Ys=0;function Ve(){return se&6?je():Xs!==-1?Xs:Xs=je()}function on(e){return e.mode&1?se&2&&Le!==0?Le&-Le:Wp.transition!==null?(Ys===0&&(Ys=Hu()),Ys):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Xu(e.type)),e):1}function kt(e,t,n,r){if(50<Hr)throw Hr=0,ji=null,Error(T(185));us(e,n,r),(!(se&2)||e!==Me)&&(e===Me&&(!(se&2)&&(Fl|=n),Te===4&&Xt(e,Le)),et(e,r),n===1&&se===0&&!(t.mode&1)&&(pr=je()+500,Il&&mn()))}function et(e,t){var n=e.callbackNode;Wm(e,t);var r=cl(e,e===Me?Le:0);if(r===0)n!==null&&Va(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Va(n),t===1)e.tag===0?Vp(zc.bind(null,e)):gd(zc.bind(null,e)),Up(function(){!(se&6)&&mn()}),n=null;else{switch(Vu(r)){case 1:n=Gi;break;case 4:n=Bu;break;case 16:n=al;break;case 536870912:n=Gu;break;default:n=al}n=hf(n,af.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function af(e,t){if(Xs=-1,Ys=0,se&6)throw Error(T(327));var n=e.callbackNode;if(ir()&&e.callbackNode!==n)return null;var r=cl(e,e===Me?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=El(e,r);else{t=r;var s=se;se|=2;var l=uf();(Me!==e||Le!==t)&&(zt=null,pr=je()+500,En(e,t));do try{fh();break}catch(a){cf(e,a)}while(!0);na(),kl.current=l,se=s,Ee!==null?t=0:(Me=null,Le=0,t=Te)}if(t!==0){if(t===2&&(s=Jo(e),s!==0&&(r=s,t=ki(e,s))),t===1)throw n=is,En(e,0),Xt(e,r),et(e,je()),n;if(t===6)Xt(e,r);else{if(s=e.current.alternate,!(r&30)&&!uh(s)&&(t=El(e,r),t===2&&(l=Jo(e),l!==0&&(r=l,t=ki(e,l))),t===1))throw n=is,En(e,0),Xt(e,r),et(e,je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Sn(e,qe,zt);break;case 3:if(Xt(e,r),(r&130023424)===r&&(t=xa+500-je(),10<t)){if(cl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=si(Sn.bind(null,e,qe,zt),t);break}Sn(e,qe,zt);break;case 4:if(Xt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-jt(r);l=1<<i,i=t[i],i>s&&(s=i),r&=~l}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ch(r/1960))-r,10<r){e.timeoutHandle=si(Sn.bind(null,e,qe,zt),r);break}Sn(e,qe,zt);break;case 5:Sn(e,qe,zt);break;default:throw Error(T(329))}}}return et(e,je()),e.callbackNode===n?af.bind(null,e):null}function ki(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=El(e,t),e!==2&&(t=qe,qe=n,t!==null&&Ci(t)),e}function Ci(e){qe===null?qe=e:qe.push.apply(qe,e)}function uh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Ct(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~ga,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function zc(e){if(se&6)throw Error(T(327));ir();var t=cl(e,0);if(!(t&1))return et(e,je()),null;var n=El(e,t);if(e.tag!==0&&n===2){var r=Jo(e);r!==0&&(t=r,n=ki(e,r))}if(n===1)throw n=is,En(e,0),Xt(e,t),et(e,je()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,qe,zt),et(e,je()),null}function ya(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(pr=je()+500,Il&&mn())}}function Pn(e){Zt!==null&&Zt.tag===0&&!(se&6)&&ir();var t=se;se|=1;var n=gt.transition,r=ae;try{if(gt.transition=null,ae=1,e)return e()}finally{ae=r,gt.transition=n,se=t,!(se&6)&&mn()}}function va(){lt=er.current,pe(er)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fp(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Zi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:fr(),pe(Ye),pe(Ue),aa();break;case 5:ia(r);break;case 4:fr();break;case 13:pe(xe);break;case 19:pe(xe);break;case 10:ra(r.type._context);break;case 22:case 23:va()}n=n.return}if(Me=e,Ee=e=an(e.current,null),Le=lt=t,Te=0,is=null,ga=Fl=Ln=0,qe=Gr=null,jn!==null){for(t=0;t<jn.length;t++)if(n=jn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=s,r.next=i}n.pending=r}jn=null}return e}function cf(e,t){do{var n=Ee;try{if(na(),Qs.current=jl,Nl){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nl=!1}if($n=0,Re=_e=ye=null,Ur=!1,ss=0,ha.current=null,n===null||n.return===null){Te=1,is=t,Ee=null;break}e:{var l=e,i=n.return,a=n,c=t;if(t=Le,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var N=kc(i);if(N!==null){N.flags&=-257,Cc(N,i,a,l,t),N.mode&1&&jc(l,u,t),t=N,c=u;var x=t.updateQueue;if(x===null){var C=new Set;C.add(c),t.updateQueue=C}else x.add(c);break e}else{if(!(t&1)){jc(l,u,t),wa();break e}c=Error(T(426))}}else if(ge&&a.mode&1){var v=kc(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Cc(v,i,a,l,t),ea(mr(c,a));break e}}l=c=mr(c,a),Te!==4&&(Te=2),Gr===null?Gr=[l]:Gr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Vd(l,c,t);xc(l,h);break e;case 1:a=c;var f=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ln===null||!ln.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var j=Wd(l,a,t);xc(l,j);break e}}l=l.return}while(l!==null)}ff(n)}catch(y){t=y,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function uf(){var e=kl.current;return kl.current=jl,e===null?jl:e}function wa(){(Te===0||Te===3||Te===2)&&(Te=4),Me===null||!(Ln&268435455)&&!(Fl&268435455)||Xt(Me,Le)}function El(e,t){var n=se;se|=2;var r=uf();(Me!==e||Le!==t)&&(zt=null,En(e,t));do try{dh();break}catch(s){cf(e,s)}while(!0);if(na(),se=n,kl.current=r,Ee!==null)throw Error(T(261));return Me=null,Le=0,Te}function dh(){for(;Ee!==null;)df(Ee)}function fh(){for(;Ee!==null&&!zm();)df(Ee)}function df(e){var t=pf(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?ff(e):Ee=t,ha.current=null}function ff(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lh(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ee=null;return}}else if(n=sh(n,t,lt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Te===0&&(Te=5)}function Sn(e,t,n){var r=ae,s=gt.transition;try{gt.transition=null,ae=1,mh(e,t,n,r)}finally{gt.transition=s,ae=r}return null}function mh(e,t,n,r){do ir();while(Zt!==null);if(se&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Km(e,l),e===Me&&(Ee=Me=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ps||(Ps=!0,hf(al,function(){return ir(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=gt.transition,gt.transition=null;var i=ae;ae=1;var a=se;se|=4,ha.current=null,ih(e,n),lf(n,e),$p(ni),ul=!!ti,ni=ti=null,e.current=n,ah(n),Dm(),se=a,ae=i,gt.transition=l}else e.current=n;if(Ps&&(Ps=!1,Zt=e,bl=s),l=e.pendingLanes,l===0&&(ln=null),Um(n.stateNode),et(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Cl)throw Cl=!1,e=Ni,Ni=null,e;return bl&1&&e.tag!==0&&ir(),l=e.pendingLanes,l&1?e===ji?Hr++:(Hr=0,ji=e):Hr=0,mn(),null}function ir(){if(Zt!==null){var e=Vu(bl),t=gt.transition,n=ae;try{if(gt.transition=null,ae=16>e?16:e,Zt===null)var r=!1;else{if(e=Zt,Zt=null,bl=0,se&6)throw Error(T(331));var s=se;for(se|=4,G=e.current;G!==null;){var l=G,i=l.child;if(G.flags&16){var a=l.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Br(8,d,l)}var p=d.child;if(p!==null)p.return=d,G=p;else for(;G!==null;){d=G;var g=d.sibling,N=d.return;if(nf(d),d===u){G=null;break}if(g!==null){g.return=N,G=g;break}G=N}}}var x=l.alternate;if(x!==null){var C=x.child;if(C!==null){x.child=null;do{var v=C.sibling;C.sibling=null,C=v}while(C!==null)}}G=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,G=i;else e:for(;G!==null;){if(l=G,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Br(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,G=h;break e}G=l.return}}var f=e.current;for(G=f;G!==null;){i=G;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,G=m;else e:for(i=f;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Al(9,a)}}catch(y){Ne(a,a.return,y)}if(a===i){G=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,G=j;break e}G=a.return}}if(se=s,mn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{ae=n,gt.transition=t}}return!1}function Dc(e,t,n){t=mr(n,t),t=Vd(e,t,1),e=sn(e,t,1),t=Ve(),e!==null&&(us(e,1,t),et(e,t))}function Ne(e,t,n){if(e.tag===3)Dc(e,e,n);else for(;t!==null;){if(t.tag===3){Dc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))){e=mr(n,e),e=Wd(t,e,1),t=sn(t,e,1),e=Ve(),t!==null&&(us(t,1,e),et(t,e));break}}t=t.return}}function ph(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Me===e&&(Le&n)===n&&(Te===4||Te===3&&(Le&130023424)===Le&&500>je()-xa?En(e,0):ga|=n),et(e,t)}function mf(e,t){t===0&&(e.mode&1?(t=Cs,Cs<<=1,!(Cs&130023424)&&(Cs=4194304)):t=1);var n=Ve();e=Ht(e,t),e!==null&&(us(e,t,n),et(e,n))}function hh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mf(e,n)}function gh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),mf(e,n)}var pf;pf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,rh(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,ge&&t.flags&1048576&&xd(t,xl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Js(e,t),e=t.pendingProps;var s=cr(t,Ue.current);or(t,n),s=ua(null,t,r,e,s,n);var l=da();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(l=!0,hl(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,la(t),s.updater=Dl,t.stateNode=s,s._reactInternals=t,di(t,r,e,n),t=pi(null,t,r,!0,l,n)):(t.tag=0,ge&&l&&Yi(t),He(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Js(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=yh(r),e=wt(r,e),s){case 0:t=mi(null,t,r,e,n);break e;case 1:t=Oc(null,t,r,e,n);break e;case 11:t=bc(null,t,r,e,n);break e;case 14:t=Ec(null,t,r,wt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),mi(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),Oc(e,t,r,s,n);case 3:e:{if(Jd(t),e===null)throw Error(T(387));r=t.pendingProps,l=t.memoizedState,s=l.element,jd(e,t),wl(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=mr(Error(T(423)),t),t=_c(e,t,r,n,s);break e}else if(r!==s){s=mr(Error(T(424)),t),t=_c(e,t,r,n,s);break e}else for(ot=rn(t.stateNode.containerInfo.firstChild),it=t,ge=!0,Nt=null,n=Sd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),r===s){t=Vt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return kd(t),e===null&&ai(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,ri(r,s)?i=null:l!==null&&ri(r,l)&&(t.flags|=32),qd(e,t),He(e,t,i,n),t.child;case 6:return e===null&&ai(t),null;case 13:return Xd(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),bc(e,t,r,s,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,fe(yl,r._currentValue),r._currentValue=i,l!==null)if(Ct(l.value,i)){if(l.children===s.children&&!Ye.current){t=Vt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){i=l.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Ut(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),ci(l.return,n,t),a.lanes|=n;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(T(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ci(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}He(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,or(t,n),s=xt(s),r=r(s),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,s=wt(r,t.pendingProps),s=wt(r.type,s),Ec(e,t,r,s,n);case 15:return Kd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),Js(e,t),t.tag=1,Ze(r)?(e=!0,hl(t)):e=!1,or(t,n),Hd(t,r,s),di(t,r,s,n),pi(null,t,r,!0,e,n);case 19:return Yd(e,t,n);case 22:return Qd(e,t,n)}throw Error(T(156,t.tag))};function hf(e,t){return Uu(e,t)}function xh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new xh(e,t,n,r)}function Sa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yh(e){if(typeof e=="function")return Sa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fi)return 11;if(e===Ui)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zs(e,t,n,r,s,l){var i=2;if(r=e,typeof e=="function")Sa(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Hn:return On(n.children,s,l,t);case Ai:i=8,s|=8;break;case Po:return e=ht(12,n,t,s|2),e.elementType=Po,e.lanes=l,e;case Io:return e=ht(13,n,t,s),e.elementType=Io,e.lanes=l,e;case zo:return e=ht(19,n,t,s),e.elementType=zo,e.lanes=l,e;case ku:return Ul(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nu:i=10;break e;case ju:i=9;break e;case Fi:i=11;break e;case Ui:i=14;break e;case Qt:i=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ht(i,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function On(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=ht(22,e,r,t),e.elementType=ku,e.lanes=n,e.stateNode={isHidden:!1},e}function ko(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Co(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Na(e,t,n,r,s,l,i,a,c){return e=new vh(e,t,n,a,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ht(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},la(l),e}function wh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gf(e){if(!e)return un;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ze(n))return hd(e,n,t)}return t}function xf(e,t,n,r,s,l,i,a,c){return e=Na(n,r,!0,e,s,l,i,a,c),e.context=gf(null),n=e.current,r=Ve(),s=on(n),l=Ut(r,s),l.callback=t??null,sn(n,l,s),e.current.lanes=s,us(e,s,r),et(e,r),e}function Bl(e,t,n,r){var s=t.current,l=Ve(),i=on(s);return n=gf(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sn(s,t,i),e!==null&&(kt(e,s,i,l),Ks(e,s,i)),i}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ja(e,t){Ac(e,t),(e=e.alternate)&&Ac(e,t)}function Sh(){return null}var yf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ka(e){this._internalRoot=e}Gl.prototype.render=ka.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Bl(e,t,null,null)};Gl.prototype.unmount=ka.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){Bl(null,e,null,null)}),t[Gt]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&Ju(e)}};function Ca(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fc(){}function Nh(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var u=Ol(i);l.call(u)}}var i=xf(t,r,e,0,null,!1,!1,"",Fc);return e._reactRootContainer=i,e[Gt]=i.current,Zr(e.nodeType===8?e.parentNode:e),Pn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ol(c);a.call(u)}}var c=Na(e,0,!1,null,null,!1,!1,"",Fc);return e._reactRootContainer=c,e[Gt]=c.current,Zr(e.nodeType===8?e.parentNode:e),Pn(function(){Bl(t,c,n,r)}),c}function Vl(e,t,n,r,s){var l=n._reactRootContainer;if(l){var i=l;if(typeof s=="function"){var a=s;s=function(){var c=Ol(i);a.call(c)}}Bl(t,i,e,s)}else i=Nh(n,t,e,s,r);return Ol(i)}Wu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mr(t.pendingLanes);n!==0&&(Hi(t,n|1),et(t,je()),!(se&6)&&(pr=je()+500,mn()))}break;case 13:Pn(function(){var r=Ht(e,1);if(r!==null){var s=Ve();kt(r,e,1,s)}}),ja(e,1)}};Vi=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=Ve();kt(t,e,134217728,n)}ja(e,134217728)}};Ku=function(e){if(e.tag===13){var t=on(e),n=Ht(e,t);if(n!==null){var r=Ve();kt(n,e,t,r)}ja(e,t)}};Qu=function(){return ae};qu=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Ko=function(e,t,n){switch(t){case"input":if(Fo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Pl(r);if(!s)throw Error(T(90));bu(r),Fo(r,s)}}}break;case"textarea":Ou(e,n);break;case"select":t=n.value,t!=null&&nr(e,!!n.multiple,t,!1)}};Pu=ya;Iu=Pn;var jh={usingClientEntryPoint:!1,Events:[fs,Qn,Pl,$u,Lu,ya]},Or={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kh={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Au(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||Sh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Rl=Is.inject(kh),$t=Is}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jh;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(t))throw Error(T(200));return wh(e,t,null,n)};ct.createRoot=function(e,t){if(!Ca(e))throw Error(T(299));var n=!1,r="",s=yf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Na(e,1,!1,null,null,n,!1,r,s),e[Gt]=t.current,Zr(e.nodeType===8?e.parentNode:e),new ka(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Au(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return Pn(e)};ct.hydrate=function(e,t,n){if(!Hl(t))throw Error(T(200));return Vl(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!Ca(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",i=yf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=xf(t,null,e,1,n??null,s,!1,l,i),e[Gt]=t.current,Zr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gl(t)};ct.render=function(e,t,n){if(!Hl(t))throw Error(T(200));return Vl(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(T(40));return e._reactRootContainer?(Pn(function(){Vl(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};ct.unstable_batchedUpdates=ya;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Vl(e,t,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function vf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vf)}catch(e){console.error(e)}}vf(),yu.exports=ct;var Ch=yu.exports,Uc=Ch;$o.createRoot=Uc.createRoot,$o.hydrateRoot=Uc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const n=R.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:a="",children:c,...u},d)=>R.createElement("svg",{ref:d,...bh,width:s,height:s,stroke:r,strokeWidth:i?Number(l)*24/Number(s):l,className:["lucide",`lucide-${Eh(e)}`,a].join(" "),...u},[...t.map(([p,g])=>R.createElement(p,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ie("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ie("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ie("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ie("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),zh=[{id:"xuanhuan",name:"",description:""},{id:"xianxia",name:"",description:""},{id:"dushi",name:"",description:""},{id:"wenyu",name:"",description:"/"},{id:"niandai_siheyuan",name:"",description:""},{id:"junshi",name:"",description:""},{id:"lishi",name:"",description:""},{id:"kehuan",name:"",description:""},{id:"youxi",name:"",description:""},{id:"xuanyi",name:"",description:""}],Dh=[{id:"yanqing",name:"",description:""},{id:"gongdou",name:"",description:""},{id:"chuanyue",name:"",description:""},{id:"xianxia",name:"",description:""},{id:"kehuan",name:"",description:""},{id:"dushi",name:"",description:""},{id:"lishi",name:"",description:""},{id:"youxi",name:"",description:""}],Ah=[{id:"moshi",name:"",description:""},{id:"tongren",name:"",description:"IP"},{id:"dushi_yineng",name:"",description:""},{id:"xitong",name:"",description:"/"},{id:"shitu",name:"",description:""},{id:"banzhu_chihu",name:"",description:""},{id:"dushi_gaowu",name:"",description:""},{id:"qunxiang",name:"",description:""},{id:"kehuan_moshi",name:"",description:""},{id:"kesulu",name:"",description:""},{id:"wangyou",name:"",description:""},{id:"wuxianliu",name:"",description:""},{id:"fanpai",name:"",description:""},{id:"gaoxiao_qingsong",name:"",description:""},{id:"duonvzh",name:"",description:""},{id:"naodong",name:"",description:""},{id:"zhanshen",name:"",description:""},{id:"lingqi_fusu",name:"",description:""},{id:"wunaoshuang",name:"",description:""},{id:"kuqing",name:"",description:""},{id:"kongbu",name:"",description:""},{id:"anhei_canku",name:"",description:""},{id:"rexue_jigang",name:"",description:""},{id:"zhidou",name:"",description:""},{id:"guanchang",name:"",description:""}],Fh={male:zh,female:Dh};function Uh({selectedCategory:e,onSelectCategory:t}){const[n,r]=R.useState("male"),s=Fh[n];return o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:""}),o.jsxs("div",{className:"flex bg-secondary-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>{r("male"),t(null)},className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all ${n==="male"?"bg-white text-primary-700 shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,children:""}),o.jsx("button",{onClick:()=>{r("female"),t(null)},className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all ${n==="female"?"bg-white text-primary-700 shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,children:""})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(l=>o.jsxs("button",{onClick:()=>t(l),className:`p-3 rounded-lg border-2 text-left transition-all hover:shadow-md ${(e==null?void 0:e.id)===l.id?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 bg-white hover:border-secondary-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(Je,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium text-sm",children:l.name})]}),o.jsx("p",{className:"text-xs text-secondary-600 leading-tight",children:l.description})]},l.id))})]})}function Bh({selectedStyles:e,onChangeSelectedStyles:t}){return o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:""}),o.jsxs("div",{className:"text-xs text-secondary-500",children:[" ",e.length," "]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ah.map(n=>{const r=e.some(s=>s.id===n.id);return o.jsxs("button",{type:"button",onClick:()=>{const s=r?e.filter(l=>l.id!==n.id):[...e,n];t(s)},className:`p-3 rounded-lg border-2 text-left transition-all hover:shadow-md ${r?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 bg-white hover:border-secondary-300"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(Lh,{className:"w-4 h-4"}),o.jsx("span",{className:"font-medium text-sm",children:n.name})]}),o.jsx("p",{className:"text-xs text-secondary-600 leading-tight",children:n.description})]},n.id)})})]})}function Gh({value:e,onChange:t}){return o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Nf,{className:"w-4 h-4 text-secondary-400"})}),o.jsx("textarea",{value:e,onChange:n=>t(n.target.value),placeholder:"...",className:"w-full pl-10 pr-3 py-3 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none transition-colors",rows:3})]}),o.jsx("p",{className:"text-xs text-secondary-500",children:""})]})}function Hh({onClick:e,disabled:t,isLoading:n}){return o.jsx("button",{onClick:e,disabled:t,className:`w-full btn btn-primary py-3 text-base font-semibold flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed ${n?"animate-pulse":""}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(el,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-5 h-5"}),o.jsx("span",{children:""})]})})}const Eo="story-architect-saved-outlines",jf=R.createContext(void 0);function Vh({children:e}){const[t,n]=R.useState([]);R.useEffect(()=>{try{const u=localStorage.getItem(Eo);if(u){const d=JSON.parse(u);console.log("localStorage",d.length,""),n(d)}else console.log("localStorage")}catch(u){console.error("Failed to load saved outlines:",u)}},[]);const r=u=>{try{localStorage.setItem(Eo,JSON.stringify(u)),console.log("localStorage:",u.length,"")}catch(d){console.error("Failed to save outlines:",d)}},s=u=>{const d={...u,savedAt:new Date().toISOString(),id:Date.now()},p=[...t,d];console.log(":",d.title),console.log(":",t.length),console.log(":",p.length),r(p),n(p),setTimeout(()=>{const g=localStorage.getItem(Eo);if(g){const N=JSON.parse(g);console.log("",N.length,"")}else console.error("localStorage")},100)},l=u=>{const d=t.filter(p=>p.id!==u);n(d),r(d)},i=u=>{const d=t.some(p=>p.title===u.title&&p.logline===u.logline&&p.characters===u.characters);return console.log(":",u.title,":",d,":",t.length),d},a=u=>{const d=JSON.stringify(u,null,2),p="data:application/json;charset=utf-8,"+encodeURIComponent(d),g=`${u.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_outline.json`,N=document.createElement("a");N.setAttribute("href",p),N.setAttribute("download",g),N.click()},c=()=>{const u=JSON.stringify(t,null,2),d="data:application/json;charset=utf-8,"+encodeURIComponent(u),p=`story_architect_saved_outlines_${new Date().toISOString().split("T")[0]}.json`,g=document.createElement("a");g.setAttribute("href",d),g.setAttribute("download",p),g.click()};return o.jsx(jf.Provider,{value:{savedOutlines:t,saveOutline:s,removeSavedOutline:l,isOutlineSaved:i,exportOutline:a,exportAllSaved:c},children:e})}function kf(){const e=R.useContext(jf);if(e===void 0)throw new Error("useSavedOutlines must be used within a SavedOutlinesProvider");return e}function Wh({outline:e,className:t=""}){const{saveOutline:n,isOutlineSaved:r,exportOutline:s}=kf(),[l,i]=R.useState(!1),[a,c]=R.useState(!1);R.useEffect(()=>{c(r(e))},[r,e]);const u=()=>{n(e),c(!0),i(!0),setTimeout(()=>i(!1),2e3)},d=()=>{s(e)},p=[{icon:Ih,title:"",content:e.logline,color:"text-blue-600",bgColor:"bg-blue-50"},{icon:Pr,title:"",content:e.characters,color:"text-green-600",bgColor:"bg-green-50"},{icon:Mh,title:"",content:e.world,color:"text-orange-600",bgColor:"bg-orange-50"},{icon:Ae,title:"",content:e.hook,color:"text-purple-600",bgColor:"bg-purple-50"},{icon:Nf,title:"",content:e.themes,color:"text-red-600",bgColor:"bg-red-50"}];return o.jsxs("div",{className:`card overflow-hidden ${t}`,children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Je,{className:"w-6 h-6"}),o.jsx("h2",{className:"text-2xl font-bold",children:e.title})]}),o.jsx("p",{className:"text-primary-100 text-sm",children:" Gemini 3 Pro "})]}),o.jsx("div",{className:"p-6 space-y-6",children:p.map((g,N)=>o.jsx("div",{className:`rounded-lg p-4 ${g.bgColor} border-l-4 ${g.color.includes("blue")?"border-blue-500":g.color.includes("purple")?"border-purple-500":g.color.includes("green")?"border-green-500":g.color.includes("orange")?"border-orange-500":"border-red-500"} animate-slide-in`,style:{animationDelay:`${N*100}ms`},children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(g.icon,{className:`w-5 h-5 mt-0.5 ${g.color}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`font-semibold mb-2 ${g.color}`,children:g.title}),o.jsx("div",{className:"text-secondary-700 leading-relaxed whitespace-pre-line text-sm",children:g.content})]})]})},N))}),o.jsx("div",{className:"bg-secondary-50 px-6 py-4 border-t border-secondary-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm text-secondary-600",children:["AI  #",e.id]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:u,className:`flex items-center space-x-1 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${l?"bg-green-100 text-green-700 border border-green-200":a?"bg-primary-100 text-primary-700 border border-primary-200":"bg-white text-secondary-700 border border-secondary-200 hover:bg-secondary-50"}`,disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(Th,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):a?o.jsxs(o.Fragment,{children:[o.jsx(as,{className:"w-4 h-4 fill-current"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(as,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsxs("button",{onClick:d,className:"flex items-center space-x-1 px-3 py-1.5 rounded-md text-sm font-medium bg-white text-secondary-700 border border-secondary-200 hover:bg-secondary-50 transition-all",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-center space-x-1 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:""})]})]})]})})]})}function Kh({currentIndex:e,total:t,onPrev:n,onNext:r}){return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:n,className:"flex items-center space-x-2 btn btn-secondary",disabled:t<=1,children:[o.jsx(wf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-sm text-secondary-600",children:""}),o.jsx("div",{className:"flex space-x-1",children:Array.from({length:t},(s,l)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${l===e?"bg-primary-600":"bg-secondary-300"}`},l))}),o.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[e+1," / ",t]})]}),o.jsxs("button",{onClick:r,className:"flex items-center space-x-2 btn btn-secondary",disabled:t<=1,children:[o.jsx("span",{children:""}),o.jsx(Ea,{className:"w-4 h-4"})]})]})}function Qh(){return o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full animate-bounce-gentle"})})]})})}function qh({isOpen:e,onClose:t,onLoadOutline:n}){const{savedOutlines:r,removeSavedOutline:s,exportAllSaved:l}=kf();if(!e)return null;const i=a=>{n(a),t()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(as,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:""}),o.jsxs("p",{className:"text-primary-100 text-sm",children:[" ",r.length," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[r.length>0&&o.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-3 py-1.5 bg-primary-500 hover:bg-primary-400 rounded-lg text-sm font-medium transition-colors",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:t,className:"w-8 h-8 flex items-center justify-center bg-primary-500 hover:bg-primary-400 rounded-lg transition-colors",children:""})]})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(as,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]}):o.jsx("div",{className:"space-y-4",children:r.map(a=>o.jsxs("div",{className:"border border-secondary-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-secondary-900 mb-1",children:a.title}),o.jsx("p",{className:"text-sm text-secondary-600 line-clamp-2",children:a.logline})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>i(a),className:"flex items-center space-x-1 px-3 py-1.5 bg-primary-600 text-white rounded-md text-sm hover:bg-primary-700 transition-colors",children:[o.jsx(Mt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>s(a.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-md text-sm hover:bg-red-100 transition-colors",children:[o.jsx(tl,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-500",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(_h,{className:"w-3 h-3"}),o.jsxs("span",{children:[" ",a.savedAt?new Date(a.savedAt).toLocaleDateString("zh-CN"):""]})]}),o.jsxs("span",{children:[" #",a.id]})]})]},a.id))})})]})})}function Jh({steps:e,isVisible:t,onCancel:n,currentStepMessage:r}){if(!t)return null;const s=i=>{switch(i){case"completed":return o.jsx(tr,{className:"w-5 h-5 text-green-500"});case"running":return o.jsx(el,{className:"w-5 h-5 text-blue-500 animate-spin"});case"error":return o.jsx(Oh,{className:"w-5 h-5 text-red-500"});default:return o.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})}},l=i=>{switch(i){case"completed":return"text-green-700";case"running":return"text-blue-700";case"error":return"text-red-700";default:return"text-gray-500"}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(el,{className:"w-6 h-6 animate-spin"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:""}),o.jsx("p",{className:"text-primary-100 text-sm",children:"AI"})]})]}),o.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center bg-primary-500 hover:bg-primary-400 rounded-lg transition-colors",children:""})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[r&&o.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(el,{className:"w-5 h-5 text-blue-500 animate-spin mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-900",children:""}),o.jsx("p",{className:"text-sm text-blue-700",children:r})]})]})}),o.jsx("div",{className:"space-y-4",children:e.map((i,a)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:s(i.status)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h3",{className:`text-sm font-medium ${l(i.status)}`,children:[a+1,". ",i.label]}),i.progress!==void 0&&i.status==="running"&&o.jsxs("span",{className:"text-xs text-gray-500",children:[i.progress,"%"]})]}),i.progress!==void 0&&o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i.status==="completed"?"bg-green-500":i.status==="error"?"bg-red-500":"bg-blue-500"}`,style:{width:`${i.progress}%`}})}),i.message&&o.jsx("p",{className:`text-xs ${l(i.status)}`,children:i.message})]})]},i.id))}),o.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[o.jsxs("p",{className:"text-xs text-gray-600",children:[o.jsx("strong",{children:""}),"15-30AI"]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI"})]})]})]})})}function Cf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Xh}=Object.prototype,{getPrototypeOf:Oa}=Object,{iterator:Wl,toStringTag:bf}=Symbol,Kl=(e=>t=>{const n=Xh.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),bt=e=>(e=e.toLowerCase(),t=>Kl(t)===e),Ql=e=>t=>typeof t===e,{isArray:vr}=Array,hr=Ql("undefined");function ps(e){return e!==null&&!hr(e)&&e.constructor!==null&&!hr(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ef=bt("ArrayBuffer");function Yh(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ef(e.buffer),t}const Zh=Ql("string"),tt=Ql("function"),Of=Ql("number"),hs=e=>e!==null&&typeof e=="object",e0=e=>e===!0||e===!1,nl=e=>{if(Kl(e)!=="object")return!1;const t=Oa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(bf in e)&&!(Wl in e)},t0=e=>{if(!hs(e)||ps(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},n0=bt("Date"),r0=bt("File"),s0=bt("Blob"),l0=bt("FileList"),o0=e=>hs(e)&&tt(e.pipe),i0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tt(e.append)&&((t=Kl(e))==="formdata"||t==="object"&&tt(e.toString)&&e.toString()==="[object FormData]"))},a0=bt("URLSearchParams"),[c0,u0,d0,f0]=["ReadableStream","Request","Response","Headers"].map(bt),m0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),vr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(ps(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let a;for(r=0;r<i;r++)a=l[r],t.call(null,e[a],a,e)}}function _f(e,t){if(ps(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tf=e=>!hr(e)&&e!==bn;function Oi(){const{caseless:e,skipUndefined:t}=Tf(this)&&this||{},n={},r=(s,l)=>{const i=e&&_f(n,l)||l;nl(n[i])&&nl(s)?n[i]=Oi(n[i],s):nl(s)?n[i]=Oi({},s):vr(s)?n[i]=s.slice():(!t||!hr(s))&&(n[i]=s)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&gs(arguments[s],r);return n}const p0=(e,t,n,{allOwnKeys:r}={})=>(gs(t,(s,l)=>{n&&tt(s)?e[l]=Cf(s,n):e[l]=s},{allOwnKeys:r}),e),h0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),g0=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},x0=(e,t,n,r)=>{let s,l,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)i=s[l],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&Oa(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},y0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},v0=e=>{if(!e)return null;if(vr(e))return e;let t=e.length;if(!Of(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},w0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Oa(Uint8Array)),S0=(e,t)=>{const r=(e&&e[Wl]).call(e);let s;for(;(s=r.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},N0=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},j0=bt("HTMLFormElement"),k0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Gc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),C0=bt("RegExp"),Rf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};gs(n,(s,l)=>{let i;(i=t(s,l,e))!==!1&&(r[l]=i||s)}),Object.defineProperties(e,r)},b0=e=>{Rf(e,(t,n)=>{if(tt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(tt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},E0=(e,t)=>{const n={},r=s=>{s.forEach(l=>{n[l]=!0})};return vr(e)?r(e):r(String(e).split(t)),n},O0=()=>{},_0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function T0(e){return!!(e&&tt(e.append)&&e[bf]==="FormData"&&e[Wl])}const R0=e=>{const t=new Array(10),n=(r,s)=>{if(hs(r)){if(t.indexOf(r)>=0)return;if(ps(r))return r;if(!("toJSON"in r)){t[s]=r;const l=vr(r)?[]:{};return gs(r,(i,a)=>{const c=n(i,s+1);!hr(c)&&(l[a]=c)}),t[s]=void 0,l}}return r};return n(e,0)},M0=bt("AsyncFunction"),$0=e=>e&&(hs(e)||tt(e))&&tt(e.then)&&tt(e.catch),Mf=((e,t)=>e?setImmediate:t?((n,r)=>(bn.addEventListener("message",({source:s,data:l})=>{s===bn&&l===n&&r.length&&r.shift()()},!1),s=>{r.push(s),bn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tt(bn.postMessage)),L0=typeof queueMicrotask<"u"?queueMicrotask.bind(bn):typeof process<"u"&&process.nextTick||Mf,P0=e=>e!=null&&tt(e[Wl]),S={isArray:vr,isArrayBuffer:Ef,isBuffer:ps,isFormData:i0,isArrayBufferView:Yh,isString:Zh,isNumber:Of,isBoolean:e0,isObject:hs,isPlainObject:nl,isEmptyObject:t0,isReadableStream:c0,isRequest:u0,isResponse:d0,isHeaders:f0,isUndefined:hr,isDate:n0,isFile:r0,isBlob:s0,isRegExp:C0,isFunction:tt,isStream:o0,isURLSearchParams:a0,isTypedArray:w0,isFileList:l0,forEach:gs,merge:Oi,extend:p0,trim:m0,stripBOM:h0,inherits:g0,toFlatObject:x0,kindOf:Kl,kindOfTest:bt,endsWith:y0,toArray:v0,forEachEntry:S0,matchAll:N0,isHTMLForm:j0,hasOwnProperty:Gc,hasOwnProp:Gc,reduceDescriptors:Rf,freezeMethods:b0,toObjectSet:E0,toCamelCase:k0,noop:O0,toFiniteNumber:_0,findKey:_f,global:bn,isContextDefined:Tf,isSpecCompliantForm:T0,toJSONObject:R0,isAsyncFn:M0,isThenable:$0,setImmediate:Mf,asap:L0,isIterable:P0};function Y(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}S.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.status}}});const $f=Y.prototype,Lf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Lf[e]={value:e}});Object.defineProperties(Y,Lf);Object.defineProperty($f,"isAxiosError",{value:!0});Y.from=(e,t,n,r,s,l)=>{const i=Object.create($f);S.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Y.call(i,a,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const I0=null;function _i(e){return S.isPlainObject(e)||S.isArray(e)}function Pf(e){return S.endsWith(e,"[]")?e.slice(0,-2):e}function Hc(e,t,n){return e?e.concat(t).map(function(s,l){return s=Pf(s),!n&&l?"["+s+"]":s}).join(n?".":""):t}function z0(e){return S.isArray(e)&&!e.some(_i)}const D0=S.toFlatObject(S,{},null,function(t){return/^is[A-Z]/.test(t)});function ql(e,t,n){if(!S.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=S.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,v){return!S.isUndefined(v[C])});const r=n.metaTokens,s=n.visitor||d,l=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(t);if(!S.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(S.isDate(x))return x.toISOString();if(S.isBoolean(x))return x.toString();if(!c&&S.isBlob(x))throw new Y("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(x)||S.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,C,v){let h=x;if(x&&!v&&typeof x=="object"){if(S.endsWith(C,"{}"))C=r?C:C.slice(0,-2),x=JSON.stringify(x);else if(S.isArray(x)&&z0(x)||(S.isFileList(x)||S.endsWith(C,"[]"))&&(h=S.toArray(x)))return C=Pf(C),h.forEach(function(m,j){!(S.isUndefined(m)||m===null)&&t.append(i===!0?Hc([C],j,l):i===null?C:C+"[]",u(m))}),!1}return _i(x)?!0:(t.append(Hc(v,C,l),u(x)),!1)}const p=[],g=Object.assign(D0,{defaultVisitor:d,convertValue:u,isVisitable:_i});function N(x,C){if(!S.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+C.join("."));p.push(x),S.forEach(x,function(h,f){(!(S.isUndefined(h)||h===null)&&s.call(t,h,S.isString(f)?f.trim():f,C,g))===!0&&N(h,C?C.concat(f):[f])}),p.pop()}}if(!S.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Vc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _a(e,t){this._pairs=[],e&&ql(e,this,t)}const If=_a.prototype;If.append=function(t,n){this._pairs.push([t,n])};If.toString=function(t){const n=t?function(r){return t.call(this,r,Vc)}:Vc;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function A0(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zf(e,t,n){if(!t)return e;const r=n&&n.encode||A0;S.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(t,n):l=S.isURLSearchParams(t)?t.toString():new _a(t,n).toString(r),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Wc{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){S.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Df={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},F0=typeof URLSearchParams<"u"?URLSearchParams:_a,U0=typeof FormData<"u"?FormData:null,B0=typeof Blob<"u"?Blob:null,G0={isBrowser:!0,classes:{URLSearchParams:F0,FormData:U0,Blob:B0},protocols:["http","https","file","blob","url","data"]},Ta=typeof window<"u"&&typeof document<"u",Ti=typeof navigator=="object"&&navigator||void 0,H0=Ta&&(!Ti||["ReactNative","NativeScript","NS"].indexOf(Ti.product)<0),V0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",W0=Ta&&window.location.href||"http://localhost",K0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ta,hasStandardBrowserEnv:H0,hasStandardBrowserWebWorkerEnv:V0,navigator:Ti,origin:W0},Symbol.toStringTag,{value:"Module"})),Fe={...K0,...G0};function Q0(e,t){return ql(e,new Fe.classes.URLSearchParams,{visitor:function(n,r,s,l){return Fe.isNode&&S.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function q0(e){return S.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function J0(e){const t={},n=Object.keys(e);let r;const s=n.length;let l;for(r=0;r<s;r++)l=n[r],t[l]=e[l];return t}function Af(e){function t(n,r,s,l){let i=n[l++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=l>=n.length;return i=!i&&S.isArray(s)?s.length:i,c?(S.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!S.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],l)&&S.isArray(s[i])&&(s[i]=J0(s[i])),!a)}if(S.isFormData(e)&&S.isFunction(e.entries)){const n={};return S.forEachEntry(e,(r,s)=>{t(q0(r),s,n,0)}),n}return null}function X0(e,t,n){if(S.isString(e))try{return(t||JSON.parse)(e),S.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const xs={transitional:Df,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,l=S.isObject(t);if(l&&S.isHTMLForm(t)&&(t=new FormData(t)),S.isFormData(t))return s?JSON.stringify(Af(t)):t;if(S.isArrayBuffer(t)||S.isBuffer(t)||S.isStream(t)||S.isFile(t)||S.isBlob(t)||S.isReadableStream(t))return t;if(S.isArrayBufferView(t))return t.buffer;if(S.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Q0(t,this.formSerializer).toString();if((a=S.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ql(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),X0(t)):t}],transformResponse:[function(t){const n=this.transitional||xs.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(S.isResponse(t)||S.isReadableStream(t))return t;if(t&&S.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?Y.from(a,Y.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],e=>{xs.headers[e]={}});const Y0=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z0=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&Y0[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Kc=Symbol("internals");function _r(e){return e&&String(e).trim().toLowerCase()}function rl(e){return e===!1||e==null?e:S.isArray(e)?e.map(rl):String(e)}function eg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const tg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Oo(e,t,n,r,s){if(S.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!S.isString(t)){if(S.isString(r))return t.indexOf(r)!==-1;if(S.isRegExp(r))return r.test(t)}}function ng(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function rg(e,t){const n=S.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,l,i){return this[r].call(this,t,s,l,i)},configurable:!0})})}let nt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function l(a,c,u){const d=_r(c);if(!d)throw new Error("header name must be a non-empty string");const p=S.findKey(s,d);(!p||s[p]===void 0||u===!0||u===void 0&&s[p]!==!1)&&(s[p||c]=rl(a))}const i=(a,c)=>S.forEach(a,(u,d)=>l(u,d,c));if(S.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(S.isString(t)&&(t=t.trim())&&!tg(t))i(Z0(t),n);else if(S.isObject(t)&&S.isIterable(t)){let a={},c,u;for(const d of t){if(!S.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?S.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,n)}else t!=null&&l(n,t,r);return this}get(t,n){if(t=_r(t),t){const r=S.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return eg(s);if(S.isFunction(n))return n.call(this,s,r);if(S.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=_r(t),t){const r=S.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Oo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function l(i){if(i=_r(i),i){const a=S.findKey(r,i);a&&(!n||Oo(r,r[a],a,n))&&(delete r[a],s=!0)}}return S.isArray(t)?t.forEach(l):l(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const l=n[r];(!t||Oo(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const n=this,r={};return S.forEach(this,(s,l)=>{const i=S.findKey(r,l);if(i){n[i]=rl(s),delete n[l];return}const a=t?ng(l):String(l).trim();a!==l&&delete n[l],n[a]=rl(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return S.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&S.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Kc]=this[Kc]={accessors:{}}).accessors,s=this.prototype;function l(i){const a=_r(i);r[a]||(rg(s,i),r[a]=!0)}return S.isArray(t)?t.forEach(l):l(t),this}};nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(nt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});S.freezeMethods(nt);function _o(e,t){const n=this||xs,r=t||n,s=nt.from(r.headers);let l=r.data;return S.forEach(e,function(a){l=a.call(n,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function Ff(e){return!!(e&&e.__CANCEL__)}function wr(e,t,n){Y.call(this,e??"canceled",Y.ERR_CANCELED,t,n),this.name="CanceledError"}S.inherits(wr,Y,{__CANCEL__:!0});function Uf(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function sg(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lg(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[l];i||(i=u),n[s]=c,r[s]=u;let p=l,g=0;for(;p!==s;)g+=n[p++],p=p%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),u-i<t)return;const N=d&&u-d;return N?Math.round(g*1e3/N):void 0}}function og(e,t){let n=0,r=1e3/t,s,l;const i=(u,d=Date.now())=>{n=d,s=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=r?i(u,d):(s=u,l||(l=setTimeout(()=>{l=null,i(s)},r-p)))},()=>s&&i(s)]}const _l=(e,t,n=3)=>{let r=0;const s=lg(50,250);return og(l=>{const i=l.loaded,a=l.lengthComputable?l.total:void 0,c=i-r,u=s(c),d=i<=a;r=i;const p={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:l,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(p)},n)},Qc=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},qc=e=>(...t)=>S.asap(()=>e(...t)),ig=Fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>!0,ag=Fe.hasStandardBrowserEnv?{write(e,t,n,r,s,l,i){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];S.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),S.isString(r)&&a.push(`path=${r}`),S.isString(s)&&a.push(`domain=${s}`),l===!0&&a.push("secure"),S.isString(i)&&a.push(`SameSite=${i}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ug(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Bf(e,t,n){let r=!cg(t);return e&&(r||n==!1)?ug(e,t):t}const Jc=e=>e instanceof nt?{...e}:e;function In(e,t){t=t||{};const n={};function r(u,d,p,g){return S.isPlainObject(u)&&S.isPlainObject(d)?S.merge.call({caseless:g},u,d):S.isPlainObject(d)?S.merge({},d):S.isArray(d)?d.slice():d}function s(u,d,p,g){if(S.isUndefined(d)){if(!S.isUndefined(u))return r(void 0,u,p,g)}else return r(u,d,p,g)}function l(u,d){if(!S.isUndefined(d))return r(void 0,d)}function i(u,d){if(S.isUndefined(d)){if(!S.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,p){if(p in t)return r(u,d);if(p in e)return r(void 0,u)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,p)=>s(Jc(u),Jc(d),p,!0)};return S.forEach(Object.keys({...e,...t}),function(d){const p=c[d]||s,g=p(e[d],t[d],d);S.isUndefined(g)&&p!==a||(n[d]=g)}),n}const Gf=e=>{const t=In({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:i,auth:a}=t;if(t.headers=i=nt.from(i),t.url=zf(Bf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),S.isFormData(n)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(S.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{u.includes(d.toLowerCase())&&i.set(d,p)})}}if(Fe.hasStandardBrowserEnv&&(r&&S.isFunction(r)&&(r=r(t)),r||r!==!1&&ig(t.url))){const c=s&&l&&ag.read(l);c&&i.set(s,c)}return t},dg=typeof XMLHttpRequest<"u",fg=dg&&function(e){return new Promise(function(n,r){const s=Gf(e);let l=s.data;const i=nt.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,p,g,N,x;function C(){N&&N(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function h(){if(!v)return;const m=nt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),y={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:m,config:e,request:v};Uf(function(k){n(k),C()},function(k){r(k),C()},y),v=null}"onloadend"in v?v.onloadend=h:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(h)},v.onabort=function(){v&&(r(new Y("Request aborted",Y.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const y=j&&j.message?j.message:"Network Error",w=new Y(y,Y.ERR_NETWORK,e,v);w.event=j||null,r(w),v=null},v.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const y=s.transitional||Df;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),r(new Y(j,y.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,v)),v=null},l===void 0&&i.setContentType(null),"setRequestHeader"in v&&S.forEach(i.toJSON(),function(j,y){v.setRequestHeader(y,j)}),S.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),a&&a!=="json"&&(v.responseType=s.responseType),u&&([g,x]=_l(u,!0),v.addEventListener("progress",g)),c&&v.upload&&([p,N]=_l(c),v.upload.addEventListener("progress",p),v.upload.addEventListener("loadend",N)),(s.cancelToken||s.signal)&&(d=m=>{v&&(r(!m||m.type?new wr(null,e,v):m),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const f=sg(s.url);if(f&&Fe.protocols.indexOf(f)===-1){r(new Y("Unsupported protocol "+f+":",Y.ERR_BAD_REQUEST,e));return}v.send(l||null)})},mg=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const l=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Y?d:new wr(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,l(new Y(`timeout ${t} of ms exceeded`,Y.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:c}=r;return c.unsubscribe=()=>S.asap(a),c}},pg=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},hg=async function*(e,t){for await(const n of gg(e))yield*pg(n,t)},gg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Xc=(e,t,n,r)=>{const s=hg(e,t);let l=0,i,a=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let p=d.byteLength;if(n){let g=l+=p;n(g)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Yc=64*1024,{isFunction:Ds}=S,xg=(({Request:e,Response:t})=>({Request:e,Response:t}))(S.global),{ReadableStream:Zc,TextEncoder:eu}=S.global,tu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},yg=e=>{e=S.merge.call({skipUndefined:!0},xg,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ds(t):typeof fetch=="function",l=Ds(n),i=Ds(r);if(!s)return!1;const a=s&&Ds(Zc),c=s&&(typeof eu=="function"?(x=>C=>x.encode(C))(new eu):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=l&&a&&tu(()=>{let x=!1;const C=new n(Fe.origin,{body:new Zc,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!C}),d=i&&a&&tu(()=>S.isReadableStream(new r("").body)),p={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!p[x]&&(p[x]=(C,v)=>{let h=C&&C[x];if(h)return h.call(C);throw new Y(`Response type '${x}' is not supported`,Y.ERR_NOT_SUPPORT,v)})});const g=async x=>{if(x==null)return 0;if(S.isBlob(x))return x.size;if(S.isSpecCompliantForm(x))return(await new n(Fe.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(S.isArrayBufferView(x)||S.isArrayBuffer(x))return x.byteLength;if(S.isURLSearchParams(x)&&(x=x+""),S.isString(x))return(await c(x)).byteLength},N=async(x,C)=>{const v=S.toFiniteNumber(x.getContentLength());return v??g(C)};return async x=>{let{url:C,method:v,data:h,signal:f,cancelToken:m,timeout:j,onDownloadProgress:y,onUploadProgress:w,responseType:k,headers:b,withCredentials:A="same-origin",fetchOptions:I}=Gf(x),Q=t||fetch;k=k?(k+"").toLowerCase():"text";let Z=mg([f,m&&m.toAbortSignal()],j),$=null;const B=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let J;try{if(w&&u&&v!=="get"&&v!=="head"&&(J=await N(b,h))!==0){let F=new n(C,{method:"POST",body:h,duplex:"half"}),P;if(S.isFormData(h)&&(P=F.headers.get("content-type"))&&b.setContentType(P),F.body){const[K,ne]=Qc(J,_l(qc(w)));h=Xc(F.body,Yc,K,ne)}}S.isString(A)||(A=A?"include":"omit");const M=l&&"credentials"in n.prototype,W={...I,signal:Z,method:v.toUpperCase(),headers:b.normalize().toJSON(),body:h,duplex:"half",credentials:M?A:void 0};$=l&&new n(C,W);let E=await(l?Q($,I):Q(C,W));const L=d&&(k==="stream"||k==="response");if(d&&(y||L&&B)){const F={};["status","statusText","headers"].forEach(oe=>{F[oe]=E[oe]});const P=S.toFiniteNumber(E.headers.get("content-length")),[K,ne]=y&&Qc(P,_l(qc(y),!0))||[];E=new r(Xc(E.body,Yc,K,()=>{ne&&ne(),B&&B()}),F)}k=k||"text";let z=await p[S.findKey(p,k)||"text"](E,x);return!L&&B&&B(),await new Promise((F,P)=>{Uf(F,P,{data:z,headers:nt.from(E.headers),status:E.status,statusText:E.statusText,config:x,request:$})})}catch(M){throw B&&B(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,x,$),{cause:M.cause||M}):Y.from(M,M&&M.code,x,$)}}},vg=new Map,Hf=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,l=[r,s,n];let i=l.length,a=i,c,u,d=vg;for(;a--;)c=l[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:yg(t)),d=u;return u};Hf();const Ra={http:I0,xhr:fg,fetch:{get:Hf}};S.forEach(Ra,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nu=e=>`- ${e}`,wg=e=>S.isFunction(e)||e===null||e===!1;function Sg(e,t){e=S.isArray(e)?e:[e];const{length:n}=e;let r,s;const l={};for(let i=0;i<n;i++){r=e[i];let a;if(s=r,!wg(r)&&(s=Ra[(a=String(r)).toLowerCase()],s===void 0))throw new Y(`Unknown adapter '${a}'`);if(s&&(S.isFunction(s)||(s=s.get(t))))break;l[a||"#"+i]=s}if(!s){const i=Object.entries(l).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(nu).join(`
`):" "+nu(i[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Vf={getAdapter:Sg,adapters:Ra};function To(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wr(null,e)}function ru(e){return To(e),e.headers=nt.from(e.headers),e.data=_o.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Vf.getAdapter(e.adapter||xs.adapter,e)(e).then(function(r){return To(e),r.data=_o.call(e,e.transformResponse,r),r.headers=nt.from(r.headers),r},function(r){return Ff(r)||(To(e),r&&r.response&&(r.response.data=_o.call(e,e.transformResponse,r.response),r.response.headers=nt.from(r.response.headers))),Promise.reject(r)})}const Wf="1.13.2",Jl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const su={};Jl.transitional=function(t,n,r){function s(l,i){return"[Axios v"+Wf+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,a)=>{if(t===!1)throw new Y(s(i," has been removed"+(n?" in "+n:"")),Y.ERR_DEPRECATED);return n&&!su[i]&&(su[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,i,a):!0}};Jl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Ng(e,t,n){if(typeof e!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const l=r[s],i=t[l];if(i){const a=e[l],c=a===void 0||i(a,l,e);if(c!==!0)throw new Y("option "+l+" must be "+c,Y.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Y("Unknown option "+l,Y.ERR_BAD_OPTION)}}const sl={assertOptions:Ng,validators:Jl},_t=sl.validators;let Tn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Wc,response:new Wc}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=In(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:l}=n;r!==void 0&&sl.assertOptions(r,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),s!=null&&(S.isFunction(s)?n.paramsSerializer={serialize:s}:sl.assertOptions(s,{encode:_t.function,serialize:_t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),sl.assertOptions(n,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=l&&S.merge(l.common,l[n.method]);l&&S.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=nt.concat(i,l);const a=[];let c=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(c=c&&C.synchronous,a.unshift(C.fulfilled,C.rejected))});const u=[];this.interceptors.response.forEach(function(C){u.push(C.fulfilled,C.rejected)});let d,p=0,g;if(!c){const x=[ru.bind(this),void 0];for(x.unshift(...a),x.push(...u),g=x.length,d=Promise.resolve(n);p<g;)d=d.then(x[p++],x[p++]);return d}g=a.length;let N=n;for(;p<g;){const x=a[p++],C=a[p++];try{N=x(N)}catch(v){C.call(this,v);break}}try{d=ru.call(this,N)}catch(x){return Promise.reject(x)}for(p=0,g=u.length;p<g;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=In(this.defaults,t);const n=Bf(t.baseURL,t.url,t.allowAbsoluteUrls);return zf(n,t.params,t.paramsSerializer)}};S.forEach(["delete","get","head","options"],function(t){Tn.prototype[t]=function(n,r){return this.request(In(r||{},{method:t,url:n,data:(r||{}).data}))}});S.forEach(["post","put","patch"],function(t){function n(r){return function(l,i,a){return this.request(In(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Tn.prototype[t]=n(),Tn.prototype[t+"Form"]=n(!0)});let jg=class Kf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(s=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](s);r._listeners=null}),this.promise.then=s=>{let l;const i=new Promise(a=>{r.subscribe(a),l=a}).then(s);return i.cancel=function(){r.unsubscribe(l)},i},t(function(l,i,a){r.reason||(r.reason=new wr(l,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Kf(function(s){t=s}),cancel:t}}};function kg(e){return function(n){return e.apply(null,n)}}function Cg(e){return S.isObject(e)&&e.isAxiosError===!0}const Ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ri).forEach(([e,t])=>{Ri[t]=e});function Qf(e){const t=new Tn(e),n=Cf(Tn.prototype.request,t);return S.extend(n,Tn.prototype,t,{allOwnKeys:!0}),S.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Qf(In(e,s))},n}const ke=Qf(xs);ke.Axios=Tn;ke.CanceledError=wr;ke.CancelToken=jg;ke.isCancel=Ff;ke.VERSION=Wf;ke.toFormData=ql;ke.AxiosError=Y;ke.Cancel=ke.CanceledError;ke.all=function(t){return Promise.all(t)};ke.spread=kg;ke.isAxiosError=Cg;ke.mergeConfig=In;ke.AxiosHeaders=nt;ke.formToJSON=e=>Af(S.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=Vf.getAdapter;ke.HttpStatusCode=Ri;ke.default=ke;const{Axios:Ug,AxiosError:Bg,CanceledError:Gg,isCancel:Hg,CancelToken:Vg,VERSION:Wg,all:Kg,Cancel:Qg,isAxiosError:qg,spread:Jg,toFormData:Xg,AxiosHeaders:Yg,HttpStatusCode:Zg,formToJSON:ex,getAdapter:tx,mergeConfig:nx}=ke,It=ke.create({baseURL:"/api",timeout:2e5,headers:{"Content-Type":"application/json"}}),be={generateOutline:async e=>(await It.post("/blueprint/generate",e)).data,generateWorldSetting:async e=>(await It.post("/blueprint/generate-world-setting",e)).data,generateCharacters:async e=>(await It.post("/blueprint/generate-characters",e)).data,generateDetailedOutline:async e=>(await It.post("/blueprint/generate-detailed-outline",e)).data,generateMicroStories:async e=>(await It.post("/blueprint/generate-micro-stories",e)).data,generateChapter:async e=>(await It.post("/blueprint/generate-chapter",e)).data,prepareChapterStream:async e=>(await It.post("/blueprint/prepare-stream",e)).data,generateChapterStream:e=>new EventSource(`/api/blueprint/generate-chapter-stream?requestId=${e}`),cancelGeneration:async e=>{await It.post("/blueprint/cancel-generation",{requestId:e})},exportAsDocx:async e=>(await It.post("/blueprint/export-docx",e)).data},lu="story-architect-world-settings",ou=1,qf=R.createContext(void 0);function bg({children:e}){const[t,n]=R.useState([]),[r,s]=R.useState(null);R.useEffect(()=>{try{const y=localStorage.getItem(lu);if(y){const w=JSON.parse(y);console.log("localStorage",w.length,""),console.log(":",w.map(k=>({id:k.id,name:k.bookName,hasWorld:!!k.worldSetting,hasChar:!!k.characters,hasOutline:!!k.detailedOutline}))),n(w)}}catch(y){console.error("Failed to load world settings:",y)}},[]);const l=y=>{try{localStorage.setItem(lu,JSON.stringify(y)),console.log("localStorage:",y.length,"")}catch(w){console.error("Failed to save projects:",w)}},i=(y,w)=>{const k=JSON.stringify(y,null,2),b="data:application/json;charset=utf-8,"+encodeURIComponent(k),A=document.createElement("a");A.setAttribute("href",b),A.setAttribute("download",w),A.click()},a=y=>{try{return JSON.parse(y)}catch{return null}},c=y=>typeof y=="object"&&y!==null,u=y=>{if(!c(y))return null;const w=y.outline;if(!w||typeof w!="object")return null;const k=typeof y.id=="number"?y.id:Date.now(),b=typeof y.bookName=="string"?y.bookName:"";if(!b.trim())return null;const A=typeof y.createdAt=="string"?y.createdAt:new Date().toISOString(),I=typeof y.updatedAt=="string"?y.updatedAt:new Date().toISOString();return{...y,id:k,bookName:b.trim(),outline:w,createdAt:A,updatedAt:I}},d=(y,w)=>{if(!w.has(y.id))return y;const k=Date.now()+Math.floor(Math.random()*1e5);return{...y,id:k,bookName:`${y.bookName}`,updatedAt:new Date().toISOString()}},p=(y,w)=>{if(w)try{const k=`writer-state-${y}`;localStorage.setItem(k,JSON.stringify(w)),localStorage.setItem("writer-state-default",JSON.stringify(w))}catch(k){console.error("WriterlocalStorage:",k)}},g=(y,w,k)=>{const b={id:Date.now(),bookName:y,outline:w,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...k},A=[...t,b];return n(A),l(A),s(b),console.log(":",b.bookName),b},N=(y,w)=>{const k=t.map(b=>b.id===y?{...b,...w,updatedAt:new Date().toISOString()}:b);if(n(k),l(k),(r==null?void 0:r.id)===y){const b=k.find(A=>A.id===y);b&&s(b)}console.log(":",y,w)},x=y=>{const w=t.filter(k=>k.id!==y);n(w),l(w),(r==null?void 0:r.id)===y&&s(null),console.log(":",y)},C=y=>{try{const w=t.map(k=>k.id===y?{...k,generatedChapters:void 0,savedVersions:[],updatedAt:new Date().toISOString()}:k);if(n(w),l(w),(r==null?void 0:r.id)===y){const k=w.find(b=>b.id===y)||null;s(k)}localStorage.removeItem(`writer-state-${y}`),localStorage.removeItem("writer-state-default");for(const k of Object.keys(localStorage))k.startsWith("auto_gen_")&&localStorage.removeItem(k);console.log(":",y)}catch(w){console.error(":",w)}},v=()=>{try{const y=t.map(w=>({...w,generatedChapters:void 0,savedVersions:[],updatedAt:new Date().toISOString()}));if(n(y),l(y),r){const w=y.find(k=>k.id===r.id)||null;s(w)}for(const w of Object.keys(localStorage))w.startsWith("writer-state-")&&localStorage.removeItem(w);localStorage.removeItem("writer-state-default");for(const w of Object.keys(localStorage))w.startsWith("auto_gen_")&&localStorage.removeItem(w);console.log("")}catch(y){console.error(":",y)}},h=y=>{s(y),console.log(":",y.bookName)},f=y=>{const w=localStorage.getItem(`writer-state-${y.id}`),k=w?a(w):null,b={schemaVersion:ou,exportedAt:new Date().toISOString(),app:"story-architect",type:"project",project:y,localState:{writerState:k}},A=`${y.bookName.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_story_architect_project.json`;i(b,A),console.log(":",y.bookName)},m=()=>{const y={};for(const b of t){const A=localStorage.getItem(`writer-state-${b.id}`);y[String(b.id)]=A?a(A):null}const w={schemaVersion:ou,exportedAt:new Date().toISOString(),app:"story-architect",type:"projects",projects:t,localState:{writerStateByProjectId:y}},k=`story_architect_projects_${new Date().toISOString().split("T")[0]}.json`;i(w,k),console.log(":",t.length,"")},j=y=>{var B,J;const w=a(y);if(!w)return{imported:0,skipped:0};let k=[],b={};if(c(w)&&w.bookName&&w.outline&&!w.type){const M=u(w);M&&(k=[M])}if(k.length===0&&c(w)&&w.type==="project"&&w.project){const M=u(w.project);M&&(k=[M]);const W=((B=w.localState)==null?void 0:B.writerState)??null;M&&(b[String(M.id)]=W)}if(k.length===0&&Array.isArray(w)&&(k=w.map(u).filter(M=>!!M)),k.length===0&&c(w)&&w.type==="projects"&&Array.isArray(w.projects)){k=w.projects.map(u).filter(W=>!!W);const M=(J=w.localState)==null?void 0:J.writerStateByProjectId;M&&typeof M=="object"&&(b=M)}if(k.length===0)return{imported:0,skipped:0};const A=new Set(t.map(M=>M.id)),I=[];let Q=0;for(const M of k){const W=u(M);if(!W){Q+=1;continue}const E=d(W,A);A.add(E.id),I.push(E);const L=b[String(W.id)]??null;p(E.id,L)}const Z=[...t,...I];n(Z),l(Z);const $=I[0];return $?(s($),{imported:I.length,skipped:Q,currentProjectId:$.id}):{imported:I.length,skipped:Q}};return o.jsx(qf.Provider,{value:{projects:t,currentProject:r,createProject:g,updateProject:N,deleteProject:x,loadProject:h,exportProject:f,exportAllProjects:m,importFromJsonText:j,clearNovelCacheForProject:C,clearNovelCacheForAllProjects:v},children:e})}function Xl(){const e=R.useContext(qf);if(e===void 0)throw new Error("useWorldSettings must be used within a WorldSettingsProvider");return e}function As(e){return`### ${e.title}


${e.logline}


${e.characters}


${e.world}


${e.hook}


${e.themes}`}function Ro(e){return e.replace(/^#+\s*/gm,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/```[\s\S]*?```/g,"").replace(/`(.*?)`/g,"$1").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/^\s*>\s+/gm,"").replace(/\n{3,}/g,`

`).trim()}function Eg({onBack:e,onNavigateToStructure:t,selectedOutline:n,isAutoFlowRunning:r,setAutoFlowStep:s,setAutoFlowProgress:l}){const{currentProject:i,createProject:a,updateProject:c,deleteProject:u,loadProject:d,exportProject:p,exportAllProjects:g,importFromJsonText:N,projects:x,clearNovelCacheForProject:C,clearNovelCacheForAllProjects:v}=Xl();R.useEffect(()=>{console.log("WorldSettingPage - :",i?{id:i.id,name:i.bookName,hasWorld:!!i.worldSetting,hasChar:!!i.characters,hasOutline:!!i.detailedOutline}:"")},[i]);const[h,f]=R.useState(""),[m,j]=R.useState(""),[y,w]=R.useState(""),[k,b]=R.useState(!1),[A,I]=R.useState(!1),[Q,Z]=R.useState(!1),[$,B]=R.useState(!1),[J,M]=R.useState(!1),[W,E]=R.useState("world"),[L,z]=R.useState(!1),[F,P]=R.useState(null),[K,ne]=R.useState(""),[oe,ce]=R.useState(!1),[we,rt]=R.useState(!1);R.useEffect(()=>{n&&ne(`${n.title}`)},[n]),R.useEffect(()=>{i?(console.log(":",i.bookName),console.log(" - :",!!i.worldSetting,":",!!i.characters,":",!!i.detailedOutline),ne(i.bookName),f(i.worldSetting||""),j(i.characters||""),w(i.detailedOutline||""),B(!!i.worldSetting),M(!!i.characters),i.detailedOutline?E("outline"):i.characters?E("characters"):(i.worldSetting,E("world")),console.log("")):(console.log(""),f(""),j(""),w(""),B(!1),M(!1),E("world"),n&&ne(`${n.title}`))},[i]),R.useEffect(()=>{localStorage.getItem("story-architect-auto-flow")==="world-setting"&&n&&K.trim()&&(console.log(""),localStorage.removeItem("story-architect-auto-flow"),s&&s('""...'),l&&l(20),setTimeout(()=>{Fn()},1e3))},[n,K,s,l]),R.useEffect(()=>{!i&&n&&ne(`${n.title}`)},[n,i]);const dt=async()=>{if(!n){alert("");return}b(!0);try{const V=As(n),ue=await be.generateWorldSetting({outline:V});console.log(":",ue.data),f(ue.data),B(!0)}catch(V){console.error(":",V),alert("")}finally{b(!1)}},Pt=async()=>{if(!n){alert("");return}I(!0);try{const V=As(n),ue=await be.generateCharacters({outline:V,worldSetting:h});console.log(":",ue.data),j(ue.data),M(!0)}catch(V){console.error(":",V),alert("")}finally{I(!1)}},Qe=async()=>{if(!n){alert("");return}Z(!0);try{const V=As(n),ue=await be.generateDetailedOutline({outline:V,worldSetting:h,characters:m});console.log(":",ue.data),w(ue.data)}catch(V){console.error(":",V),alert("")}finally{Z(!1)}},st=()=>{if(!n){alert("");return}if(!K.trim()){alert("");return}if(!h||!m||!y){alert("");return}try{if(console.log(":",i?"":""),console.log(":",K.trim()),console.log(":",h.length),console.log(":",m.length),console.log(":",y.length),i)console.log("ID:",i.id),c(i.id,{bookName:K.trim(),worldSetting:h,characters:m,detailedOutline:y});else{console.log("");const V=a(K.trim(),n,{worldSetting:h,characters:m,detailedOutline:y});console.log("ID:",V.id)}rt(!0),setTimeout(()=>rt(!1),2e3)}catch(V){console.error(":",V),alert("")}},pn=V=>{d(V),ce(!1)},Et=V=>{confirm("")&&u(V)},ft=()=>{if(x.length===0){alert("");return}confirm(`


- 
- 
- Writer 
- auto_gen_* 


- //
- /

`)&&(v(),alert(""))},hn=(V,ue)=>{confirm(`${ue}


- 
- 
- Writer 

///

`)&&(C(V),alert(`${ue}`))},gn=async V=>{if(V)try{const ue=await V.text(),Be=N(ue);if(Be.imported===0){alert(" JSON ");return}const xn=Be.skipped>0?` ${Be.skipped} `:"";alert(` ${Be.imported} ${xn}

`)}catch(ue){console.error(":",ue),alert("")}},An=n&&K.trim()&&h&&m&&y,Fn=async()=>{if(!n){alert("");return}if(!K.trim()){alert("");return}z(!0),P({current:1,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(30);try{const V=As(n),ue=await be.generateWorldSetting({outline:V});console.log(""),f(ue.data),B(!0),P({current:2,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(50);const Be=await be.generateCharacters({outline:V,worldSetting:ue.data});console.log(""),j(Be.data),M(!0),P({current:3,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(70);const xn=await be.generateDetailedOutline({outline:V,worldSetting:ue.data,characters:Be.data});if(console.log(""),w(xn.data),P({current:4,total:4,message:"..."}),i)c(i.id,{bookName:K.trim(),worldSetting:ue.data,characters:Be.data,detailedOutline:xn.data});else{const ys=a(K.trim(),n,{worldSetting:ue.data,characters:Be.data,detailedOutline:xn.data});console.log("ID:",ys.id)}P({current:4,total:4,message:"..."}),r&&s&&s("..."),r&&l&&l(90),setTimeout(()=>{console.log(""),localStorage.setItem("story-architect-auto-flow","story-structure"),t()},1500)}catch(V){console.error(":",V),alert("")}finally{z(!1),P(null)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:e,className:"p-2 bg-secondary-100 hover:bg-secondary-200 rounded-lg transition-colors",children:o.jsx(ba,{className:"w-5 h-5 text-secondary-600"})}),o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(Pr,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:""})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-secondary-700",children:":"}),o.jsx("input",{type:"text",value:K,onChange:V=>ne(V.target.value),placeholder:"",className:"px-3 py-1 text-sm border border-secondary-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),o.jsx("button",{onClick:st,disabled:!An,className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${we?"bg-green-100 text-green-700 border border-green-200":An?"bg-primary-600 text-white hover:bg-primary-700":"bg-secondary-300 text-secondary-500 cursor-not-allowed"}`,children:we?o.jsxs(o.Fragment,{children:[o.jsx(tr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(bi,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})}),o.jsxs("button",{onClick:()=>ce(!0),className:"flex items-center space-x-2 px-3 py-1.5 bg-secondary-100 text-secondary-700 rounded-md text-sm font-medium hover:bg-secondary-200 transition-colors",children:[o.jsx(bo,{className:"w-4 h-4"}),o.jsxs("span",{children:[" (",x.length,")"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Powered by Gemini 3 Pro"})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[n&&K.trim()&&o.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-50 to-primary-50 border-2 border-purple-200",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:o.jsx(Ae,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:"++"})]})]}),o.jsx("button",{onClick:Fn,disabled:L,className:"w-full bg-gradient-to-r from-purple-600 to-primary-600 hover:from-purple-700 hover:to-primary-700 text-white py-4 px-6 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:L?o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),o.jsx("span",{children:"..."})]}):o.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[o.jsx(Ei,{className:"w-6 h-6"}),o.jsx("span",{children:""}),o.jsx(Ae,{className:"w-5 h-5"})]})}),F&&o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsxs("span",{className:"text-sm font-medium text-secondary-700",children:[F.current,"/",F.total]}),o.jsx("span",{className:"text-sm text-secondary-600",children:F.message})]}),o.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${F.current/F.total*100}%`}})})]}),o.jsx("div",{className:"text-xs text-secondary-500 mt-4",children:" AI"})]})}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(zs,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:dt,disabled:k,className:"w-full btn btn-primary py-3 disabled:opacity-50",children:k?"...":""}),o.jsx("p",{className:"text-xs text-secondary-600",children:""}),o.jsxs("div",{className:"text-xs text-secondary-500",children:[o.jsx(tr,{className:"w-3 h-3 inline mr-1"}),"200"]})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Ei,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:"AI"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:Pt,disabled:A||!$,className:`w-full py-3 disabled:opacity-50 ${$?"btn btn-primary":"btn btn-secondary cursor-not-allowed bg-secondary-300 hover:bg-secondary-300"}`,children:A?"...":""}),o.jsx("p",{className:"text-xs text-secondary-600",children:"20-30"}),o.jsxs("div",{className:"text-xs text-secondary-500",children:[o.jsx(tr,{className:"w-3 h-3 inline mr-1"}),"200"]})]})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Je,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:Qe,disabled:Q||!J,className:`w-full py-3 disabled:opacity-50 ${J?"btn btn-primary":"btn btn-secondary cursor-not-allowed bg-secondary-300 hover:bg-secondary-300"}`,children:Q?"...":""}),o.jsx("p",{className:"text-xs text-secondary-600",children:"AI25-30"}),o.jsxs("div",{className:"text-xs text-secondary-500",children:[o.jsx(tr,{className:"w-3 h-3 inline mr-1"}),""]})]})]}),y&&o.jsxs("button",{onClick:t,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-4 px-6 rounded-xl flex items-center justify-center space-x-3 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold text-lg",children:[o.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:o.jsx(Mt,{className:"w-6 h-6"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold",children:""}),o.jsx("div",{className:"text-sm opacity-90",children:""})]})]})]}),o.jsxs("div",{className:"lg:col-span-8",children:[(h||m||y)&&o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-center justify-center bg-white/80 backdrop-blur-sm rounded-lg p-1 border border-secondary-200",children:[o.jsxs("button",{onClick:()=>E("world"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${W==="world"?"bg-primary-500 text-white shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,children:[o.jsx(zs,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>E("characters"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${W==="characters"?"bg-primary-500 text-white shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,disabled:!m,children:[o.jsx(Pr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>E("outline"),className:`flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${W==="outline"?"bg-primary-500 text-white shadow-sm":"text-secondary-600 hover:text-secondary-900"}`,disabled:!y,children:[o.jsx(Mt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})}),o.jsxs("div",{className:"min-h-[600px]",children:[W==="world"&&o.jsx("div",{className:"card p-6 h-full",children:h?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(zs,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:Ro(h)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(zs,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]})}),W==="characters"&&o.jsx("div",{className:"card p-6 h-full",children:m?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Pr,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:Ro(m)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pr,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]})}),W==="outline"&&o.jsx("div",{className:"card p-6 h-full",children:y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Mt,{className:"w-5 h-5 text-primary-600"}),o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:Ro(y)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Mt,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]})}),!m&&!y&&o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Ae,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:""})]})]})]})]})}),oe&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(bo,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:""}),o.jsxs("p",{className:"text-primary-100 text-sm",children:[" ",x.length," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("label",{className:"flex items-center space-x-2 px-3 py-1.5 bg-primary-500 hover:bg-primary-400 rounded-lg text-sm font-medium transition-colors cursor-pointer",title:"JSON",children:[o.jsx("span",{children:""}),o.jsx("input",{type:"file",accept:"application/json,.json",className:"hidden",onChange:V=>{var Be;const ue=((Be=V.target.files)==null?void 0:Be[0])||null;V.target.value="",gn(ue)}})]}),x.length>0&&o.jsxs("button",{onClick:g,className:"flex items-center space-x-2 px-3 py-1.5 bg-primary-500 hover:bg-primary-400 rounded-lg text-sm font-medium transition-colors",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),x.length>0&&o.jsxs("button",{onClick:ft,className:"flex items-center space-x-2 px-3 py-1.5 bg-red-500/90 hover:bg-red-500 rounded-lg text-sm font-medium transition-colors",title:"//Writer",children:[o.jsx(tl,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:()=>ce(!1),className:"w-8 h-8 flex items-center justify-center bg-primary-500 hover:bg-primary-400 rounded-lg transition-colors",children:""})]})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:x.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(bo,{className:"w-16 h-16 text-secondary-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:'""'})]}):o.jsx("div",{className:"space-y-4",children:x.map(V=>o.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${(i==null?void 0:i.id)===V.id?"border-primary-300 bg-primary-50":"border-secondary-200"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-secondary-900 mb-1",children:V.bookName}),o.jsxs("p",{className:"text-sm text-secondary-600 mb-2",children:[": ",V.outline.title]}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-secondary-500",children:[o.jsxs("span",{className:`flex items-center space-x-1 ${V.worldSetting?"text-green-600":"text-red-500"}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${V.worldSetting?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{children:""})]}),o.jsxs("span",{className:`flex items-center space-x-1 ${V.characters?"text-green-600":"text-red-500"}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${V.characters?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{children:""})]}),o.jsxs("span",{className:`flex items-center space-x-1 ${V.detailedOutline?"text-green-600":"text-red-500"}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${V.detailedOutline?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>pn(V),className:"flex items-center space-x-1 px-3 py-1.5 bg-primary-600 text-white rounded-md text-sm hover:bg-primary-700 transition-colors",children:[o.jsx(Mt,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>p(V),className:"flex items-center space-x-1 px-3 py-1.5 bg-secondary-100 text-secondary-700 rounded-md text-sm hover:bg-secondary-200 transition-colors",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>hn(V.id,V.bookName),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-md text-sm hover:bg-red-100 transition-colors",title:"//Writer",children:[o.jsx(tl,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>Et(V.id),className:"flex items-center space-x-1 px-3 py-1.5 bg-red-50 text-red-600 rounded-md text-sm hover:bg-red-100 transition-colors",children:[o.jsx(tl,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-500",children:[o.jsx("div",{className:"flex items-center space-x-1",children:o.jsxs("span",{children:[": ",new Date(V.createdAt).toLocaleDateString("zh-CN")]})}),o.jsxs("span",{children:[" #",V.id]})]})]},V.id))})})]})})]})}function Fs(e){return e.replace(/```[\s\S]*?```/g,"").replace(/`([^`]*)`/g,"$1").replace(/\*\*([^*]*)\*\*/g,"$1").replace(/\*([^*]*)\*/g,"$1").replace(/^\s*#+\s*/gm,"").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/^\s*>\s+/gm,"").replace(/|||||||||||||||||||||||||||||||||||||||/g,"").replace(/\n{3,}/g,`

`).trim()}function Bn(e){return(e.split(`
`).filter(l=>!l.match(/^\d+\s*\[/)).join(`
`).match(/[\u4e00-\u9fa5]/g)||[]).length}function Us(e){const t=Math.floor((e-1)/2)*2+1,n=t+1;return`${t}${n}`}function Og({onBack:e,setIsAutoFlowRunning:t,setAutoFlowStep:n,setAutoFlowProgress:r}){var ys,Ma;const{currentProject:s,updateProject:l,clearNovelCacheForProject:i}=Xl(),[a]=R.useState(!1),[c,u]=R.useState(""),[d,p]=R.useState(1),[g,N]=R.useState(0),[x,C]=R.useState(""),[v,h]=R.useState({}),[f,m]=R.useState(!1),[j,y]=R.useState(!1),[w,k]=R.useState(""),[b,A]=R.useState(null),[I,Q]=R.useState({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),[Z,$]=R.useState(null),[B,J]=R.useState(!1),[M,W]=R.useState(d.toString()),[E,L]=R.useState(!1),[z,F]=R.useState(null),[P,K]=R.useState(!1),ne=()=>{if(!(s!=null&&s.savedMicroStories))return 1;const _=s.savedMicroStories.length*2;for(let O=1;O<=_;O++)if(!v[O])return O;return 1},oe=s!=null&&s.id?`writer-state-${s.id}`:"writer-state-default";R.useEffect(()=>{localStorage.getItem("story-architect-auto-flow")==="writer"&&(s!=null&&s.savedMicroStories)&&s.savedMicroStories.length>0&&(console.log(""),localStorage.removeItem("story-architect-auto-flow"),n&&n('""...'),r&&r(100),setTimeout(()=>{hn()},1e3))},[s==null?void 0:s.savedMicroStories,n,r]),R.useEffect(()=>{var D;const _=Object.keys(v).length>0;if((s==null?void 0:s.autoSelectedStories)&&!(s!=null&&s.autoGenerationStarted)&&!_&&!I.isGenerating&&(s==null?void 0:s.selectedMicroStories)&&s.selectedMicroStories.length>0&&(console.log("..."),console.log(` ${((D=s.selectedMicroStories)==null?void 0:D.length)||0} `),setTimeout(()=>{!I.isGenerating&&!_&&(s!=null&&s.selectedMicroStories)&&s.selectedMicroStories.length>0&&(console.log("8..."),Et())},1e3)),(()=>{try{s!=null&&s.generatedChapters&&(h(s.generatedChapters),console.log(":",Object.keys(s.generatedChapters).length,""));const H=localStorage.getItem(oe);if(H){const q=JSON.parse(H);u(q.generatedContent||"");const X=q.currentChapter||1;p(X),W(X.toString()),C(q.previousChapterEnding||"");const re={...s==null?void 0:s.generatedChapters,...q.generatedChapters};h(re),Q(q.generationState||{isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log("localStorageWriter")}else if(s!=null&&s.generatedChapters&&Object.keys(s.generatedChapters).length>0){const q=Math.min(...Object.keys(s.generatedChapters).map(Number));p(q),W(q.toString()),u(s.generatedChapters[q])}}catch(H){console.error("Writer:",H)}})(),!(s!=null&&s.id)){const H="writer-state-default";try{const q=localStorage.getItem(H);if(q){const X=JSON.parse(q);u(X.generatedContent||""),p(X.currentChapter||1),C(X.previousChapterEnding||""),h(X.generatedChapters||{}),Q(X.generationState||{isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log("keyWriter")}}catch(q){console.error("keyWriter:",q)}}},[]);const ce=()=>{try{const _={generatedContent:c,currentChapter:d,previousChapterEnding:x,generatedChapters:v,generationState:I,timestamp:Date.now()};s!=null&&s.id&&localStorage.setItem(oe,JSON.stringify(_)),localStorage.setItem("writer-state-default",JSON.stringify(_)),console.log("WriterlocalStorage")}catch(_){console.error("Writer:",_)}};R.useEffect(()=>{const _=setInterval(ce,3e4);return()=>clearInterval(_)},[c,d,x,v,I]),R.useEffect(()=>()=>{ce()},[]),R.useEffect(()=>{v[d]&&u(v[d])},[d,v]);const we=()=>{var U;if(!s||Object.keys(v).length===0){alert("");return}const _={id:`save_${Date.now()}`,timestamp:new Date().toISOString(),chapterCount:Object.keys(v).length,totalWords:Object.values(v).reduce((D,H)=>D+Bn(H),0),chapters:{...v},preview:((U=Object.values(v)[0])==null?void 0:U.substring(0,200))+"..."||""},O=s.savedVersions||[];l(s.id,{generatedChapters:{...v},savedVersions:[_,...O].slice(0,10)}),console.log(":",v),alert("")},rt=_=>{if(!(s!=null&&s.savedVersions))return;const O=s.savedVersions.find(U=>U.id===_);O&&(h(O.chapters),p(Math.min(...Object.keys(O.chapters).map(Number))),u(O.chapters[Math.min(...Object.keys(O.chapters).map(Number))]),J(!1),alert(` ${new Date(O.timestamp).toLocaleString()} `))},dt=()=>{const _=parseInt(M);if(isNaN(_)||_<1){alert("");return}const O=Object.keys(v).map(Number);console.log(":",O),console.log(":",_),console.log("generatedChapters:",v),O.includes(_)?(p(_),u(v[_]||""),W(_.toString())):alert(`${_}: ${O.join(", ")}`)},Pt=()=>{if(Object.keys(v).length===0){alert("");return}const _=Object.keys(v).map(Number).sort((X,re)=>X-re).map(X=>v[X]).join(`

`),O=(s==null?void 0:s.bookName)||"",U=`${O}

${_}`,D=new Blob([U],{type:"text/plain;charset=utf-8"}),H=URL.createObjectURL(D),q=document.createElement("a");q.href=H,q.download=`${O.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}.txt`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(H),console.log("")},Qe=async()=>{if(Object.keys(v).length===0){alert("");return}try{const _=(s==null?void 0:s.bookName)||"",O=await be.exportAsDocx({chapters:v,bookName:_});if(O.success){const U=new Blob([O.data],{type:"text/plain;charset=utf-8"}),D=URL.createObjectURL(U),H=document.createElement("a");H.href=D,H.download=O.filename,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(D),console.log("DOCX")}else alert("")}catch(_){console.error("DOCX:",_),alert("")}},st=async()=>{if(!(!I.isGenerating||!confirm(""))){try{Z&&(Z.close(),$(null),console.log("SSE")),await be.cancelGeneration(w),console.log("")}catch(O){console.error(":",O)}if(Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),u(""),Object.keys(v).length>0){const O=Math.min(...Object.keys(v).map(Number));p(O),u(v[O])}ce(),alert("")}},pn=()=>{confirm("")&&(s!=null&&s.id&&i(s.id),u(""),p(1),C(""),h({}),k(""),Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),localStorage.removeItem(oe),localStorage.removeItem("writer-state-default"),alert(""))};R.useEffect(()=>{if(s!=null&&s.savedMicroStories){const _=s.savedMicroStories.length,O=Math.floor(_*2);N(O),p(1)}},[s]);const Et=async(_,O)=>{if(!s){alert("");return}const U=s.selectedMicroStories||s.savedMicroStories;if(!U||U.length<4){alert("4");return}m(!0);try{const D=V();console.log(":",D.length);const q=Object.keys(v).length>0?Math.max(...Object.keys(v).map(Number))+1:1;console.log("8..."),Q({isGenerating:!0,currentGeneratingChapter:q,totalChapters:8,completedChapters:[]});const re=(await be.prepareChapterStream({context:D,chapterNumber:q,previousEnding:x||void 0,savedMicroStories:U,generatedChapters:q>=9?v:void 0})).requestId;k(re),console.log("requestId:",re);const le=be.generateChapterStream(re);$(le);let Oe={};le.onmessage=Ce=>{try{const te=JSON.parse(Ce.data);switch(console.log("SSE:",te.type,te.chapter||""),te.type){case"start":console.log(te.message),Q(he=>({...he,isGenerating:!0,totalChapters:8}));break;case"story_start":console.log(te.message),Q(he=>({...he,currentGeneratingChapter:te.chapters[0]})),p(te.chapters[0]),u("");break;case"story_chunk":if(te.content){const he=Fs(te.content);u(he),console.log(`${te.storyIndex}: ${he.length}`)}break;case"chapter_complete":if(te.content){const he=Fs(te.content);Oe[te.chapter]=he,h(Ge=>({...Ge,[te.chapter]:he})),Q(Ge=>({...Ge,completedChapters:[...Ge.completedChapters,te.chapter],currentGeneratingChapter:te.chapter+1<=Ge.totalChapters?te.chapter+1:null})),te.chapter===d&&u(he),console.log(`${te.chapter}: ${Bn(he)}`)}break;case"story_complete":console.log(`${te.storyIndex}`);break;case"cancelled":console.log(te.message),Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),le.close(),$(null),m(!1),alert("");break;case"story_error":console.error(te.error);break;case"complete":console.log(te.message);try{const he=Object.keys(Oe).map(Number).sort((de,Se)=>de-Se);if(he.length>0){const de=Math.max(...he),Se=Oe[de];if(Se){const vn=Se.split(`
`).slice(-10).join(`
`);C(vn)}}h(de=>({...de,...Oe}));const Ge=Object.keys(v).length+Object.keys(Oe).length;Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log(`${Ge}`),Ge>=8?alert('8"9~16"'):alert(`${Ge}`),le.close(),$(null),m(!1)}catch(he){console.error(":",he),Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),m(!1),alert("")}break}}catch(te){console.error("SSE:",te)}},le.onerror=Ce=>{console.error("SSE:",Ce),alert(""),le.close(),$(null),m(!1)}}catch(D){console.error(":",D),alert(""),m(!1)}},ft=async(_,O=!1)=>{if(!s){alert("");return}const U=s.savedMicroStories;if(!U||U.length===0){alert("");return}const D=U.length*2;if(_<1||_>D){alert(`1-${D}`);return}if(O&&Object.keys(v).length>0&&Object.keys(v).some(le=>parseInt(le)>=_)&&!confirm(` 

${_}

${_}

`))return;const H=D-_+1;if(H<=0){alert("");return}const q=Math.ceil(H/8),X=O?"":"";console.log(`${_}${X} ${H}  ${q} `),y(!0),A({current:0,total:H,currentBatch:1,totalBatches:q,message:`${_}${X}...`});try{let re=_-1,le=1,Oe={...v};for(O&&(Object.keys(Oe).forEach(Ce=>{parseInt(Ce)>=_&&delete Oe[parseInt(Ce)]}),console.log(`${_}`));le<=q;){const Ce=re+1,te=Math.min(Ce+7,D),he=te-Ce+1;A({current:re-(_-1),total:H,currentBatch:le,totalBatches:q,message:`${X}${le} ( ${Ce}-${te})...`}),console.log(`${le} ${Ce}-${te}`),Oe={...await gn(Ce,he,Oe)},re+=he,le++}A({current:H,total:H,currentBatch:q,totalBatches:q,message:`${X}`}),setTimeout(()=>{alert(`${_}${X} ${H} `),y(!1),A(null),L(!1)},1e3)}catch(re){console.error(":",re),alert(""),y(!1),A(null)}},hn=async()=>{if(!s){alert("");return}const _=s.savedMicroStories;if(!_||_.length===0){alert("");return}const O=_.length*2,U=Math.ceil(O/8);console.log(` ${_.length} ${O}  ${U} `),y(!0),A({current:0,total:O,currentBatch:1,totalBatches:U,message:"..."});try{let D=0,H=1,q={...v};for(;H<=U;){const X=D+1,re=Math.min(X+7,O);A({current:D,total:O,currentBatch:H,totalBatches:U,message:`${H} ( ${X}-${re})...`}),console.log(`${H} ${X}-${re}`);const le=re-X+1;q={...await gn(X,le,q)};const Ce=re-X+1;D+=Ce,console.log(`${H} ${D}/${O} `),H++}A({current:O,total:O,currentBatch:U,totalBatches:U,message:""}),setTimeout(()=>{alert(` ${O} `),y(!1),A(null),t&&t(!1),n&&n("")},1e3)}catch(D){console.error(":",D),alert(""),y(!1),A(null)}},gn=async(_,O,U)=>new Promise(async(D,H)=>{try{if(!s){H(new Error(""));return}const q=s.selectedMicroStories||s.savedMicroStories;if(!q||q.length<4){H(new Error("4"));return}console.log(`${O||8}`),m(!0);try{const X=_||1,re=O||8,le=V(X);console.log(":",le.length),console.log(`${re}...`),Q({isGenerating:!0,currentGeneratingChapter:X,totalChapters:re,completedChapters:[]});const Ce=(await be.prepareChapterStream({context:le,chapterNumber:X,previousEnding:x||void 0,savedMicroStories:q,generatedChapters:void 0})).requestId;k(Ce),console.log("requestId:",Ce);const te=be.generateChapterStream(Ce);$(te);let he={};te.onmessage=Ge=>{try{const de=JSON.parse(Ge.data);switch(console.log("SSE:",de.type,de.chapter||""),de.type){case"start":console.log(""),Q(Se=>({...Se,isGenerating:!0,totalChapters:8}));break;case"story_start":console.log(""),Q(Se=>({...Se,currentGeneratingChapter:de.chapters[0]})),p(de.chapters[0]),u("");break;case"story_chunk":if(de.content){const Se=Fs(de.content);u(Se),console.log(`: ${Se.length}`)}break;case"chapter_complete":if(de.content){const Se=Fs(de.content);he[de.chapter]=Se,h(yn=>({...yn,[de.chapter]:Se})),Q(yn=>({...yn,completedChapters:[...yn.completedChapters,de.chapter],currentGeneratingChapter:de.chapter+1<=yn.totalChapters?de.chapter+1:null})),de.chapter===d&&u(Se),console.log(`${de.chapter}: ${Bn(Se)}`)}break;case"story_complete":console.log("");break;case"cancelled":console.log(""),Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),te.close(),$(null),m(!1),H(new Error(""));break;case"story_error":console.error(":",de.error);break;case"complete":console.log("");try{const Se=Object.keys(he).map(Number).sort((Yl,vs)=>Yl-vs);if(Se.length>0){const Yl=Math.max(...Se),vs=he[Yl];if(vs){const Xf=vs.split(`
`).slice(-10).join(`
`);C(Xf)}}const vn={...U||v,...he};h(vn);const Jf=Object.keys(vn).length;Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),console.log(`${Jf}`),console.log(""),An(vn),console.log("TXT"),Fn(vn),console.log(""),te.close(),$(null),m(!1),D(vn)}catch(Se){console.error(":",Se),Q({isGenerating:!1,currentGeneratingChapter:null,totalChapters:0,completedChapters:[]}),m(!1),H(Se)}break}}catch(de){console.error("SSE:",de),H(de)}},te.onerror=Ge=>{console.error("SSE:",Ge),m(!1),H(Ge)}}catch(X){console.error(":",X),m(!1),H(X)}}catch(q){H(q)}}),An=async _=>new Promise(O=>{var U;try{const D=_||v;if(Object.keys(D).length===0){console.log(""),O();return}const H={id:`auto_save_${Date.now()}`,timestamp:new Date().toISOString(),chapterCount:Object.keys(D).length,totalWords:Object.values(D).reduce((X,re)=>X+Bn(re),0),chapters:{...D},preview:((U=Object.values(D)[0])==null?void 0:U.substring(0,200))+"..."||""},q=(s==null?void 0:s.savedVersions)||[];s&&l(s.id,{generatedChapters:{...D},savedVersions:[H,...q].slice(0,10)}),console.log(""),O()}catch(D){console.error(":",D),O()}}),Fn=async _=>new Promise(O=>{try{const U=_||v;if(Object.keys(U).length===0){console.log(""),O();return}const D=Object.keys(U).map(Number).sort((Oe,Ce)=>Oe-Ce).map(Oe=>U[Oe]).join(`

`),H=(s==null?void 0:s.bookName)||"",q=`${H}

${D}`,X=new Blob([q],{type:"text/plain;charset=utf-8"}),re=URL.createObjectURL(X),le=document.createElement("a");le.href=re,le.download=`${H.replace(/[^a-zA-Z0-9\u4e00-\u9fa5]/g,"_")}.txt`,document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(re),console.log("TXT"),O()}catch(U){console.error(":",U),O()}}),V=_=>{if(!s)return"";let O=`=== ${s.bookName} -  ===

`;if(s.outline&&(O+=`
`,O+=`${s.bookName}
`,O+=`${s.outline.logline}
`,O+=`${s.outline.characters}
`,O+=`${s.outline.world}
`,O+=`${s.outline.hook}
`,O+=`${s.outline.themes}

`),s.worldSetting){O+=`
`;const U=s.worldSetting.substring(0,1e3);O+=U+(s.worldSetting.length>1e3?"...":"")+`

`}if(s.characters){O+=`
`;const U=s.characters.substring(0,800);O+=U+(s.characters.length>800?"...":"")+`

`}if(s.detailedOutline){O+=`
`;const U=s.detailedOutline.substring(0,600);O+=U+(s.detailedOutline.length>600?"...":"")+`

`}if(s.savedMicroStories&&s.savedMicroStories.length>0){const H=Math.floor(((_||1)-1)/8)*4,q=s.savedMicroStories.slice(H,H+4);q.length>0&&(O+=`
`,q.forEach((X,re)=>{const le=H+re,Oe=le*2;O+=`${le+1}${Oe+1}-${Oe+2}
`,O+=`${X.title}
`,O+=`${X.content}

`}))}if(s.savedMicroStories&&s.savedMicroStories.length>0){const U=Math.floor((d-1)/2),D=s.savedMicroStories[U];D&&(O+=`
`,O+=`${d}${d+1}
`,O+=`${D.title}
`,O+=`${D.content}
`,O+=`${D.macroStoryTitle}

`,O+=`

`)}return O},ue=_=>{const O=Object.keys(v).map(Number).sort((U,D)=>U-D);if(_==="prev"){const D=Math.floor((d-1)/2)*2+1-2;D>=1&&(p(D),u(v[D]||""),W(D.toString()))}else if(_==="next"){const D=Math.floor((d-1)/2)*2+1+2;O.includes(D)&&(p(D),u(v[D]||""),W(D.toString()),I.currentGeneratingChapter)}},Be=()=>{alert("...")},xn=()=>{const _=`${d}

${c}`,O=new Blob([_],{type:"text/plain;charset=utf-8"}),U=URL.createObjectURL(O),D=document.createElement("a");D.href=U,D.download=`chapter_${d}.txt`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(U)};return s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"w-full px-6 py-3",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[o.jsx("button",{onClick:e,disabled:I.isGenerating,className:`p-2 rounded-lg transition-colors ${I.isGenerating?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-secondary-100 hover:bg-secondary-200 text-secondary-600"}`,title:I.isGenerating?"":"",children:o.jsx(ba,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-1.5 bg-blue-100 rounded-lg",children:o.jsx(Lr,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{className:"hidden sm:block",children:[o.jsx("h1",{className:"text-base font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-xs text-secondary-600",children:""})]}),o.jsx("div",{className:"sm:hidden",children:o.jsx("h1",{className:"text-sm font-bold text-secondary-900",children:""})})]})]}),o.jsxs("div",{className:"flex items-center space-x-6 flex-1 justify-center min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-white/70 rounded-lg border border-secondary-200",children:[o.jsx(Je,{className:"w-4 h-4 text-primary-600"}),o.jsx("div",{className:"text-sm font-medium text-secondary-800",children:I.isGenerating?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:Us(I.currentGeneratingChapter||1)}),o.jsxs("span",{className:"ml-2 text-orange-600 font-bold",children:[c?Bn(c):0,""]}),o.jsxs("div",{className:"flex items-center ml-2",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),o.jsx("span",{className:"ml-1 text-xs text-orange-600 font-medium",children:""})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:Us(d)}),c&&o.jsxs("span",{className:"ml-2 text-blue-600 font-bold",children:[Bn(c),""]})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsxs("span",{className:"text-xs font-medium text-blue-700",children:[Object.keys(v).length," "]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 rounded-xl px-4 py-2 border border-secondary-200 shadow-sm",children:[o.jsx("button",{onClick:()=>ue("prev"),disabled:Object.keys(v).length===0||Math.floor((d-1)/2)*2+1-2<1,className:"flex items-center justify-center w-8 h-8 bg-secondary-100 hover:bg-secondary-200 disabled:bg-gray-100 disabled:text-gray-400 rounded-lg transition-all duration-200 disabled:cursor-not-allowed hover:shadow-sm",title:"",children:o.jsx(wf,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-secondary-50 rounded-lg",children:[o.jsx("span",{className:"text-xs font-medium text-secondary-600",children:""}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"text-xs text-secondary-500",children:""}),o.jsx("input",{type:"number",min:"1",value:M,onChange:_=>W(_.target.value),onKeyPress:_=>_.key==="Enter"&&dt(),placeholder:"7",className:"w-12 px-2 py-1 text-sm border border-secondary-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-center"}),o.jsx("span",{className:"text-xs text-secondary-500",children:""})]}),o.jsx("button",{onClick:dt,className:"px-3 py-1 bg-primary-500 hover:bg-primary-600 text-white text-xs font-medium rounded-lg transition-colors hover:shadow-sm",children:""})]}),o.jsx("button",{onClick:()=>ue("next"),disabled:Object.keys(v).length===0||(()=>{const _=Object.keys(v).map(Number).sort((D,H)=>D-H),U=Math.floor((d-1)/2)*2+1+2;return!_.includes(U)})(),className:"flex items-center justify-center w-8 h-8 bg-secondary-100 hover:bg-secondary-200 disabled:bg-gray-100 disabled:text-gray-400 rounded-lg transition-all duration-200 disabled:cursor-not-allowed hover:shadow-sm",title:"",children:o.jsx(Ea,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col space-y-2",children:[I.isGenerating&&o.jsxs("button",{onClick:st,className:"flex items-center space-x-2 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-sm",children:[o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]}),!I.isGenerating&&Object.keys(v).length>0&&o.jsxs("button",{onClick:pn,className:"flex items-center space-x-2 px-3 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors text-sm",children:[o.jsx("span",{className:"hidden sm:inline",children:""}),o.jsx("span",{className:"sm:hidden",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[o.jsxs("button",{onClick:we,disabled:Object.keys(v).length===0,className:"flex items-center space-x-2 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(bi,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:""})]}),o.jsxs("button",{onClick:()=>J(!0),disabled:!(s!=null&&s.savedVersions)||s.savedVersions.length===0,className:"flex items-center space-x-2 px-3 py-2 bg-indigo-500 hover:bg-indigo-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(Sf,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:""})]}),o.jsxs("button",{onClick:Pt,disabled:Object.keys(v).length===0,className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"TXT"})]}),o.jsxs("button",{onClick:Qe,disabled:Object.keys(v).length===0,className:"flex items-center space-x-2 px-3 py-2 bg-purple-500 hover:bg-purple-600 disabled:bg-gray-300 disabled:text-gray-500 text-white rounded-lg transition-colors text-sm",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"DOCX"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-xs hidden lg:inline",children:"AI "})]})]})]})})}),o.jsx("div",{className:"w-full px-6 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[o.jsx("div",{className:"lg:col-span-3 space-y-6",children:o.jsxs("div",{className:"card p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 mb-4 flex items-center",children:[o.jsx(Je,{className:"w-5 h-5 mr-2 text-primary-600"}),""]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:""}),o.jsx("div",{className:"text-2xl font-bold text-primary-600",children:Us(d)}),o.jsxs("div",{className:"text-sm text-secondary-500 mt-1",children:[": ",Object.keys(v).length," ",I.isGenerating&&o.jsxs("span",{className:"ml-2 text-orange-600",children:["(",I.currentGeneratingChapter,"...)"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[Object.keys(v).length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),o.jsx("span",{className:"text-sm font-medium text-amber-800",children:""})]}),o.jsxs("p",{className:"text-sm text-amber-700 mb-3",children:[" ",Object.keys(v).length," "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>{const _=ne();F(_),K(!1),L(!0)},className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg font-medium transition-all duration-200 text-sm",children:[o.jsx(Lr,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:()=>{F(1),K(!0),L(!0)},className:"flex items-center justify-center space-x-2 px-3 py-2 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white rounded-lg font-medium transition-all duration-200 text-sm",children:[o.jsx(Cn,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]}),o.jsx("div",{className:"text-center text-sm text-secondary-500",children:""})]}):null,o.jsx("button",{onClick:()=>Et(),disabled:f||a||j||(()=>{var D;const _=Object.keys(v).length,U=(Math.floor(_/8)+1)*4;return(((D=s==null?void 0:s.savedMicroStories)==null?void 0:D.length)||0)<U})(),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg font-semibold transition-all duration-200 disabled:cursor-not-allowed",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Cn,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Lr,{className:"w-6 h-6"}),o.jsx("span",{children:(()=>{const _=Object.keys(v).length;return _===0?"8":_%8!==0?` (${_%8}/8)`:""})()})]})}),o.jsx("div",{className:"text-center text-sm text-secondary-500",children:""}),o.jsx("button",{onClick:hn,disabled:a||f||j||!((ys=s==null?void 0:s.savedMicroStories)!=null&&ys.length),className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg font-semibold transition-all duration-200 disabled:cursor-not-allowed",children:j?o.jsxs(o.Fragment,{children:[o.jsx(Cn,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-6 h-6"}),o.jsx("span",{children:(Ma=s==null?void 0:s.savedMicroStories)!=null&&Ma.length?` (${s.savedMicroStories.length}  ${s.savedMicroStories.length*2})`:""})]})}),b&&o.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsxs("span",{className:"text-sm font-medium text-green-700",children:[b.currentBatch,"/",b.totalBatches," "]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[b.current,"/",b.total," "]}),b.currentChapter&&o.jsxs("div",{className:"flex items-center space-x-2 px-2 py-1 bg-green-100 rounded-md",children:[o.jsxs("span",{className:"text-xs font-medium text-green-800",children:["",b.currentChapter,""]}),b.currentChapterWords!==void 0&&o.jsxs("span",{className:"text-xs text-green-600",children:["(",b.currentChapterWords,")"]}),o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})]}),o.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mb-2",children:o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-300",style:{width:`${b.current/b.total*100}%`}})}),o.jsx("div",{className:"text-sm text-green-700 text-center",children:b.message}),o.jsxs("div",{className:"mt-2 text-xs text-green-600 text-center",children:["8   ",b.totalBatches," "]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:Be,disabled:!c,className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 text-white text-sm rounded font-medium disabled:cursor-not-allowed",children:[o.jsx(bi,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("button",{onClick:xn,disabled:!c,className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white text-sm rounded font-medium disabled:cursor-not-allowed",children:[o.jsx(_n,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})]})]})]})}),o.jsx("div",{className:"lg:col-span-6",children:c?o.jsxs("div",{className:"card p-8 bg-white/95 backdrop-blur-sm shadow-xl border-0",children:[o.jsx("div",{className:"mb-6 pb-4 border-b border-secondary-200",children:o.jsx("h2",{className:"text-2xl font-bold text-secondary-900 mb-2",children:Us(d)})}),o.jsx("div",{className:"prose prose-base max-w-none",children:o.jsx("div",{className:"text-secondary-800 leading-relaxed text-base font-serif",style:{lineHeight:"1.8",fontFamily:'"Noto Serif SC", "Source Han Serif SC", "", serif',fontSize:"16px",letterSpacing:"0.3px",whiteSpace:"pre-wrap"},children:c.split(`

`).map((_,O)=>{const U=_.match(/^\d+\s*\[/);return _.trim()===""?null:o.jsx("p",{className:"mb-4",style:{textIndent:U?"0":"2em",marginBottom:"1.2em",textAlign:"justify"},children:_.trim()},O)})})})]}):o.jsxs("div",{className:"card p-12 text-center",children:[o.jsx(Lr,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600 mb-6",children:'""AI'}),o.jsx("div",{className:"text-sm text-secondary-500",children:" AI"})]})}),o.jsx("div",{className:"lg:col-span-3",children:o.jsxs("div",{className:"sticky top-8 space-y-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900 mb-4 flex items-center",children:[o.jsx(Mt,{className:"w-5 h-5 mr-2 text-primary-600"}),""]}),(()=>{var U;const _=Math.floor((d-1)/2),O=(U=s==null?void 0:s.savedMicroStories)==null?void 0:U[_];return O?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-primary-50 p-3 rounded-lg",children:[o.jsxs("h4",{className:"font-medium text-primary-900 mb-2",children:["",_+1,""]}),o.jsx("p",{className:"text-sm text-primary-800 font-medium mb-2",children:O.title}),o.jsx("div",{className:"text-xs text-primary-700 bg-white p-3 rounded border-l-2 border-primary-500 max-h-40 overflow-y-auto",children:O.content})]}),o.jsxs("div",{className:"text-xs text-secondary-500 space-y-1",children:[o.jsxs("p",{children:[" ",d,"",d+1,""]}),o.jsxs("p",{children:[" ",O.macroStoryTitle]}),o.jsxs("p",{children:[" ",O.order+1,""]})]})]}):o.jsxs("div",{className:"text-center py-8 text-secondary-500",children:[o.jsx(Mt,{className:"w-12 h-12 mx-auto mb-3 text-secondary-300"}),o.jsx("p",{className:"text-sm",children:""}),o.jsx("p",{className:"text-xs mt-1",children:""})]})})()]}),o.jsxs("div",{className:"card p-6",children:[o.jsx("h4",{className:"text-md font-semibold text-secondary-900 mb-3",children:""}),o.jsxs("div",{className:"text-sm text-secondary-600 space-y-2",children:[o.jsx("p",{children:" 2000-2200"}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),x&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-secondary-900 mt-3 mb-1",children:""}),o.jsxs("p",{className:"text-xs bg-secondary-50 p-2 rounded",children:[x.substring(0,100),"..."]})]})]})]})]})})]})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P?"":""}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P?"":""})]}),o.jsx("button",{onClick:()=>{L(!1),K(!1),F(null)},className:"text-gray-400 hover:text-gray-600",children:o.jsx("span",{className:"text-2xl",children:""})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s!=null&&s.savedMicroStories&&s.savedMicroStories.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.savedMicroStories.map((_,O)=>{const U=O*2+1,D=O*2+2,H=v[U]&&v[D],q=v[U]||v[D],X=z===U,re=P||!H;return o.jsxs("div",{className:`border rounded-lg p-4 transition-all cursor-pointer ${re?H&&P?"border-red-200 bg-red-50 hover:bg-red-100":H?"border-green-200 bg-green-50":q?"border-yellow-200 bg-yellow-50":X?"border-blue-300 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 bg-white hover:bg-gray-50":"border-gray-200 bg-gray-50 opacity-60"}`,onClick:()=>{re&&F(U)},children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["",O+1,""]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-1",children:_.title}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[o.jsxs("span",{children:["",U,"",D,""]}),o.jsx("span",{children:""}),o.jsx("span",{children:_.macroStoryTitle})]})]}),o.jsx("div",{className:"flex flex-col items-end space-y-1",children:H?o.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-xs font-medium",children:""})]}):q?o.jsxs("div",{className:"flex items-center space-x-1 text-yellow-600",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),o.jsx("span",{className:"text-xs font-medium",children:""})]}):o.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),o.jsx("span",{className:"text-xs",children:""})]})})]}),o.jsxs("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded max-h-16 overflow-hidden",children:[_.content.substring(0,80),"..."]}),re&&o.jsx("button",{onClick:le=>{le.stopPropagation(),F(U),L(!1),K(!1),ft(U,P)},className:`mt-3 w-full px-3 py-2 text-sm font-medium rounded transition-colors ${X?"bg-blue-600 text-white hover:bg-blue-700":P&&H?"bg-red-600 text-white hover:bg-red-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:P&&H?`${U}`:`${U}`})]},O)})}),z&&o.jsx("div",{className:`mt-6 p-4 border rounded-lg ${P?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-sm font-medium ${P?"text-red-900":"text-blue-900"}`,children:["",z,"",P?"":"",""]}),o.jsx("p",{className:`text-xs mt-1 ${P?"text-red-700":"text-blue-700"}`,children:P?`${z}`:`${z}`})]}),o.jsxs("button",{onClick:()=>{L(!1),K(!1),ft(z,P)},className:`px-4 py-2 text-white text-sm font-medium rounded hover:opacity-90 transition-colors ${P?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:["",P?"":"",""]})]})})]}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:""}),o.jsx("p",{className:"text-sm mt-1",children:""})]})})]})}),B&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),o.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("span",{className:"text-2xl",children:""})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s!=null&&s.savedVersions&&s.savedVersions.length>0?o.jsx("div",{className:"space-y-4",children:s.savedVersions.map(_=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Je,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-gray-900",children:[_.chapterCount,"  ",_.totalWords,""]}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(_.timestamp).toLocaleString()})]})]}),o.jsx("button",{onClick:()=>rt(_.id),className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:""})]}),o.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:o.jsx("p",{className:"line-clamp-2",children:_.preview})})]},_.id))}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{children:""})]})})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Je,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600 mb-4",children:""}),o.jsx("button",{onClick:e,className:"btn btn-primary",children:""})]})})}function _g(e){return`### ${e.title}


${e.logline}


${e.characters}


${e.world}


${e.hook}


${e.themes}`}function Mo(e){return e.replace(/```[\s\S]*?```/g,"").replace(/`([^`]*)`/g,"$1").replace(/\*\*([^*]*)\*\*/g,"$1").replace(/\*([^*]*)\*/g,"$1").replace(/^\s*#+\s*/gm,"").replace(/^\s*[-*+]\s+/gm,"").replace(/^\s*\d+\.\s+/gm,"").replace(/^\s*>\s+/gm,"").replace(/|||||||||||||||||||||||||||||||||||||||/g,"").replace(/\n{3,}/g,`

`).trim()}function Tg({onBack:e,onNavigateToWriter:t,setAutoFlowStep:n,setAutoFlowProgress:r}){const{currentProject:s,updateProject:l}=Xl(),[i,a]=R.useState(null),[c,u]=R.useState([]),[d,p]=R.useState({}),[g,N]=R.useState({}),[x,C]=R.useState({}),[v,h]=R.useState(!1),[f,m]=R.useState(null),j=$=>{const B=[],J=/[\d]+/g,M=[...$.matchAll(J)];if(M.length===0)return console.warn(""),[];for(let W=0;W<M.length;W++){const E=M[W],L=M[W+1],z=E.index+E[0].length,F=L?L.index:$.length,P=$.slice(z,F).trim();P.length>0&&B.push(P)}return console.log(":",B.length),console.log(":",B),B},y=async()=>{if(!s){alert("");return}try{const $=await be.generateDetailedOutline({outline:_g(s.outline),worldSetting:s.worldSetting||"",characters:s.characters||""});console.log(":",$.data),await l(s.id,{detailedOutline:$.data});const B=j($.data);u(B),p({}),await l(s.id,{microStoryOutlines:{}}),alert("")}catch($){console.error(":",$),alert("")}};R.useEffect(()=>{var $;if(console.log("StoryStructurePage useEffect triggered, currentProject:",{id:s==null?void 0:s.id,hasDetailedOutline:!!(s!=null&&s.detailedOutline),hasMicroStoryOutlines:!!(s!=null&&s.microStoryOutlines),microStoryOutlinesKeys:s!=null&&s.microStoryOutlines?Object.keys(s.microStoryOutlines):[],savedMicroStoriesCount:(($=s==null?void 0:s.savedMicroStories)==null?void 0:$.length)||0}),s!=null&&s.detailedOutline){const B=j(s.detailedOutline);u(B),console.log(":",B.length,"")}s!=null&&s.microStoryOutlines?(p(s.microStoryOutlines),console.log(":",Object.keys(s.microStoryOutlines))):console.log("microStoryOutlines"),s!=null&&s.savedMicroStories?console.log(":",s.savedMicroStories.length,""):console.log("savedMicroStories")},[s==null?void 0:s.id,s==null?void 0:s.detailedOutline,s==null?void 0:s.microStoryOutlines,s==null?void 0:s.savedMicroStories]),R.useEffect(()=>{localStorage.getItem("story-architect-auto-flow")==="story-structure"&&s&&c.length>=3&&(console.log("3"),localStorage.removeItem("story-architect-auto-flow"),n&&n('"3"...'),r&&r(95),setTimeout(()=>{I()},1e3))},[s,c,n,r]);const w=$=>["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""][$-1]||$.toString(),k=$=>{const J=$*20+1,M=($+1)*20;return{startChapter:J,endChapter:M}},b=$=>{if($===0)return!0;const B=`story_${$-1}`;return!!d[B]},A=async($,B)=>{if(!b($)){alert("");return}const J=`story_${$}`;N(M=>({...M,[J]:!0}));try{const M=w($+1),W=k($),E=await be.generateMicroStories({macroStory:B,storyIndex:M,chapterRange:`${W.startChapter}-${W.endChapter}`});console.log(`${M} (: ${W.startChapter}-${W.endChapter})`);const L={...d,[J]:E.data};p(L),s&&l(s.id,{microStoryOutlines:L})}catch(M){console.error(`${$+1}:`,M),alert(`${$+1}`)}finally{N(M=>({...M,[J]:!1}))}},I=async()=>{var $;if(!s){alert("");return}if(c.length<3){alert("3");return}try{const B=(($=s.savedMicroStories)==null?void 0:$.length)||0,J=Math.floor(B/10),M=J,W=c.length-M;if(W<=0){alert(` ${B} `);return}const E=Math.min(3,W),L=c.slice(M,M+E);h(!0),m({current:0,total:E,currentStory:"..."}),console.log(` ${B}  ${J} `),console.log(` ${M+1}  ${M+E} `);let z={...d},F=s.savedMicroStories||[];for(let P=0;P<L.length;P++){const K=M+P,ne=L[P],oe=`story_${K}`;if(m({current:P+1,total:E,currentStory:` ${K+1} ...`}),!z[oe]){const we=w(K+1),rt=k(K),dt=await be.generateMicroStories({macroStory:ne,storyIndex:we,chapterRange:`${rt.startChapter}-${rt.endChapter}`});console.log(`${we}`),z={...z,[oe]:dt.data},l(s.id,{microStoryOutlines:z})}m({current:P+1,total:3,currentStory:` ${K+1} ...`});const ce=z[oe];if(ce){const dt=(Qe=>{const st=[],pn=/[\d]+/g,Et=[...Qe.matchAll(pn)];for(let ft=0;ft<Et.length;ft++){const hn=Et[ft],gn=Et[ft+1],An=hn.index+hn[0].length,Fn=gn?gn.index:Qe.length,V=Qe.slice(An,Fn).trim();V.length>0&&st.push(V)}return st})(ce).map((Qe,st)=>({id:`${oe}_micro_${st}_${Date.now()}_${Math.random()}`,title:` ${w(st+1)}`,content:Mo(Qe),macroStoryId:oe,macroStoryTitle:` ${K+1}`,macroStoryContent:ne,order:st,createdAt:new Date().toISOString()}));F=[...F.filter(Qe=>Qe.macroStoryId!==oe),...dt]}}p(z),l(s.id,{savedMicroStories:F}),m({current:E,total:E,currentStory:"..."}),localStorage.setItem("story-architect-auto-flow","writer"),setTimeout(()=>{console.log(""),t==null||t()},2e3)}catch(B){console.error(":",B),alert("")}finally{h(!1),m(null)}},Q=$=>{const B=`story_${$}`;C(J=>({...J,[B]:!J[B]}))},Z=($,B)=>{if(!s){alert("");return}const J=`story_${$}`,M=d[J];if(!M){alert("");return}const L=(ce=>{const we=[],rt=/[\d]+/g,dt=[...ce.matchAll(rt)];for(let Pt=0;Pt<dt.length;Pt++){const Qe=dt[Pt],st=dt[Pt+1],pn=Qe.index+Qe[0].length,Et=st?st.index:ce.length,ft=ce.slice(pn,Et).trim();ft.length>0&&we.push(ft)}return we})(M).map((ce,we)=>({id:`${J}_micro_${we}_${Date.now()}`,title:` ${w(we+1)}`,content:Mo(ce),macroStoryId:J,macroStoryTitle:` ${$+1}`,macroStoryContent:B,order:we,createdAt:new Date().toISOString()})),z=s.savedMicroStories||[],F=z.filter(ce=>ce.macroStoryId!==J),P=z.length-F.length,K=P>0,ne=[...F,...L];l(s.id,{savedMicroStories:ne});const oe=K?` ${L.length}  ${P} `:` ${L.length} `;alert(oe)};return s?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>e("world-setting"),className:"p-2 bg-secondary-100 hover:bg-secondary-200 rounded-lg transition-colors",children:o.jsx(ba,{className:"w-5 h-5 text-secondary-600"})}),o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx($h,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:""})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-3 py-1.5 bg-orange-100 hover:bg-orange-200 rounded-lg text-orange-700 text-sm font-medium transition-colors",title:"",children:[o.jsx(Ph,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:I,disabled:v||c.length<3,className:"flex items-center space-x-2 px-3 py-1.5 bg-purple-100 hover:bg-purple-200 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-purple-700 text-sm font-medium transition-colors",title:"3",children:v?o.jsxs(o.Fragment,{children:[o.jsx(Cn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"..."})]}):(()=>{var E;const $=((E=s==null?void 0:s.savedMicroStories)==null?void 0:E.length)||0,B=Math.floor($/10),J=B+1,M=Math.min(B+3,c.length);return Math.max(0,c.length-B)===0?o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsxs("span",{children:["",J,"-",M,""]})]})})()}),f&&o.jsxs("div",{className:"flex items-center space-x-2 text-purple-700 bg-purple-50 px-3 py-1.5 rounded-lg",children:[o.jsx(Cn,{className:"w-4 h-4 animate-spin"}),o.jsxs("span",{className:"text-sm",children:[f.currentStory," (",f.current,"/",f.total,")"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:[": ",s.bookName]})]})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(s==null?void 0:s.savedMicroStories)&&s.savedMicroStories.length>0&&o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"card p-8 bg-gradient-to-br from-primary-50 via-white to-secondary-50 border-2 border-primary-100",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[o.jsx("div",{className:"p-3 bg-primary-100 rounded-full",children:o.jsx(Ae,{className:"w-8 h-8 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-secondary-900",children:" "}),o.jsx("p",{className:"text-secondary-600",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:s.savedMicroStories.length}),o.jsx("div",{className:"text-sm text-secondary-600",children:""}),o.jsxs("div",{className:"text-xs text-secondary-400 mt-1",children:[" ",s.savedMicroStories.length*2," "]})]}),o.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:s.savedMicroStories.length*4400}),o.jsx("div",{className:"text-sm text-secondary-600",children:""}),o.jsxs("div",{className:"text-xs text-secondary-400 mt-1",children:["",Math.round(s.savedMicroStories.length*4400/1e3),""]})]}),o.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"AI"}),o.jsx("div",{className:"text-sm text-secondary-600",children:""}),o.jsx("div",{className:"text-xs text-secondary-400 mt-1",children:""})]})]}),o.jsxs("button",{onClick:t,className:"inline-flex items-center space-x-4 px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:[o.jsx(Lr,{className:"w-6 h-6"}),o.jsx("span",{children:""}),o.jsx(Ae,{className:"w-5 h-5"})]}),o.jsx("div",{className:"mt-4 text-sm text-secondary-500",children:" AI"})]})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsx("div",{className:"lg:col-span-4 space-y-4",children:o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Je,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.map(($,B)=>{const J=k(B),M=!!d[`story_${B}`],W=b(B),E=g[`story_${B}`];return o.jsx("div",{onClick:()=>W&&a($),className:`p-4 rounded-lg border transition-all ${W?i===$?"border-primary-300 bg-primary-50 cursor-pointer":"border-secondary-200 hover:border-secondary-300 hover:bg-secondary-50 cursor-pointer":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("h3",{className:`font-medium mb-1 ${W?"text-secondary-900":"text-secondary-500"}`,children:[" ",B+1]}),o.jsxs("span",{className:"text-xs text-secondary-400 bg-secondary-100 px-2 py-1 rounded",children:["",J.startChapter,"-",J.endChapter,""]})]}),o.jsxs("div",{className:"text-xs mb-1 text-secondary-400",children:[w(B+1),""]}),o.jsxs("p",{className:`text-sm line-clamp-3 mb-2 ${W?"text-secondary-600":"text-secondary-500"}`,children:[$.substring(0,100),"..."]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-2",children:M?o.jsxs("span",{className:"text-xs text-green-600 flex items-center",children:[o.jsx(tr,{className:"w-3 h-3 mr-1"}),""]}):W?o.jsx("span",{className:"text-xs text-blue-500",children:""}):o.jsx("span",{className:"text-xs text-secondary-500",children:""})}),E&&o.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[o.jsx(Cn,{className:"w-3 h-3 mr-1 animate-spin"}),""]})]})]}),o.jsx(Ea,{className:`w-5 h-5 mt-1 ${W?"text-secondary-400":"text-secondary-300"}`})]})},B)})})]})}),o.jsx("div",{className:"lg:col-span-8",children:i?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-secondary-900",children:[" ",c.indexOf(i)+1," "]}),o.jsx("button",{onClick:()=>A(c.indexOf(i),i),disabled:g[`story_${c.indexOf(i)}`],className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g[`story_${c.indexOf(i)}`]?o.jsxs(o.Fragment,{children:[o.jsx(Cn,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Bc,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]}),o.jsx("div",{className:"prose prose-sm max-w-none",children:o.jsx("div",{className:"whitespace-pre-wrap text-secondary-700 leading-relaxed",children:i})})]}),o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:" (10)"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>Z(c.indexOf(i),i),className:"flex items-center space-x-2 px-3 py-1.5 bg-green-100 hover:bg-green-200 text-green-700 rounded-md text-sm font-medium",title:"",children:[o.jsx(Bc,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsx("button",{onClick:()=>Q(c.indexOf(i)),className:"flex items-center space-x-2 px-3 py-1.5 bg-secondary-100 text-secondary-700 rounded-md text-sm hover:bg-secondary-200",children:x[`story_${c.indexOf(i)}`]?o.jsxs(o.Fragment,{children:[o.jsx(Rh,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Sf,{className:"w-4 h-4"}),o.jsx("span",{children:""})]})})]})]}),(()=>{const B=`story_${c.indexOf(i)}`,J=d[B],M=x[B];if(!J)return o.jsxs("div",{className:"text-center py-8 text-secondary-500",children:[o.jsx(Mt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:""}),o.jsx("p",{className:"text-sm mt-1",children:'""'})]});const E=(L=>{const z=[],F=/[\d]+/g,P=[...L.matchAll(F)];for(let K=0;K<P.length;K++){const ne=P[K],oe=P[K+1],ce=ne.index+ne[0].length,we=oe?oe.index:L.length,rt=L.slice(ce,we).trim();rt.length>0&&z.push(rt)}return z})(J);return o.jsx("div",{className:"space-y-4",children:E.map((L,z)=>o.jsx("div",{className:`border border-secondary-200 rounded-lg p-4 transition-all ${M?"":"max-h-24 overflow-hidden"}`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 text-primary-700 rounded-full flex items-center justify-center text-sm font-medium",children:z+1}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-secondary-900 mb-2",children:[" ",w(z+1)]}),o.jsx("div",{className:`text-sm text-secondary-700 leading-relaxed whitespace-pre-wrap ${M?"":"line-clamp-3"}`,children:Mo(L)})]})]})},z))})})()]})]}):o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Mt,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:""})]})})]})]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Je,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600 mb-4",children:""}),o.jsx("button",{onClick:()=>e("world-setting"),className:"btn btn-primary",children:""})]})})}function Rg(e){return Mg(e)}function Mg(e){const t=[];return e.split(/(?=### \d+)/).forEach((r,s)=>{if(!r.trim()||!r.includes("### "))return;const l={id:s+1,title:"",logline:"",hook:"",characters:"",world:"",themes:"",rawContent:r},i=r.match(/### \d+(.+)/);i&&(l.title=i[1].trim());const a=r.split(`
`);let c="";a.forEach(u=>{const d=u.trim();if(d==="")c="logline";else if(d==="")c="characters";else if(d==="")c="world";else if(d==="")c="hook";else if(d==="")c="themes";else if(c&&d&&!d.includes("")&&d.length>1){const p=d.replace(/\*\*/g,"").replace(/[]/g,"").trim();if(p)switch(c){case"logline":l.logline+=(l.logline?" ":"")+p;break;case"hook":l.hook+=(l.hook?`
`:"")+p;break;case"characters":l.characters+=(l.characters?`
`:"")+p;break;case"world":l.world+=(l.world?`
`:"")+p;break;case"themes":l.themes+=(l.themes?`
`:"")+p;break}}}),l.title&&t.push(l)}),t}function $g(){const{createProject:e,updateProject:t}=Xl(),[n,r]=R.useState(!1),[s,l]=R.useState([]),[i,a]=R.useState(""),c=R.useRef(!0);R.useEffect(()=>(c.current=!0,()=>{c.current=!1}),[]);const u=(f,m)=>`auto_gen_${f}_${m}`,d=(f,m)=>{try{const j=u(f,m),y=localStorage.getItem(j);if(y){const w=JSON.parse(y);if(Date.now()-w.timestamp<24*60*60*1e3)return w.data;localStorage.removeItem(j)}}catch(j){console.error(":",j)}return null},p=(f,m,j)=>{try{const y=u(f,m),w={data:j,timestamp:Date.now()};localStorage.setItem(y,JSON.stringify(w))}catch(y){console.error(":",y)}},g=f=>{try{Object.keys(localStorage).filter(j=>j.startsWith(`auto_gen_${f}_`)).forEach(j=>localStorage.removeItem(j))}catch(m){console.error(":",m)}},N=R.useCallback((f,m)=>{l(j=>j.map(y=>y.id===f?{...y,...m}:y))},[]),x=R.useCallback(()=>{l([{id:"import-outline",label:"",status:"pending"},{id:"generate-world",label:"",status:"pending"},{id:"generate-characters",label:"",status:"pending"},{id:"generate-outline",label:"",status:"pending"},{id:"save-project",label:"",status:"pending"},{id:"micro-stories",label:"",status:"pending"},{id:"select-stories",label:"",status:"pending"},{id:"complete",label:"",status:"pending"}])},[]),C=f=>`### ${f.title}


${f.logline}


${f.characters}


${f.world}


${f.hook}


${f.themes}`,v=R.useCallback(async(f,m,j,y)=>{var w,k;r(!0),x();try{g(m),N("import-outline",{status:"running",message:"..."}),a("..."),await new Promise(F=>setTimeout(F,1e3)),N("import-outline",{status:"completed",message:""});const b=C(f);N("generate-world",{status:"running",message:"..."}),a("...");let A;const I=d(m,"world-setting");I?(A={data:I},N("generate-world",{status:"completed",message:""})):(A=await be.generateWorldSetting({outline:b}),p(m,"world-setting",A.data),N("generate-world",{status:"completed",message:""})),N("generate-characters",{status:"running",message:"..."}),a("...");let Q;const Z=d(m,"characters");Z?(Q={data:Z},N("generate-characters",{status:"completed",message:""})):(Q=await be.generateCharacters({outline:b,worldSetting:A.data}),p(m,"characters",Q.data),N("generate-characters",{status:"completed",message:""})),N("generate-outline",{status:"running",message:"..."}),a("...");let $;const B=d(m,"detailed-outline");B?($={data:B},N("generate-outline",{status:"completed",message:""})):($=await be.generateDetailedOutline({outline:b,worldSetting:A.data,characters:Q.data}),p(m,"detailed-outline",$.data),N("generate-outline",{status:"completed",message:""})),N("save-project",{status:"running",message:"..."}),a("...");const J=e(m,f,{worldSetting:A.data,characters:Q.data,detailedOutline:$.data});N("save-project",{status:"completed",message:""}),N("micro-stories",{status:"running",message:"..."}),a("...");let M=[];const W=d(m,"micro-stories");if(W)M=W,N("micro-stories",{status:"completed",message:` ${M.length} `});else{const F=Lg($.data);if(console.log(` ${F.length} `,F.map(K=>K.title)),F.length===0){console.error(""),console.error(":",$.data.length),console.error(" (1000):",$.data.substring(0,1e3));const ne=$.data.split(`
`).filter(oe=>oe.includes("")||oe.includes("")||oe.match(/^\d+[\.\s]/)||oe.match(/^[]+[\.\s]/)||oe.match(/[\d]+/));throw console.error(":",ne.slice(0,10)),N("micro-stories",{status:"error",message:""}),new Error("AI")}const P=F[0];if(!P||!P.content)throw console.error(""),N("micro-stories",{status:"error",message:""}),new Error("");a(`${P.title}...`),console.log(`: ${P.title}`),console.log(`: ${P.content.length}`);try{const K=await be.generateMicroStories({macroStory:P.content,storyIndex:""});console.log("API:",((w=K.data)==null?void 0:w.length)||0);const ne=Pg(K.data,0,P.title,P.content);if(console.log(` ${ne.length} `),ne.length===0)throw console.error(""),N("micro-stories",{status:"error",message:"AI"}),new Error("");M=ne,N("micro-stories",{progress:100,message:` ${M.length} `})}catch(K){throw console.error(":",K),N("micro-stories",{status:"error",message:`: ${K instanceof Error?K.message:""}`}),K}console.log(` ${M.length} `),p(m,"micro-stories",M),N("micro-stories",{status:"completed",message:` ${M.length} `})}const L={story_0:M.map((F,P)=>`${P+1}${F.title}

${F.content}`).join(`

---

`)};c.current&&(t(J.id,{savedMicroStories:M,microStoryOutlines:L}),console.log(":",{savedMicroStoriesCount:M.length,microStoryOutlinesKeys:Object.keys(L),firstOutlineLength:((k=L.story_0)==null?void 0:k.length)||0})),N("select-stories",{status:"running",message:"..."}),a("...");const z=M.slice(0,4);c.current&&t(J.id,{selectedMicroStories:z,autoSelectedStories:!0}),console.log(` ${z.length} :`,z.map(F=>F.title)),await new Promise(F=>setTimeout(F,1e3)),N("select-stories",{status:"completed",message:` ${z.length} `}),N("complete",{status:"completed",message:"..."}),a("..."),await new Promise(F=>setTimeout(F,2e3)),console.log("ID:",J.id),j(J.id,!1)}catch(b){console.error(":",b);const A=s.find(I=>I.status==="running");A&&N(A.id,{status:"error",message:b instanceof Error?b.message:""}),y(b instanceof Error?b.message:"")}finally{r(!1)}},[e,t,N,x,s]),h=R.useCallback(()=>{c.current&&(r(!1),l([]),a(""))},[]);return{isAutoGenerating:n,steps:s,currentStepMessage:i,startAutoGeneration:v,cancelAutoGeneration:h}}function Lg(e){const t=[],n=e.split(`
`);let r=null;for(const s of n){const l=s.match(/(?:([\d]+)|\[([\d]+)\]|([\d]+)[:]|(\d+)\.\s*([^\[]+)|([\d]+)[\.\s]+([^\[]+))/);if(l){r&&t.push({title:r.title,content:r.content.join(`
`)});let i="";if(l[1]||l[2]||l[3]){const a=l[1]||l[2]||l[3];s.includes("")?i=s.replace(/[\d]+/,"").trim():s.includes("[")?i=s.replace(/\[[\d]+\]/,"").trim():s.includes("")&&(i=s.replace(/[\d]+[:]/,"").trim()),i.trim()||(i=`${a}`)}else l[4]&&l[5]?i=l[5].trim():l[6]&&l[7]?i=l[7].trim():i=s.replace(/?\[?[\d]*?\]?\s*[:]?\s*/,"").trim();r={title:i,content:[]},console.log(`: ${i} (: ${s.trim()})`)}else r&&s.trim()&&!s.match(/^===/)&&!s.match(/^---/)&&!s.match(/^[\*\-\s]*$/)&&!s.match(/^\d+\.$/)&&!s.match(/^[]+\.$/)&&r.content.push(s)}if(r&&t.push({title:r.title,content:r.content.join(`
`)}),console.log(` ${t.length} :`),t.forEach((s,l)=>{console.log(`${l+1}. ${s.title} (${s.content.length} )`)}),t.length===0){console.error(":"),console.error(e.substring(0,1e3));const s=n.filter(l=>l.includes("")||l.includes("")||l.match(/^\d+[\.\s]/)||l.match(/^[]+[\.\s]/));console.error(":",s.slice(0,10))}return t}function Pg(e,t,n,r){var c,u;const s=[],l=e.split(`
`);let i=null,a=0;for(const d of l){const p=d.match(/(?:([\d]+)|([\d]+)[:])(.+)/);p?(i&&(s.push({id:`micro_${t}_${a}`,title:i.title,content:i.content.join(`
`).trim(),macroStoryId:`macro_${t}`,macroStoryTitle:n,macroStoryContent:r,order:a,createdAt:new Date().toISOString()}),a++),i={title:((c=p[3])==null?void 0:c.trim())||((u=p[2])==null?void 0:u.trim())||d.replace(/?[\d]+?[:]?/,"").trim(),content:[]}):i&&d.trim()&&i.content.push(d)}return i&&s.push({id:`micro_${t}_${a}`,title:i.title,content:i.content.join(`
`).trim(),macroStoryId:`macro_${t}`,macroStoryTitle:n,macroStoryContent:r,order:a,createdAt:new Date().toISOString()}),console.log(` ${s.length} SavedMicroStory`),s}function Ig({onNavigate:e}){const[t,n]=R.useState(null),[r,s]=R.useState([]),[l,i]=R.useState(""),[a,c]=R.useState(""),[u,d]=R.useState(!1),[p,g]=R.useState([]),[N,x]=R.useState(0),[C,v]=R.useState(null),[h,f]=R.useState(!1),{isAutoGenerating:m,steps:j,currentStepMessage:y,cancelAutoGeneration:w}=$g(),k=async()=>{if(!t||r.length===0||!l.trim()){v("");return}d(!0),v(null);try{localStorage.removeItem("story-architect-current-outline");const Z=await be.generateOutline({channel:`${t.name}`,style:r.map(B=>B.name).join(""),theme:l.trim()}),$=Rg(Z.data);if($.length===0)throw new Error("");g($),x(0)}catch(Z){console.error(":",Z),v(Z instanceof Error?Z.message:"")}finally{d(!1)}},b=()=>{x(Z=>(Z+1)%p.length)},A=()=>{x(Z=>(Z-1+p.length)%p.length)},I=Z=>{g([Z]),x(0)},Q=async()=>{if(!t||r.length===0||!l.trim()||!p.length){v("");return}if(!a.trim()){v("");return}v(null);try{localStorage.setItem("story-architect-auto-flow","start"),localStorage.setItem("story-architect-book-name",a.trim()),e("world-setting",p[N])}catch(Z){console.error(":",Z),v("")}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-secondary-200 sticky top-0 z-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(Je,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-secondary-900",children:""}),o.jsx("p",{className:"text-sm text-secondary-600",children:"AI "})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-3 py-1.5 bg-secondary-100 hover:bg-secondary-200 rounded-lg text-secondary-700 text-sm font-medium transition-colors",children:[o.jsx(as,{className:"w-4 h-4"}),o.jsx("span",{children:""})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[o.jsx(Ae,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Powered by Gemini 3 Pro"})]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsx("div",{className:"lg:col-span-4 space-y-6",children:o.jsxs("div",{className:"card p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Ei,{className:"w-5 h-5 text-primary-600"}),o.jsx("h2",{className:"text-lg font-semibold text-secondary-900",children:""})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Uh,{selectedCategory:t,onSelectCategory:n}),o.jsx(Bh,{selectedStyles:r,onChangeSelectedStyles:s}),o.jsx(Gh,{value:l,onChange:i}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-secondary-700",children:[" ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:a,onChange:Z=>c(Z.target.value),placeholder:"",className:"w-full px-3 py-2 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-secondary-500",children:""})]}),C&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:C}),o.jsx(Hh,{onClick:k,disabled:!t||r.length===0||!l.trim()||u,isLoading:u}),p.length>0&&o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-secondary-300 to-transparent mb-4"}),o.jsx("p",{className:"text-sm text-secondary-600 mb-4",children:""})]}),o.jsxs("button",{onClick:Q,disabled:!a.trim(),className:`w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center space-x-3 ${a.trim()?"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white":"bg-secondary-300 text-secondary-500 cursor-not-allowed"}`,children:[o.jsx(Ae,{className:"w-6 h-6"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold",children:""}),o.jsx("div",{className:"text-sm opacity-90",children:""})]})]}),o.jsxs("div",{className:"text-xs text-secondary-500 space-y-1",children:[o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "}),o.jsx("p",{children:" "})]})]}),p.length>0&&o.jsxs("button",{onClick:()=>e("world-setting",p[N]),className:"w-full btn btn-secondary py-3 flex items-center justify-center space-x-2",children:[o.jsx(Je,{className:"w-5 h-5"}),o.jsx("span",{children:""})]})]})]})}),o.jsx("div",{className:"lg:col-span-8",children:u?o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Qh,{}),o.jsx("p",{className:"text-secondary-600 mt-4",children:"..."})]}):p.length>0?o.jsxs("div",{className:"space-y-6",children:[o.jsx(Kh,{currentIndex:N,total:p.length,onPrev:A,onNext:b}),o.jsx(Wh,{outline:p[N],className:"animate-fade-in"})]}):o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx(Je,{className:"w-16 h-16 text-secondary-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:""}),o.jsx("p",{className:"text-secondary-600",children:"AI"})]})})]})}),o.jsx(qh,{isOpen:h,onClose:()=>f(!1),onLoadOutline:I}),o.jsx(Jh,{steps:j,isVisible:m,onCancel:w,currentStepMessage:y})]})}function zg(){const[e,t]=R.useState("blueprint"),[n,r]=R.useState(null);R.useEffect(()=>{try{const i=localStorage.getItem("story-architect-current-outline");if(i){const a=JSON.parse(i);r(a)}}catch(i){console.error("Failed to load current outline:",i)}},[]);const s=(i,a,c)=>{i==="world-setting"&&a?(r(a),localStorage.setItem("story-architect-current-outline",JSON.stringify(a)),t("world-setting")):i==="story-structure"?t("story-structure"):i==="writer"?c?(console.log(""),t("story-structure")):t("writer"):(t("blueprint"),r(null),localStorage.removeItem("story-architect-current-outline"))},l=i=>{i==="world-setting"?t("world-setting"):(t("blueprint"),r(null),localStorage.removeItem("story-architect-current-outline"))};return o.jsx(Vh,{children:o.jsx(bg,{children:e==="blueprint"?o.jsx(Ig,{onNavigate:s}):e==="world-setting"?o.jsx(Eg,{onBack:l,onNavigateToStructure:()=>s("story-structure"),selectedOutline:n}):e==="story-structure"?o.jsx(Tg,{onBack:l,onNavigateToWriter:()=>t("writer")}):o.jsx(Og,{onBack:()=>t("story-structure")})})})}$o.createRoot(document.getElementById("root")).render(o.jsx(pm.StrictMode,{children:o.jsx(zg,{})}));
